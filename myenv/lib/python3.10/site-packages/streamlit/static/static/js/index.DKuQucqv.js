const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./data-grid-overlay-editor.Bmwj5hpO.js","./index.tKq1MI69.js","../css/index.mUTQuMqR.css","./FormClearHelper.DIqStDSC.js","./withFullScreenWrapper.CxwAGKxw.js","./Toolbar.BoEGZzA9.js","./mergeWith.f6Kft-5Z.js","./sprintf.C-r3gIuM.js","./createDownloadLinkElement.DZMwyjvU.js","./toConsumableArray.DQqlREco.js","./possibleConstructorReturn.qegzsZMz.js","./createSuper.CbcwIu3D.js","./FileDownload.esm.D-fMSdY_.js","./number-overlay-editor.Gl04bci-.js","./es6.BDFw5Tp4.js"])))=>i.map(i=>d[i]);
var Wf=Object.defineProperty;var Uf=(e,t,n)=>t in e?Wf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var dt=(e,t,n)=>Uf(e,typeof t!="symbol"?t+"":t,n);import{r as g,E as uc,_ as tt,g as Mi,c as Xf,R as ee,i as is,p as Yf,d as Bs,e as Gf,f as jf,h as cc,t as dc,l as qf,m as fc,o as Kf,q as Zf,s as Jf,u as Qf,v as eh,a as dr,w as Ws,x as $l,n as fo,y as Da,j as Qt,z as Hr,F as th,D as Vo,A as hc,B as gc,C as wr,G as mc,H as pc,I as nh,J as rh,K as nt,L as vc,M as Ms,N as St,O as Zr,Q as ih,S as Vl,T as bc,U as oh,V as ah,W as sh,X as Rs,Y as wc,Z as lh,$ as uh,a0 as ch,a1 as dh,a2 as fh,a3 as hh,a4 as gh,a5 as mh,a6 as ph,a7 as vh,a8 as bh,a9 as yc,aa as wh,ab as yh,ac as Ch,ad as Sh,ae as xh,af as kh,ag as Mh,ah as Rh,ai as Eh,aj as Ih,ak as Th,al as Dh,am as Yn,an as Cc,ao as Oh,ap as qi,aq as Ph,k as _h,ar as Lh,as as Be,b as Sc,at as xc,au as Fh,av as Ah,aw as Hh,ax as zh,ay as $h,az as os,aA as Vh,aB as kc,aC as Nh,aD as as,aE as Bh,aF as Wh,aG as Uh,aH as Xh}from"./index.tKq1MI69.js";import{u as Yh}from"./FormClearHelper.DIqStDSC.js";import{w as Gh,u as jh,E as qh}from"./withFullScreenWrapper.CxwAGKxw.js";import{T as Kh,a as Wi}from"./Toolbar.BoEGZzA9.js";import{m as Zh}from"./mergeWith.f6Kft-5Z.js";import{s as Jh}from"./sprintf.C-r3gIuM.js";import{c as Qh}from"./createDownloadLinkElement.DZMwyjvU.js";import{_ as Sr,a as Us,C as eg}from"./toConsumableArray.DQqlREco.js";import{_ as tg,a as ng,b as rg}from"./possibleConstructorReturn.qegzsZMz.js";import{_ as ig}from"./createSuper.CbcwIu3D.js";import{D as og,F as ag}from"./FileDownload.esm.D-fMSdY_.js";var Mc=g.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return g.createElement(uc,tt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),g.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),g.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}))});Mc.displayName="Add";var Rc=g.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return g.createElement(uc,tt({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),g.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),g.createElement("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))});Rc.displayName="Search";function Ec(e="This should not happen"){throw new Error(e)}function An(e,t="Assertion failed"){if(!e)return Ec(t)}function ao(e,t){return Ec(t??"Hell froze over")}function sg(e,t){try{return e()}catch{return t}}const Nl=Object.prototype.hasOwnProperty;function xi(e,t){let n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&xi(e[i],t[i]););return i===-1}if(!n||typeof e=="object"){i=0;for(n in e)if(Nl.call(e,n)&&++i&&!Nl.call(t,n)||!(n in t)||!xi(e[n],t[n]))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}var lg=Object.prototype,ug=lg.hasOwnProperty;function cg(e,t){return e!=null&&ug.call(e,t)}var dg=cg,fg=dg,hg=Xf;function gg(e,t){return e!=null&&hg(e,t,fg)}var mg=gg;const pg=Mi(mg),ca=null,Xs=void 0;var Z;(function(e){e.Uri="uri",e.Text="text",e.Image="image",e.RowID="row-id",e.Number="number",e.Bubble="bubble",e.Boolean="boolean",e.Loading="loading",e.Markdown="markdown",e.Drilldown="drilldown",e.Protected="protected",e.Custom="custom"})(Z||(Z={}));var Bl;(function(e){e.HeaderRowID="headerRowID",e.HeaderCode="headerCode",e.HeaderNumber="headerNumber",e.HeaderString="headerString",e.HeaderBoolean="headerBoolean",e.HeaderAudioUri="headerAudioUri",e.HeaderVideoUri="headerVideoUri",e.HeaderEmoji="headerEmoji",e.HeaderImage="headerImage",e.HeaderUri="headerUri",e.HeaderPhone="headerPhone",e.HeaderMarkdown="headerMarkdown",e.HeaderDate="headerDate",e.HeaderTime="headerTime",e.HeaderEmail="headerEmail",e.HeaderReference="headerReference",e.HeaderIfThenElse="headerIfThenElse",e.HeaderSingleValue="headerSingleValue",e.HeaderLookup="headerLookup",e.HeaderTextTemplate="headerTextTemplate",e.HeaderMath="headerMath",e.HeaderRollup="headerRollup",e.HeaderJoinStrings="headerJoinStrings",e.HeaderSplitString="headerSplitString",e.HeaderGeoDistance="headerGeoDistance",e.HeaderArray="headerArray",e.RowOwnerOverlay="rowOwnerOverlay",e.ProtectedColumnOverlay="protectedColumnOverlay"})(Bl||(Bl={}));var da;(function(e){e.Triangle="triangle",e.Dots="dots"})(da||(da={}));function No(e){return"width"in e&&typeof e.width=="number"}async function Wl(e){return typeof e=="object"?e:await e()}function vi(e){return!(e.kind===Z.Loading||e.kind===Z.Bubble||e.kind===Z.RowID||e.kind===Z.Protected||e.kind===Z.Drilldown)}function wi(e){return e.kind===jn.Marker||e.kind===jn.NewRow}function Ki(e){if(!vi(e)||e.kind===Z.Image)return!1;if(e.kind===Z.Text||e.kind===Z.Number||e.kind===Z.Markdown||e.kind===Z.Uri||e.kind===Z.Custom||e.kind===Z.Boolean)return e.readonly!==!0;ao(e,"A cell was passed with an invalid kind")}function vg(e){return pg(e,"editor")}function Ys(e){return!(e.readonly??!1)}var jn;(function(e){e.NewRow="new-row",e.Marker="marker"})(jn||(jn={}));function bg(e){if(e.length===0)return[];const t=[...e],n=[];t.sort(function(i,r){return i[0]-r[0]}),n.push([...t[0]]);for(const i of t.slice(1)){const r=n[n.length-1];r[1]<i[0]?n.push([...i]):r[1]<i[1]&&(r[1]=i[1])}return n}let Ul;const yr=class yr{constructor(t){dt(this,"items");this.items=t}offset(t){if(t===0)return this;const n=this.items.map(i=>[i[0]+t,i[1]+t]);return new yr(n)}add(t){const n=typeof t=="number"?[t,t+1]:t,i=bg([...this.items,n]);return new yr(i)}remove(t){const n=[...this.items],i=typeof t=="number"?t:t[0],r=typeof t=="number"?t+1:t[1];for(const[o,a]of n.entries()){const[s,l]=a;if(s<=r&&i<=l){const u=[];s<i&&u.push([s,i]),r<l&&u.push([r,l]),n.splice(o,1,...u)}}return new yr(n)}first(){if(this.items.length!==0)return this.items[0][0]}last(){if(this.items.length!==0)return this.items.slice(-1)[0][1]-1}hasIndex(t){for(let n=0;n<this.items.length;n++){const[i,r]=this.items[n];if(t>=i&&t<r)return!0}return!1}hasAll(t){for(let n=t[0];n<t[1];n++)if(!this.hasIndex(n))return!1;return!0}some(t){for(const n of this)if(t(n))return!0;return!1}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(let n=0;n<this.items.length;n++){const i=t.items[n],r=this.items[n];if(i[0]!==r[0]||i[1]!==r[1])return!1}return!0}toArray(){const t=[];for(const[n,i]of this.items)for(let r=n;r<i;r++)t.push(r);return t}get length(){let t=0;for(const[n,i]of this.items)t+=i-n;return t}*[Symbol.iterator](){for(const[t,n]of this.items)for(let i=t;i<n;i++)yield i}};dt(yr,"empty",()=>Ul??(Ul=new yr([]))),dt(yr,"fromSingleSelection",t=>yr.empty().add(t));let wt=yr;var wg=function(){const t=Array.prototype.slice.call(arguments).filter(Boolean),n={},i=[];t.forEach(o=>{(o?o.split(" "):[]).forEach(s=>{if(s.startsWith("atm_")){const[,l]=s.split("_");n[l]=s}else i.push(s)})});const r=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.push(n[o]);return r.push(...i),r.join(" ")},Xl=wg,yg=e=>e.toUpperCase()===e,Cg=e=>t=>e.indexOf(t)===-1,Ic=(e,t)=>{const n={};return Object.keys(e).filter(Cg(t)).forEach(i=>{n[i]=e[i]}),n};function Sg(e,t,n){const i=Ic(t,n);if(!e){const r=typeof is=="function"?{default:is}:is;Object.keys(i).forEach(o=>{r.default(o)||delete i[o]})}return i}var xg=(e,t)=>{};function kg(e){let t="";return n=>{const i=(o,a)=>{const{as:s=e,class:l=t}=o,u=n.propsAsIs===void 0?!(typeof s=="string"&&s.indexOf("-")===-1&&!yg(s[0])):n.propsAsIs,c=Sg(u,o,["as","class"]);c.ref=a,c.className=n.atomic?Xl(n.class,c.className||l):Xl(c.className||l,n.class);const{vars:d}=n;if(d){const f={};for(const p in d){const b=d[p],y=b[0],w=b[1]||"",S=typeof y=="function"?y(o):y;xg(S,n.name),f[`--${p}`]=`${S}${w}`}const h=c.style||{},m=Object.keys(h);m.length>0&&m.forEach(p=>{f[p]=h[p]}),c.style=f}return e.__linaria&&e!==s?(c.as=s,ee.createElement(e,c)):ee.createElement(s,c)},r=ee.forwardRef?ee.forwardRef(i):o=>{const a=Ic(o,["innerRef"]);return i(a,o.innerRef)};return r.displayName=n.name,r.__linaria={className:n.class||t,extends:e},r}}var mn=kg;const Mg=mn("div")({name:"ImageOverlayEditorStyle",class:"gdg-i2iowwq",propsAsIs:!1});var Tc={},Oa={},Gs={},ss={},Yl;function Rg(){return Yl||(Yl=1,function(e){(function(t,n){n(e,g,Yf)})(Bs,function(t,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=m;var r=a(n),o=a(i);function a(w){return w&&w.__esModule?w:{default:w}}var s=Object.assign||function(w){for(var S=1;S<arguments.length;S++){var M=arguments[S];for(var C in M)Object.prototype.hasOwnProperty.call(M,C)&&(w[C]=M[C])}return w};function l(w,S){var M={};for(var C in w)S.indexOf(C)>=0||Object.prototype.hasOwnProperty.call(w,C)&&(M[C]=w[C]);return M}function u(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}var c=function(){function w(S,M){for(var C=0;C<M.length;C++){var x=M[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}return function(S,M,C){return M&&w(S.prototype,M),C&&w(S,C),S}}();function d(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function f(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var h=!1;function m(w){h=w}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){m(!0)}}))}catch{}function p(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return h?w:w.capture}function b(w){if("touches"in w){var S=w.touches[0],M=S.pageX,C=S.pageY;return{x:M,y:C}}var x=w.screenX,R=w.screenY;return{x,y:R}}var y=function(w){f(S,w);function S(){var M;u(this,S);for(var C=arguments.length,x=Array(C),R=0;R<C;R++)x[R]=arguments[R];var I=d(this,(M=S.__proto__||Object.getPrototypeOf(S)).call.apply(M,[this].concat(x)));return I._handleSwipeStart=I._handleSwipeStart.bind(I),I._handleSwipeMove=I._handleSwipeMove.bind(I),I._handleSwipeEnd=I._handleSwipeEnd.bind(I),I._onMouseDown=I._onMouseDown.bind(I),I._onMouseMove=I._onMouseMove.bind(I),I._onMouseUp=I._onMouseUp.bind(I),I._setSwiperRef=I._setSwiperRef.bind(I),I}return c(S,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(C){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(C))}},{key:"_onMouseMove",value:function(C){this.mouseDown&&this._handleSwipeMove(C)}},{key:"_onMouseUp",value:function(C){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(C)}},{key:"_handleSwipeStart",value:function(C){var x=b(C),R=x.x,I=x.y;this.moveStart={x:R,y:I},this.props.onSwipeStart(C)}},{key:"_handleSwipeMove",value:function(C){if(this.moveStart){var x=b(C),R=x.x,I=x.y,E=R-this.moveStart.x,L=I-this.moveStart.y;this.moving=!0;var z=this.props.onSwipeMove({x:E,y:L},C);z&&C.cancelable&&C.preventDefault(),this.movePosition={deltaX:E,deltaY:L}}}},{key:"_handleSwipeEnd",value:function(C){this.props.onSwipeEnd(C);var x=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-x?this.props.onSwipeLeft(1,C):this.movePosition.deltaX>x&&this.props.onSwipeRight(1,C),this.movePosition.deltaY<-x?this.props.onSwipeUp(1,C):this.movePosition.deltaY>x&&this.props.onSwipeDown(1,C)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(C){this.swiper=C,this.props.innerRef(C)}},{key:"render",value:function(){var C=this.props;C.tagName;var x=C.className,R=C.style,I=C.children;C.allowMouseEvents,C.onSwipeUp,C.onSwipeDown,C.onSwipeLeft,C.onSwipeRight,C.onSwipeStart,C.onSwipeMove,C.onSwipeEnd,C.innerRef,C.tolerance;var E=l(C,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return r.default.createElement(this.props.tagName,s({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:x,style:R},E),I)}}]),S}(n.Component);y.displayName="ReactSwipe",y.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},y.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=y})}(ss)),ss}(function(e){(function(t,n){n(e,Rg())})(Bs,function(t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=r(n);function r(o){return o&&o.__esModule?o:{default:o}}t.default=i.default})})(Gs);var ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.default=void 0;var _r=Eg(Gf);function Eg(e){return e&&e.__esModule?e:{default:e}}function Ig(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tg={ROOT:function(t){return(0,_r.default)(Ig({"carousel-root":!0},t||"",!!t))},CAROUSEL:function(t){return(0,_r.default)({carousel:!0,"carousel-slider":t})},WRAPPER:function(t,n){return(0,_r.default)({"thumbs-wrapper":!t,"slider-wrapper":t,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(t,n){return(0,_r.default)({thumbs:!t,slider:t,animated:!n})},ITEM:function(t,n,i){return(0,_r.default)({thumb:!t,slide:t,selected:n,previous:i})},ARROW_PREV:function(t){return(0,_r.default)({"control-arrow control-prev":!0,"control-disabled":t})},ARROW_NEXT:function(t){return(0,_r.default)({"control-arrow control-next":!0,"control-disabled":t})},DOT:function(t){return(0,_r.default)({dot:!0,selected:t})}};ho.default=Tg;var go={},Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.outerWidth=void 0;var Dg=function(t){var n=t.offsetWidth,i=getComputedStyle(t);return n+=parseInt(i.marginLeft)+parseInt(i.marginRight),n};Pa.outerWidth=Dg;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.default=void 0;var Og=function(t,n,i){var r=t===0?t:t+n,o=i==="horizontal"?[r,0,0]:[0,r,0],a="translate3d",s="("+o.join(",")+")";return a+s};Ri.default=Og;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.default=void 0;var Pg=function(){return window};mo.default=Pg;Object.defineProperty(go,"__esModule",{value:!0});go.default=void 0;var rr=Fg(g),jr=_a(ho),_g=Pa,Gl=_a(Ri),Lg=_a(Gs),Bo=_a(mo);function _a(e){return e&&e.__esModule?e:{default:e}}function Dc(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return Dc=function(){return e},e}function Fg(e){if(e&&e.__esModule)return e;if(e===null||Qi(e)!=="object"&&typeof e!="function")return{default:e};var t=Dc();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function Qi(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qi=function(n){return typeof n}:Qi=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qi(e)}function Es(){return Es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Es.apply(this,arguments)}function Ag(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hg(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function zg(e,t,n){return t&&Hg(e.prototype,t),e}function $g(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Is(e,t)}function Is(e,t){return Is=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Is(e,t)}function Vg(e){var t=Bg();return function(){var i=fa(e),r;if(t){var o=fa(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return Ng(this,r)}}function Ng(e,t){return t&&(Qi(t)==="object"||typeof t=="function")?t:Mn(e)}function Mn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function fa(e){return fa=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},fa(e)}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wg=function(t){return t.hasOwnProperty("key")},js=function(e){$g(n,e);var t=Vg(n);function n(i){var r;return Ag(this,n),r=t.call(this,i),wn(Mn(r),"itemsWrapperRef",void 0),wn(Mn(r),"itemsListRef",void 0),wn(Mn(r),"thumbsRef",void 0),wn(Mn(r),"setItemsWrapperRef",function(o){r.itemsWrapperRef=o}),wn(Mn(r),"setItemsListRef",function(o){r.itemsListRef=o}),wn(Mn(r),"setThumbsRef",function(o,a){r.thumbsRef||(r.thumbsRef=[]),r.thumbsRef[a]=o}),wn(Mn(r),"updateSizes",function(){if(!(!r.props.children||!r.itemsWrapperRef||!r.thumbsRef)){var o=rr.Children.count(r.props.children),a=r.itemsWrapperRef.clientWidth,s=r.props.thumbWidth?r.props.thumbWidth:(0,_g.outerWidth)(r.thumbsRef[0]),l=Math.floor(a/s),u=l<o,c=u?o-l:0;r.setState(function(d,f){return{itemSize:s,visibleItems:l,firstItem:u?r.getFirstItem(f.selectedItem):0,lastPosition:c,showArrows:u}})}}),wn(Mn(r),"handleClickItem",function(o,a,s){if(!Wg(s)||s.key==="Enter"){var l=r.props.onSelectItem;typeof l=="function"&&l(o,a)}}),wn(Mn(r),"onSwipeStart",function(){r.setState({swiping:!0})}),wn(Mn(r),"onSwipeEnd",function(){r.setState({swiping:!1})}),wn(Mn(r),"onSwipeMove",function(o){var a=o.x;if(!r.state.itemSize||!r.itemsWrapperRef||!r.state.visibleItems)return!1;var s=0,l=rr.Children.count(r.props.children),u=-(r.state.firstItem*100)/r.state.visibleItems,c=Math.max(l-r.state.visibleItems,0),d=-c*100/r.state.visibleItems;u===s&&a>0&&(a=0),u===d&&a<0&&(a=0);var f=r.itemsWrapperRef.clientWidth,h=u+100/(f/a);return r.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(m){r.itemsListRef.style[m]=(0,Gl.default)(h,"%",r.props.axis)}),!0}),wn(Mn(r),"slideRight",function(o){r.moveTo(r.state.firstItem-(typeof o=="number"?o:1))}),wn(Mn(r),"slideLeft",function(o){r.moveTo(r.state.firstItem+(typeof o=="number"?o:1))}),wn(Mn(r),"moveTo",function(o){o=o<0?0:o,o=o>=r.state.lastPosition?r.state.lastPosition:o,r.setState({firstItem:o})}),r.state={selectedItem:i.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},r}return zg(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(r){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==r.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,Bo.default)().addEventListener("resize",this.updateSizes),(0,Bo.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,Bo.default)().removeEventListener("resize",this.updateSizes),(0,Bo.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(r){var o=r;return r>=this.state.lastPosition&&(o=this.state.lastPosition),r<this.state.firstItem+this.state.visibleItems&&(o=this.state.firstItem),r<this.state.firstItem&&(o=r),o}},{key:"renderItems",value:function(){var r=this;return this.props.children.map(function(o,a){var s=jr.default.ITEM(!1,a===r.state.selectedItem),l={key:a,ref:function(c){return r.setThumbsRef(c,a)},className:s,onClick:r.handleClickItem.bind(r,a,r.props.children[a]),onKeyDown:r.handleClickItem.bind(r,a,r.props.children[a]),"aria-label":"".concat(r.props.labels.item," ").concat(a+1),style:{width:r.props.thumbWidth}};return rr.default.createElement("li",Es({},l,{role:"button",tabIndex:0}),o)})}},{key:"render",value:function(){var r=this;if(!this.props.children)return null;var o=rr.Children.count(this.props.children)>1,a=this.state.showArrows&&this.state.firstItem>0,s=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},u=-this.state.firstItem*(this.state.itemSize||0),c=(0,Gl.default)(u,"px",this.props.axis),d=this.props.transitionTime+"ms";return l={WebkitTransform:c,MozTransform:c,MsTransform:c,OTransform:c,transform:c,msTransform:c,WebkitTransitionDuration:d,MozTransitionDuration:d,MsTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d},rr.default.createElement("div",{className:jr.default.CAROUSEL(!1)},rr.default.createElement("div",{className:jr.default.WRAPPER(!1),ref:this.setItemsWrapperRef},rr.default.createElement("button",{type:"button",className:jr.default.ARROW_PREV(!a),onClick:function(){return r.slideRight()},"aria-label":this.props.labels.leftArrow}),o?rr.default.createElement(Lg.default,{tagName:"ul",className:jr.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):rr.default.createElement("ul",{className:jr.default.SLIDER(!1,this.state.swiping),ref:function(h){return r.setItemsListRef(h)},style:l},this.renderItems()),rr.default.createElement("button",{type:"button",className:jr.default.ARROW_NEXT(!s),onClick:function(){return r.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(rr.Component);go.default=js;wn(js,"displayName","Thumbs");wn(js,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var La={};Object.defineProperty(La,"__esModule",{value:!0});La.default=void 0;var Ug=function(){return document};La.default=Ug;var zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.setPosition=zn.getPosition=zn.isKeyboardEvent=zn.defaultStatusFormatter=zn.noop=void 0;var Xg=g,Yg=Gg(Ri);function Gg(e){return e&&e.__esModule?e:{default:e}}var jg=function(){};zn.noop=jg;var qg=function(t,n){return"".concat(t," of ").concat(n)};zn.defaultStatusFormatter=qg;var Kg=function(t){return t?t.hasOwnProperty("key"):!1};zn.isKeyboardEvent=Kg;var Zg=function(t,n){if(n.infiniteLoop&&++t,t===0)return 0;var i=Xg.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var r=-t*n.centerSlidePercentage,o=i-1;return t&&(t!==o||n.infiniteLoop)?r+=(100-n.centerSlidePercentage)/2:t===o&&(r+=100-n.centerSlidePercentage),r}return-t*100};zn.getPosition=Zg;var Jg=function(t,n){var i={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(r){i[r]=(0,Yg.default)(t,"%",n)}),i};zn.setPosition=Jg;var hr={};Object.defineProperty(hr,"__esModule",{value:!0});hr.fadeAnimationHandler=hr.slideStopSwipingHandler=hr.slideSwipeAnimationHandler=hr.slideAnimationHandler=void 0;var Oc=g,Qg=em(Ri),gr=zn;function em(e){return e&&e.__esModule?e:{default:e}}function jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jl(Object(n),!0).forEach(function(i){tm(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jl(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function tm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nm=function(t,n){var i={},r=n.selectedItem,o=r,a=Oc.Children.count(t.children)-1,s=t.infiniteLoop&&(r<0||r>a);if(s)return o<0?t.centerMode&&t.centerSlidePercentage&&t.axis==="horizontal"?i.itemListStyle=(0,gr.setPosition)(-(a+2)*t.centerSlidePercentage-(100-t.centerSlidePercentage)/2,t.axis):i.itemListStyle=(0,gr.setPosition)(-(a+2)*100,t.axis):o>a&&(i.itemListStyle=(0,gr.setPosition)(0,t.axis)),i;var l=(0,gr.getPosition)(r,t),u=(0,Qg.default)(l,"%",t.axis),c=t.transitionTime+"ms";return i.itemListStyle={WebkitTransform:u,msTransform:u,OTransform:u,transform:u},n.swiping||(i.itemListStyle=Qr(Qr({},i.itemListStyle),{},{WebkitTransitionDuration:c,MozTransitionDuration:c,OTransitionDuration:c,transitionDuration:c,msTransitionDuration:c})),i};hr.slideAnimationHandler=nm;var rm=function(t,n,i,r){var o={},a=n.axis==="horizontal",s=Oc.Children.count(n.children),l=0,u=(0,gr.getPosition)(i.selectedItem,n),c=n.infiniteLoop?(0,gr.getPosition)(s-1,n)-100:(0,gr.getPosition)(s-1,n),d=a?t.x:t.y,f=d;u===l&&d>0&&(f=0),u===c&&d<0&&(f=0);var h=u+100/(i.itemSize/f),m=Math.abs(d)>n.swipeScrollTolerance;return n.infiniteLoop&&m&&(i.selectedItem===0&&h>-100?h-=s*100:i.selectedItem===s-1&&h<-s*100&&(h+=s*100)),(!n.preventMovementUntilSwipeScrollTolerance||m||i.swipeMovementStarted)&&(i.swipeMovementStarted||r({swipeMovementStarted:!0}),o.itemListStyle=(0,gr.setPosition)(h,n.axis)),m&&!i.cancelClick&&r({cancelClick:!0}),o};hr.slideSwipeAnimationHandler=rm;var im=function(t,n){var i=(0,gr.getPosition)(n.selectedItem,t),r=(0,gr.setPosition)(i,t.axis);return{itemListStyle:r}};hr.slideStopSwipingHandler=im;var om=function(t,n){var i=t.transitionTime+"ms",r="ease-in-out",o={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return n.swiping||(o=Qr(Qr({},o),{},{WebkitTransitionDuration:i,MozTransitionDuration:i,OTransitionDuration:i,transitionDuration:i,msTransitionDuration:i})),{slideStyle:o,selectedStyle:Qr(Qr({},o),{},{opacity:1,position:"relative"}),prevStyle:Qr({},o)}};hr.fadeAnimationHandler=om;Object.defineProperty(Oa,"__esModule",{value:!0});Oa.default=void 0;var Ft=lm(g),am=po(Gs),Cr=po(ho),sm=po(go),Wo=po(La),Uo=po(mo),Zi=zn,ha=hr;function po(e){return e&&e.__esModule?e:{default:e}}function Pc(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return Pc=function(){return e},e}function lm(e){if(e&&e.__esModule)return e;if(e===null||eo(e)!=="object"&&typeof e!="function")return{default:e};var t=Pc();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function eo(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eo=function(n){return typeof n}:eo=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},eo(e)}function Ts(){return Ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ts.apply(this,arguments)}function ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ql(Object(n),!0).forEach(function(i){ht(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ql(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function dm(e,t,n){return t&&cm(e.prototype,t),e}function fm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ds(e,t)}function Ds(e,t){return Ds=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Ds(e,t)}function hm(e){var t=mm();return function(){var i=ga(e),r;if(t){var o=ga(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return gm(this,r)}}function gm(e,t){return t&&(eo(t)==="object"||typeof t=="function")?t:pt(e)}function pt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ga(e){return ga=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ga(e)}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qs=function(e){fm(n,e);var t=hm(n);function n(i){var r;um(this,n),r=t.call(this,i),ht(pt(r),"thumbsRef",void 0),ht(pt(r),"carouselWrapperRef",void 0),ht(pt(r),"listRef",void 0),ht(pt(r),"itemsRef",void 0),ht(pt(r),"timer",void 0),ht(pt(r),"animationHandler",void 0),ht(pt(r),"setThumbsRef",function(a){r.thumbsRef=a}),ht(pt(r),"setCarouselWrapperRef",function(a){r.carouselWrapperRef=a}),ht(pt(r),"setListRef",function(a){r.listRef=a}),ht(pt(r),"setItemsRef",function(a,s){r.itemsRef||(r.itemsRef=[]),r.itemsRef[s]=a}),ht(pt(r),"autoPlay",function(){Ft.Children.count(r.props.children)<=1||(r.clearAutoPlay(),r.props.autoPlay&&(r.timer=setTimeout(function(){r.increment()},r.props.interval)))}),ht(pt(r),"clearAutoPlay",function(){r.timer&&clearTimeout(r.timer)}),ht(pt(r),"resetAutoPlay",function(){r.clearAutoPlay(),r.autoPlay()}),ht(pt(r),"stopOnHover",function(){r.setState({isMouseEntered:!0},r.clearAutoPlay)}),ht(pt(r),"startOnLeave",function(){r.setState({isMouseEntered:!1},r.autoPlay)}),ht(pt(r),"isFocusWithinTheCarousel",function(){return r.carouselWrapperRef?!!((0,Wo.default)().activeElement===r.carouselWrapperRef||r.carouselWrapperRef.contains((0,Wo.default)().activeElement)):!1}),ht(pt(r),"navigateWithKeyboard",function(a){if(r.isFocusWithinTheCarousel()){var s=r.props.axis,l=s==="horizontal",u={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},c=l?u.ArrowRight:u.ArrowDown,d=l?u.ArrowLeft:u.ArrowUp;c===a.keyCode?r.increment():d===a.keyCode&&r.decrement()}}),ht(pt(r),"updateSizes",function(){if(!(!r.state.initialized||!r.itemsRef||r.itemsRef.length===0)){var a=r.props.axis==="horizontal",s=r.itemsRef[0];if(s){var l=a?s.clientWidth:s.clientHeight;r.setState({itemSize:l}),r.thumbsRef&&r.thumbsRef.updateSizes()}}}),ht(pt(r),"setMountState",function(){r.setState({hasMount:!0}),r.updateSizes()}),ht(pt(r),"handleClickItem",function(a,s){if(Ft.Children.count(r.props.children)!==0){if(r.state.cancelClick){r.setState({cancelClick:!1});return}r.props.onClickItem(a,s),a!==r.state.selectedItem&&r.setState({selectedItem:a})}}),ht(pt(r),"handleOnChange",function(a,s){Ft.Children.count(r.props.children)<=1||r.props.onChange(a,s)}),ht(pt(r),"handleClickThumb",function(a,s){r.props.onClickThumb(a,s),r.moveTo(a)}),ht(pt(r),"onSwipeStart",function(a){r.setState({swiping:!0}),r.props.onSwipeStart(a)}),ht(pt(r),"onSwipeEnd",function(a){r.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),r.props.onSwipeEnd(a),r.clearAutoPlay(),r.state.autoPlay&&r.autoPlay()}),ht(pt(r),"onSwipeMove",function(a,s){r.props.onSwipeMove(s);var l=r.props.swipeAnimationHandler(a,r.props,r.state,r.setState.bind(pt(r)));return r.setState(ir({},l)),!!Object.keys(l).length}),ht(pt(r),"decrement",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;r.moveTo(r.state.selectedItem-(typeof a=="number"?a:1))}),ht(pt(r),"increment",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;r.moveTo(r.state.selectedItem+(typeof a=="number"?a:1))}),ht(pt(r),"moveTo",function(a){if(typeof a=="number"){var s=Ft.Children.count(r.props.children)-1;a<0&&(a=r.props.infiniteLoop?s:0),a>s&&(a=r.props.infiniteLoop?0:s),r.selectItem({selectedItem:a}),r.state.autoPlay&&r.state.isMouseEntered===!1&&r.resetAutoPlay()}}),ht(pt(r),"onClickNext",function(){r.increment(1)}),ht(pt(r),"onClickPrev",function(){r.decrement(1)}),ht(pt(r),"onSwipeForward",function(){r.increment(1),r.props.emulateTouch&&r.setState({cancelClick:!0})}),ht(pt(r),"onSwipeBackwards",function(){r.decrement(1),r.props.emulateTouch&&r.setState({cancelClick:!0})}),ht(pt(r),"changeItem",function(a){return function(s){(!(0,Zi.isKeyboardEvent)(s)||s.key==="Enter")&&r.moveTo(a)}}),ht(pt(r),"selectItem",function(a){r.setState(ir({previousItem:r.state.selectedItem},a),function(){r.setState(r.animationHandler(r.props,r.state))}),r.handleOnChange(a.selectedItem,Ft.Children.toArray(r.props.children)[a.selectedItem])}),ht(pt(r),"getInitialImage",function(){var a=r.props.selectedItem,s=r.itemsRef&&r.itemsRef[a],l=s&&s.getElementsByTagName("img")||[];return l[0]}),ht(pt(r),"getVariableItemHeight",function(a){var s=r.itemsRef&&r.itemsRef[a];if(r.state.hasMount&&s&&s.children.length){var l=s.children[0].getElementsByTagName("img")||[];if(l.length>0){var u=l[0];if(!u.complete){var c=function h(){r.forceUpdate(),u.removeEventListener("load",h)};u.addEventListener("load",c)}}var d=l[0]||s.children[0],f=d.clientHeight;return f>0?f:null}return null});var o={initialized:!1,previousItem:i.selectedItem,selectedItem:i.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:i.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return r.animationHandler=typeof i.animationHandler=="function"&&i.animationHandler||i.animationHandler==="fade"&&ha.fadeAnimationHandler||ha.slideAnimationHandler,r.state=ir(ir({},o),r.animationHandler(i,o)),r}return dm(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(r,o){!r.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!r.autoFocus&&this.props.autoFocus&&this.forceFocus(),o.swiping&&!this.state.swiping&&this.setState(ir({},this.props.stopSwipingHandler(this.props,this.state))),(r.selectedItem!==this.props.selectedItem||r.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),r.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var r=this;this.bindEvents(),this.state.autoPlay&&Ft.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var o=r.getInitialImage();o&&!o.complete?o.addEventListener("load",r.setMountState):r.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var r=this.carouselWrapperRef;this.props.stopOnHover&&r&&(r.addEventListener("mouseenter",this.stopOnHover),r.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var r=this.carouselWrapperRef;this.props.stopOnHover&&r&&(r.removeEventListener("mouseenter",this.stopOnHover),r.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,Uo.default)().addEventListener("resize",this.updateSizes),(0,Uo.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,Wo.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,Uo.default)().removeEventListener("resize",this.updateSizes),(0,Uo.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var r=this.getInitialImage();r&&r.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,Wo.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var r;(r=this.carouselWrapperRef)===null||r===void 0||r.focus()}},{key:"renderItems",value:function(r){var o=this;return this.props.children?Ft.Children.map(this.props.children,function(a,s){var l=s===o.state.selectedItem,u=s===o.state.previousItem,c=l&&o.state.selectedStyle||u&&o.state.prevStyle||o.state.slideStyle||{};o.props.centerMode&&o.props.axis==="horizontal"&&(c=ir(ir({},c),{},{minWidth:o.props.centerSlidePercentage+"%"})),o.state.swiping&&o.state.swipeMovementStarted&&(c=ir(ir({},c),{},{pointerEvents:"none"}));var d={ref:function(h){return o.setItemsRef(h,s)},key:"itemKey"+s+(r?"clone":""),className:Cr.default.ITEM(!0,s===o.state.selectedItem,s===o.state.previousItem),onClick:o.handleClickItem.bind(o,s,a),style:c};return Ft.default.createElement("li",d,o.props.renderItem(a,{isSelected:s===o.state.selectedItem,isPrevious:s===o.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var r=this,o=this.props,a=o.showIndicators,s=o.labels,l=o.renderIndicator,u=o.children;return a?Ft.default.createElement("ul",{className:"control-dots"},Ft.Children.map(u,function(c,d){return l&&l(r.changeItem(d),d===r.state.selectedItem,d,s.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?Ft.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,Ft.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||Ft.Children.count(this.props.children)===0?null:Ft.default.createElement(sm.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var r=this;if(!this.props.children||Ft.Children.count(this.props.children)===0)return null;var o=this.props.swipeable&&Ft.Children.count(this.props.children)>1,a=this.props.axis==="horizontal",s=this.props.showArrows&&Ft.Children.count(this.props.children)>1,l=s&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=s&&(this.state.selectedItem<Ft.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,c=this.renderItems(!0),d=c.shift(),f=c.pop(),h={className:Cr.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},m={};if(a){if(h.onSwipeLeft=this.onSwipeForward,h.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var p=this.getVariableItemHeight(this.state.selectedItem);m.height=p||"auto"}}else h.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,h.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,h.style=ir(ir({},h.style),{},{height:this.state.itemSize}),m.height=this.state.itemSize;return Ft.default.createElement("div",{"aria-label":this.props.ariaLabel,className:Cr.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},Ft.default.createElement("div",{className:Cr.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),Ft.default.createElement("div",{className:Cr.default.WRAPPER(!0,this.props.axis),style:m},o?Ft.default.createElement(am.default,Ts({tagName:"ul",innerRef:this.setListRef},h,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&d):Ft.default.createElement("ul",{className:Cr.default.SLIDER(!0,this.state.swiping),ref:function(y){return r.setListRef(y)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&d)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(Ft.default.Component);Oa.default=qs;ht(qs,"displayName","Carousel");ht(qs,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:Zi.noop,onClickThumb:Zi.noop,onChange:Zi.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(t,n,i){return Ft.default.createElement("button",{type:"button","aria-label":i,className:Cr.default.ARROW_PREV(!n),onClick:t})},renderArrowNext:function(t,n,i){return Ft.default.createElement("button",{type:"button","aria-label":i,className:Cr.default.ARROW_NEXT(!n),onClick:t})},renderIndicator:function(t,n,i,r){return Ft.default.createElement("li",{className:Cr.default.DOT(n),onClick:t,onKeyDown:t,value:i,key:i,role:"button",tabIndex:0,"aria-label":"".concat(r," ").concat(i+1)})},renderItem:function(t){return t},renderThumbs:function(t){var n=Ft.Children.map(t,function(i){var r=i;if(i.type!=="img"&&(r=Ft.Children.toArray(i.props.children).find(function(o){return o.type==="img"})),!!r)return r});return n.filter(function(i){return i}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:Zi.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:ha.slideSwipeAnimationHandler,stopSwipingHandler:ha.slideStopSwipingHandler});var pm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return i.default}});var t=r(Oa),n=pm,i=r(go);function r(o){return o&&o.__esModule?o:{default:o}}})(Tc);var vm=jf,bm=function(){return vm.Date.now()},wm=bm,ym=cc,ls=wm,Kl=dc,Cm="Expected a function",Sm=Math.max,xm=Math.min;function km(e,t,n){var i,r,o,a,s,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(Cm);t=Kl(t)||0,ym(n)&&(c=!!n.leading,d="maxWait"in n,o=d?Sm(Kl(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f);function h(x){var R=i,I=r;return i=r=void 0,u=x,a=e.apply(I,R),a}function m(x){return u=x,s=setTimeout(y,t),c?h(x):a}function p(x){var R=x-l,I=x-u,E=t-R;return d?xm(E,o-I):E}function b(x){var R=x-l,I=x-u;return l===void 0||R>=t||R<0||d&&I>=o}function y(){var x=ls();if(b(x))return w(x);s=setTimeout(y,p(x))}function w(x){return s=void 0,f&&i?h(x):(i=r=void 0,a)}function S(){s!==void 0&&clearTimeout(s),u=0,i=l=r=s=void 0}function M(){return s===void 0?a:w(ls())}function C(){var x=ls(),R=b(x);if(i=arguments,r=this,l=x,R){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(y,t),h(l)}return s===void 0&&(s=setTimeout(y,t)),a}return C.cancel=S,C.flush=M,C}var _c=km;const Lc=Mi(_c);function gn(e,t,n,i,r=!1){const o=g.useRef();o.current=t,g.useEffect(()=>{if(n===null||n.addEventListener===void 0)return;const a=n,s=l=>{var u;(u=o.current)==null||u.call(a,l)};return a.addEventListener(e,s,{passive:i,capture:r}),()=>{a.removeEventListener(e,s,{capture:r})}},[e,n,i,r])}function Jr(e,t){return e===void 0?void 0:t}const Mm=Math.PI;function Zl(e){return e*Mm/180}const Fc=(e,t,n)=>({x1:e-n/2,y1:t-n/2,x2:e+n/2,y2:t+n/2}),Ac=(e,t,n,i,r)=>{switch(e){case"left":return Math.floor(t)+i+r/2;case"center":return Math.floor(t+n/2);case"right":return Math.floor(t+n)-i-r/2}},Hc=(e,t,n)=>Math.min(e,t-n*2),zc=(e,t,n)=>n.x1<=e&&e<=n.x2&&n.y1<=t&&t<=n.y2,Ks=e=>{const t=e.fgColor??"currentColor";return g.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),g.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},Rm=e=>{const t=e.fgColor??"currentColor";return g.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function Em(e,t,n){const[i,r]=g.useState(e),o=g.useRef(!0);g.useEffect(()=>()=>{o.current=!1},[]);const a=g.useRef(Lc(s=>{o.current&&r(s)},n));return g.useLayoutEffect(()=>{o.current&&a.current(()=>e())},t),i}const Im="֑-߿יִ-﷽ﹰ-ﻼ",Tm="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Dm=new RegExp("^[^"+Tm+"]*["+Im+"]");function Zs(e){return Dm.test(e)?"rtl":"not-rtl"}let Xo;function Os(){if(typeof document>"u")return 0;if(Xo!==void 0)return Xo;const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.id="testScrollbar",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.append(e),document.body.append(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),Xo=n-i,Xo}const qr=Symbol();function Om(e){const t=g.useRef([qr,e]);t.current[1]!==e&&(t.current[0]=e),t.current[1]=e;const[n,i]=g.useState(e),[,r]=g.useState(),o=g.useCallback(s=>{const l=t.current[0];l!==qr&&(s=typeof s=="function"?s(l):s,s===l)||(l!==qr&&r({}),i(u=>typeof s=="function"?s(l===qr?u:l):s),t.current[0]=qr)},[]),a=g.useCallback(()=>{t.current[0]=qr,r({})},[]);return[t.current[0]===qr?n:t.current[0],o,a]}function $c(e){if(e.length===0)return"";let t=0,n=0;for(const i of e){if(n+=i.length,n>1e4)break;t++}return e.slice(0,t).join(", ")}function Pm(e){const t=g.useRef(e);return xi(e,t.current)||(t.current=e),t.current}const _m=e=>{const{urls:t,canWrite:n,onEditClick:i,renderImage:r}=e,o=t.filter(s=>s!=="");if(o.length===0)return null;const a=o.length>1;return g.createElement(Mg,{"data-testid":"GDG-default-image-overlay-editor"},g.createElement(Tc.Carousel,{showArrows:a,showThumbs:!1,swipeable:a,emulateTouch:a,infiniteLoop:a},o.map(s=>{const l=(r==null?void 0:r(s))??g.createElement("img",{draggable:!1,src:s});return g.createElement("div",{className:"gdg-centering-container",key:s},l)})),n&&i&&g.createElement("button",{className:"gdg-edit-icon",onClick:i},g.createElement(Ks,null)))};function Vc(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ni=Vc();function Lm(e){ni=e}const Nc=/[&<>"']/,Fm=new RegExp(Nc.source,"g"),Bc=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Am=new RegExp(Bc.source,"g"),Hm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jl=e=>Hm[e];function yn(e,t){if(t){if(Nc.test(e))return e.replace(Fm,Jl)}else if(Bc.test(e))return e.replace(Am,Jl);return e}const zm=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Wc(e){return e.replace(zm,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const $m=/(^|[^\[])\^/g;function Ut(e,t){e=typeof e=="string"?e:e.source,t=t||"";const n={replace:(i,r)=>(r=r.source||r,r=r.replace($m,"$1"),e=e.replace(i,r),n),getRegex:()=>new RegExp(e,t)};return n}const Vm=/[^\w:]/g,Nm=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ql(e,t,n){if(e){let i;try{i=decodeURIComponent(Wc(n)).replace(Vm,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}t&&!Nm.test(n)&&(n=Xm(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Yo={},Bm=/^[^:]+:\/*[^/]*$/,Wm=/^([^:]+:)[\s\S]*$/,Um=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Xm(e,t){Yo[" "+e]||(Bm.test(e)?Yo[" "+e]=e+"/":Yo[" "+e]=aa(e,"/",!0)),e=Yo[" "+e];const n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(Wm,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(Um,"$1")+t:e+t}const ma={exec:function(){}};function eu(e,t){const n=e.replace(/\|/g,(o,a,s)=>{let l=!1,u=a;for(;--u>=0&&s[u]==="\\";)l=!l;return l?"|":" |"}),i=n.split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function aa(e,t,n){const i=e.length;if(i===0)return"";let r=0;for(;r<i;){const o=e.charAt(i-r-1);if(o===t&&!n)r++;else if(o!==t&&n)r++;else break}return e.slice(0,i-r)}function Ym(e,t){if(e.indexOf(t[1])===-1)return-1;const n=e.length;let i=0,r=0;for(;r<n;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&(i--,i<0))return r;return-1}function Gm(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function tu(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function nu(e,t,n,i){const r=t.href,o=t.title?yn(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){i.state.inLink=!0;const s={type:"link",raw:n,href:r,title:o,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,s}return{type:"image",raw:n,href:r,title:o,text:yn(a)}}function jm(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const i=n[1];return t.split(`
`).map(r=>{const o=r.match(/^\s+/);if(o===null)return r;const[a]=o;return a.length>=i.length?r.slice(i.length):r}).join(`
`)}class Js{constructor(t){this.options=t||ni}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const i=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:aa(i,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const i=n[0],r=jm(i,n[3]||"");return{type:"code",raw:i,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:r}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let i=n[2].trim();if(/#$/.test(i)){const r=aa(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){const i=n[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(i);return this.lexer.state.top=r,{type:"blockquote",raw:n[0],tokens:o,text:i}}}list(t){let n=this.rules.block.list.exec(t);if(n){let i,r,o,a,s,l,u,c,d,f,h,m,p=n[1].trim();const b=p.length>1,y={type:"list",raw:"",ordered:b,start:b?+p.slice(0,-1):"",loose:!1,items:[]};p=b?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=b?p:"[*+-]");const w=new RegExp(`^( {0,3}${p})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(m=!1,!(!(n=w.exec(t))||this.rules.block.hr.test(t)));){if(i=n[0],t=t.substring(i.length),c=n[2].split(`
`,1)[0].replace(/^\t+/,M=>" ".repeat(3*M.length)),d=t.split(`
`,1)[0],this.options.pedantic?(a=2,h=c.trimLeft()):(a=n[2].search(/[^ ]/),a=a>4?1:a,h=c.slice(a),a+=n[1].length),l=!1,!c&&/^ *$/.test(d)&&(i+=d+`
`,t=t.substring(d.length+1),m=!0),!m){const M=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),C=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),x=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),R=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;t&&(f=t.split(`
`,1)[0],d=f,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(x.test(d)||R.test(d)||M.test(d)||C.test(t)));){if(d.search(/[^ ]/)>=a||!d.trim())h+=`
`+d.slice(a);else{if(l||c.search(/[^ ]/)>=4||x.test(c)||R.test(c)||C.test(c))break;h+=`
`+d}!l&&!d.trim()&&(l=!0),i+=f+`
`,t=t.substring(f.length+1),c=d.slice(a)}}y.loose||(u?y.loose=!0:/\n *\n *$/.test(i)&&(u=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(h),r&&(o=r[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),y.items.push({type:"list_item",raw:i,task:!!r,checked:o,loose:!1,text:h}),y.raw+=i}y.items[y.items.length-1].raw=i.trimRight(),y.items[y.items.length-1].text=h.trimRight(),y.raw=y.raw.trimRight();const S=y.items.length;for(s=0;s<S;s++)if(this.lexer.state.top=!1,y.items[s].tokens=this.lexer.blockTokens(y.items[s].text,[]),!y.loose){const M=y.items[s].tokens.filter(x=>x.type==="space"),C=M.length>0&&M.some(x=>/\n.*\n/.test(x.raw));y.loose=C}if(y.loose)for(s=0;s<S;s++)y.items[s].loose=!0;return y}}html(t){const n=this.rules.block.html.exec(t);if(n){const i={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(n[0]):yn(n[0]);i.type="paragraph",i.text=r,i.tokens=this.lexer.inline(r)}return i}}def(t){const n=this.rules.block.def.exec(t);if(n){const i=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:i,raw:n[0],href:r,title:o}}}table(t){const n=this.rules.block.table.exec(t);if(n){const i={type:"table",header:eu(n[1]).map(r=>({text:r})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=n[0];let r=i.align.length,o,a,s,l;for(o=0;o<r;o++)/^ *-+: *$/.test(i.align[o])?i.align[o]="right":/^ *:-+: *$/.test(i.align[o])?i.align[o]="center":/^ *:-+ *$/.test(i.align[o])?i.align[o]="left":i.align[o]=null;for(r=i.rows.length,o=0;o<r;o++)i.rows[o]=eu(i.rows[o],i.header.length).map(u=>({text:u}));for(r=i.header.length,a=0;a<r;a++)i.header[a].tokens=this.lexer.inline(i.header[a].text);for(r=i.rows.length,a=0;a<r;a++)for(l=i.rows[a],s=0;s<l.length;s++)l[s].tokens=this.lexer.inline(l[s].text);return i}}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const i=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:i,tokens:this.lexer.inline(i)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:yn(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):yn(n[0]):n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const i=n[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const a=aa(i.slice(0,-1),"\\");if((i.length-a.length)%2===0)return}else{const a=Ym(n[2],"()");if(a>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let r=n[2],o="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);a&&(r=a[1],o=a[3])}else o=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(i)?r=r.slice(1):r=r.slice(1,-1)),nu(n,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(t,n){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=n[r.toLowerCase()],!r){const o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return nu(i,r,i[0],this.lexer)}}emStrong(t,n,i=""){let r=this.rules.inline.emStrong.lDelim.exec(t);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;const o=r[1]||r[2]||"";if(!o||o&&(i===""||this.rules.inline.punctuation.exec(i))){const a=r[0].length-1;let s,l,u=a,c=0;const d=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,n=n.slice(-1*t.length+a);(r=d.exec(n))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(l=s.length,r[3]||r[4]){u+=l;continue}else if((r[5]||r[6])&&a%3&&!((a+l)%3)){c+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+c);const f=t.slice(0,a+r.index+(r[0].length-s.length)+l);if(Math.min(a,l)%2){const m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}const h=f.slice(2,-2);return{type:"strong",raw:f,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let i=n[2].replace(/\n/g," ");const r=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return r&&o&&(i=i.substring(1,i.length-1)),i=yn(i,!0),{type:"codespan",raw:n[0],text:i}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t,n){const i=this.rules.inline.autolink.exec(t);if(i){let r,o;return i[2]==="@"?(r=yn(this.options.mangle?n(i[1]):i[1]),o="mailto:"+r):(r=yn(i[1]),o=r),{type:"link",raw:i[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}url(t,n){let i;if(i=this.rules.inline.url.exec(t)){let r,o;if(i[2]==="@")r=yn(this.options.mangle?n(i[0]):i[0]),o="mailto:"+r;else{let a;do a=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(a!==i[0]);r=yn(i[0]),i[1]==="www."?o="http://"+i[0]:o=i[0]}return{type:"link",raw:i[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t,n){const i=this.rules.inline.text.exec(t);if(i){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):yn(i[0]):i[0]:r=yn(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:r}}}}const Ye={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ma,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ye._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ye._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ye.def=Ut(Ye.def).replace("label",Ye._label).replace("title",Ye._title).getRegex();Ye.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ye.listItemStart=Ut(/^( *)(bull) */).replace("bull",Ye.bullet).getRegex();Ye.list=Ut(Ye.list).replace(/bull/g,Ye.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ye.def.source+")").getRegex();Ye._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Ye._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ye.html=Ut(Ye.html,"i").replace("comment",Ye._comment).replace("tag",Ye._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ye.paragraph=Ut(Ye._paragraph).replace("hr",Ye.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ye._tag).getRegex();Ye.blockquote=Ut(Ye.blockquote).replace("paragraph",Ye.paragraph).getRegex();Ye.normal={...Ye};Ye.gfm={...Ye.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Ye.gfm.table=Ut(Ye.gfm.table).replace("hr",Ye.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ye._tag).getRegex();Ye.gfm.paragraph=Ut(Ye._paragraph).replace("hr",Ye.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ye.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ye._tag).getRegex();Ye.pedantic={...Ye.normal,html:Ut(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ye._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ma,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ut(Ye.normal._paragraph).replace("hr",Ye.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ye.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Ie={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ma,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ma,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Ie._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Ie.punctuation=Ut(Ie.punctuation).replace(/punctuation/g,Ie._punctuation).getRegex();Ie.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Ie.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;Ie._comment=Ut(Ye._comment).replace("(?:-->|$)","-->").getRegex();Ie.emStrong.lDelim=Ut(Ie.emStrong.lDelim).replace(/punct/g,Ie._punctuation).getRegex();Ie.emStrong.rDelimAst=Ut(Ie.emStrong.rDelimAst,"g").replace(/punct/g,Ie._punctuation).getRegex();Ie.emStrong.rDelimUnd=Ut(Ie.emStrong.rDelimUnd,"g").replace(/punct/g,Ie._punctuation).getRegex();Ie._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Ie._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Ie._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Ie.autolink=Ut(Ie.autolink).replace("scheme",Ie._scheme).replace("email",Ie._email).getRegex();Ie._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Ie.tag=Ut(Ie.tag).replace("comment",Ie._comment).replace("attribute",Ie._attribute).getRegex();Ie._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Ie._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Ie._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Ie.link=Ut(Ie.link).replace("label",Ie._label).replace("href",Ie._href).replace("title",Ie._title).getRegex();Ie.reflink=Ut(Ie.reflink).replace("label",Ie._label).replace("ref",Ye._label).getRegex();Ie.nolink=Ut(Ie.nolink).replace("ref",Ye._label).getRegex();Ie.reflinkSearch=Ut(Ie.reflinkSearch,"g").replace("reflink",Ie.reflink).replace("nolink",Ie.nolink).getRegex();Ie.normal={...Ie};Ie.pedantic={...Ie.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ut(/^!?\[(label)\]\((.*?)\)/).replace("label",Ie._label).getRegex(),reflink:Ut(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ie._label).getRegex()};Ie.gfm={...Ie.normal,escape:Ut(Ie.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Ie.gfm.url=Ut(Ie.gfm.url,"i").replace("email",Ie.gfm._extended_email).getRegex();Ie.breaks={...Ie.gfm,br:Ut(Ie.br).replace("{2,}","*").getRegex(),text:Ut(Ie.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function qm(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function ru(e){let t="",n,i;const r=e.length;for(n=0;n<r;n++)i=e.charCodeAt(n),Math.random()>.5&&(i="x"+i.toString(16)),t+="&#"+i+";";return t}class zr{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ni,this.options.tokenizer=this.options.tokenizer||new Js,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Ye.normal,inline:Ie.normal};this.options.pedantic?(n.block=Ye.pedantic,n.inline=Ie.pedantic):this.options.gfm&&(n.block=Ye.gfm,this.options.breaks?n.inline=Ie.breaks:n.inline=Ie.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ye,inline:Ie}}static lex(t,n){return new zr(n).lex(t)}static lexInline(t,n){return new zr(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(s,l,u)=>l+"    ".repeat(u.length));let i,r,o,a;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(s=>(i=s.call({lexer:this},t,n))?(t=t.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length),i.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),n.push(i);continue}if(o=t,this.options.extensions&&this.options.extensions.startBlock){let s=1/0;const l=t.slice(1);let u;this.options.extensions.startBlock.forEach(function(c){u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(s=Math.min(s,u))}),s<1/0&&s>=0&&(o=t.substring(0,s+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){r=n[n.length-1],a&&r.type==="paragraph"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(i),a=o.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&r.type==="text"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(i);continue}if(t){const s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let i,r,o,a=t,s,l,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)c.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,s.index)+"["+tu("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,s.index)+"["+tu("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.escapedEmSt.exec(a))!=null;)a=a.slice(0,s.index+s[0].length-2)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(i=c.call({lexer:this},t,n))?(t=t.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.escape(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.tag(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):n.push(i);continue}if(i=this.tokenizer.link(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(i.raw.length),r=n[n.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):n.push(i);continue}if(i=this.tokenizer.emStrong(t,a,u)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.codespan(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.br(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.del(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.autolink(t,ru)){t=t.substring(i.raw.length),n.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(t,ru))){t=t.substring(i.raw.length),n.push(i);continue}if(o=t,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const d=t.slice(1);let f;this.options.extensions.startInline.forEach(function(h){f=h.call({lexer:this},d),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(o=t.substring(0,c+1))}if(i=this.tokenizer.inlineText(o,qm)){t=t.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(u=i.raw.slice(-1)),l=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):n.push(i);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class Qs{constructor(t){this.options=t||ni}code(t,n,i){const r=(n||"").match(/\S*/)[0];if(this.options.highlight){const o=this.options.highlight(t,r);o!=null&&o!==t&&(i=!0,t=o)}return t=t.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+yn(r)+'">'+(i?t:yn(t,!0))+`</code></pre>
`:"<pre><code>"+(i?t:yn(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,n,i,r){if(this.options.headerIds){const o=this.options.headerPrefix+r.slug(i);return`<h${n} id="${o}">${t}</h${n}>
`}return`<h${n}>${t}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,n,i){const r=n?"ol":"ul",o=n&&i!==1?' start="'+i+'"':"";return"<"+r+o+`>
`+t+"</"+r+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,n){const i=n.header?"th":"td";return(n.align?`<${i} align="${n.align}">`:`<${i}>`)+t+`</${i}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,n,i){if(t=Ql(this.options.sanitize,this.options.baseUrl,t),t===null)return i;let r='<a href="'+t+'"';return n&&(r+=' title="'+n+'"'),r+=">"+i+"</a>",r}image(t,n,i){if(t=Ql(this.options.sanitize,this.options.baseUrl,t),t===null)return i;let r=`<img src="${t}" alt="${i}"`;return n&&(r+=` title="${n}"`),r+=this.options.xhtml?"/>":">",r}text(t){return t}}class Uc{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,n,i){return""+i}image(t,n,i){return""+i}br(){return""}}class Xc{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,n){let i=t,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[t];do r++,i=t+"-"+r;while(this.seen.hasOwnProperty(i))}return n||(this.seen[t]=r,this.seen[i]=0),i}slug(t,n={}){const i=this.serialize(t);return this.getNextSafeSlug(i,n.dryrun)}}class $r{constructor(t){this.options=t||ni,this.options.renderer=this.options.renderer||new Qs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Uc,this.slugger=new Xc}static parse(t,n){return new $r(n).parse(t)}static parseInline(t,n){return new $r(n).parseInline(t)}parse(t,n=!0){let i="",r,o,a,s,l,u,c,d,f,h,m,p,b,y,w,S,M,C,x;const R=t.length;for(r=0;r<R;r++){if(h=t[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(x=this.options.extensions.renderers[h.type].call({parser:this},h),x!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){i+=x||"";continue}switch(h.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(h.tokens),h.depth,Wc(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(d="",c="",s=h.header.length,o=0;o<s;o++)c+=this.renderer.tablecell(this.parseInline(h.header[o].tokens),{header:!0,align:h.align[o]});for(d+=this.renderer.tablerow(c),f="",s=h.rows.length,o=0;o<s;o++){for(u=h.rows[o],c="",l=u.length,a=0;a<l;a++)c+=this.renderer.tablecell(this.parseInline(u[a].tokens),{header:!1,align:h.align[a]});f+=this.renderer.tablerow(c)}i+=this.renderer.table(d,f);continue}case"blockquote":{f=this.parse(h.tokens),i+=this.renderer.blockquote(f);continue}case"list":{for(m=h.ordered,p=h.start,b=h.loose,s=h.items.length,f="",o=0;o<s;o++)w=h.items[o],S=w.checked,M=w.task,y="",w.task&&(C=this.renderer.checkbox(S),b?w.tokens.length>0&&w.tokens[0].type==="paragraph"?(w.tokens[0].text=C+" "+w.tokens[0].text,w.tokens[0].tokens&&w.tokens[0].tokens.length>0&&w.tokens[0].tokens[0].type==="text"&&(w.tokens[0].tokens[0].text=C+" "+w.tokens[0].tokens[0].text)):w.tokens.unshift({type:"text",text:C}):y+=C),y+=this.parse(w.tokens,b),f+=this.renderer.listitem(y,M,S);i+=this.renderer.list(f,m,p);continue}case"html":{i+=this.renderer.html(h.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(f=h.tokens?this.parseInline(h.tokens):h.text;r+1<R&&t[r+1].type==="text";)h=t[++r],f+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);i+=n?this.renderer.paragraph(f):f;continue}default:{const I='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(I);return}else throw new Error(I)}}}return i}parseInline(t,n){n=n||this.renderer;let i="",r,o,a;const s=t.length;for(r=0;r<s;r++){if(o=t[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(a=this.options.extensions.renderers[o.type].call({parser:this},o),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type))){i+=a||"";continue}switch(o.type){case"escape":{i+=n.text(o.text);break}case"html":{i+=n.html(o.text);break}case"link":{i+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{i+=n.image(o.href,o.title,o.text);break}case"strong":{i+=n.strong(this.parseInline(o.tokens,n));break}case"em":{i+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{i+=n.codespan(o.text);break}case"br":{i+=n.br();break}case"del":{i+=n.del(this.parseInline(o.tokens,n));break}case"text":{i+=n.text(o.text);break}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return i}}class pa{constructor(t){this.options=t||ni}preprocess(t){return t}postprocess(t){return t}}dt(pa,"passThroughHooks",new Set(["preprocess","postprocess"]));function Km(e,t,n){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+yn(i.message+"",!0)+"</pre>";if(t)return Promise.resolve(r);if(n){n(null,r);return}return r}if(t)return Promise.reject(i);if(n){n(i);return}throw i}}function Yc(e,t){return(n,i,r)=>{typeof i=="function"&&(r=i,i=null);const o={...i};i={...Qe.defaults,...o};const a=Km(i.silent,i.async,r);if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(Gm(i),i.hooks&&(i.hooks.options=i),r){const s=i.highlight;let l;try{i.hooks&&(n=i.hooks.preprocess(n)),l=e(n,i)}catch(d){return a(d)}const u=function(d){let f;if(!d)try{i.walkTokens&&Qe.walkTokens(l,i.walkTokens),f=t(l,i),i.hooks&&(f=i.hooks.postprocess(f))}catch(h){d=h}return i.highlight=s,d?a(d):r(null,f)};if(!s||s.length<3||(delete i.highlight,!l.length))return u();let c=0;Qe.walkTokens(l,function(d){d.type==="code"&&(c++,setTimeout(()=>{s(d.text,d.lang,function(f,h){if(f)return u(f);h!=null&&h!==d.text&&(d.text=h,d.escaped=!0),c--,c===0&&u()})},0))}),c===0&&u();return}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then(s=>e(s,i)).then(s=>i.walkTokens?Promise.all(Qe.walkTokens(s,i.walkTokens)).then(()=>s):s).then(s=>t(s,i)).then(s=>i.hooks?i.hooks.postprocess(s):s).catch(a);try{i.hooks&&(n=i.hooks.preprocess(n));const s=e(n,i);i.walkTokens&&Qe.walkTokens(s,i.walkTokens);let l=t(s,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(s){return a(s)}}}function Qe(e,t,n){return Yc(zr.lex,$r.parse)(e,t,n)}Qe.options=Qe.setOptions=function(e){return Qe.defaults={...Qe.defaults,...e},Lm(Qe.defaults),Qe};Qe.getDefaults=Vc;Qe.defaults=ni;Qe.use=function(...e){const t=Qe.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(n=>{const i={...n};if(i.async=Qe.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const o=t.renderers[r.name];o?t.renderers[r.name]=function(...a){let s=r.renderer.apply(this,a);return s===!1&&(s=o.apply(this,a)),s}:t.renderers[r.name]=r.renderer}if(r.tokenizer){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[r.level]?t[r.level].unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),i.extensions=t),n.renderer){const r=Qe.defaults.renderer||new Qs;for(const o in n.renderer){const a=r[o];r[o]=(...s)=>{let l=n.renderer[o].apply(r,s);return l===!1&&(l=a.apply(r,s)),l}}i.renderer=r}if(n.tokenizer){const r=Qe.defaults.tokenizer||new Js;for(const o in n.tokenizer){const a=r[o];r[o]=(...s)=>{let l=n.tokenizer[o].apply(r,s);return l===!1&&(l=a.apply(r,s)),l}}i.tokenizer=r}if(n.hooks){const r=Qe.defaults.hooks||new pa;for(const o in n.hooks){const a=r[o];pa.passThroughHooks.has(o)?r[o]=s=>{if(Qe.defaults.async)return Promise.resolve(n.hooks[o].call(r,s)).then(u=>a.call(r,u));const l=n.hooks[o].call(r,s);return a.call(r,l)}:r[o]=(...s)=>{let l=n.hooks[o].apply(r,s);return l===!1&&(l=a.apply(r,s)),l}}i.hooks=r}if(n.walkTokens){const r=Qe.defaults.walkTokens;i.walkTokens=function(o){let a=[];return a.push(n.walkTokens.call(this,o)),r&&(a=a.concat(r.call(this,o))),a}}Qe.setOptions(i)})};Qe.walkTokens=function(e,t){let n=[];for(const i of e)switch(n=n.concat(t.call(Qe,i)),i.type){case"table":{for(const r of i.header)n=n.concat(Qe.walkTokens(r.tokens,t));for(const r of i.rows)for(const o of r)n=n.concat(Qe.walkTokens(o.tokens,t));break}case"list":{n=n.concat(Qe.walkTokens(i.items,t));break}default:Qe.defaults.extensions&&Qe.defaults.extensions.childTokens&&Qe.defaults.extensions.childTokens[i.type]?Qe.defaults.extensions.childTokens[i.type].forEach(function(r){n=n.concat(Qe.walkTokens(i[r],t))}):i.tokens&&(n=n.concat(Qe.walkTokens(i.tokens,t)))}return n};Qe.parseInline=Yc(zr.lexInline,$r.parseInline);Qe.Parser=$r;Qe.parser=$r.parse;Qe.Renderer=Qs;Qe.TextRenderer=Uc;Qe.Lexer=zr;Qe.lexer=zr.lex;Qe.Tokenizer=Js;Qe.Slugger=Xc;Qe.Hooks=pa;Qe.parse=Qe;Qe.options;Qe.setOptions;Qe.use;Qe.walkTokens;Qe.parseInline;$r.parse;zr.lex;const Zm=mn("div")({name:"MarkdownContainer",class:"gdg-mnuv029",propsAsIs:!1});class Jm extends ee.PureComponent{constructor(){super(...arguments);dt(this,"targetElement",null);dt(this,"containerRefHook",n=>{this.targetElement=n,this.renderMarkdownIntoDiv()})}renderMarkdownIntoDiv(){const{targetElement:n,props:i}=this;if(n===null)return;const{contents:r,createNode:o}=i,a=Qe(r),s=document.createRange();s.selectNodeContents(n),s.deleteContents();let l=o==null?void 0:o(a);if(l===void 0){const c=document.createElement("template");c.innerHTML=a,l=c.content}n.append(l);const u=n.getElementsByTagName("a");for(const c of u)c.target="_blank",c.rel="noreferrer noopener"}render(){return this.renderMarkdownIntoDiv(),ee.createElement(Zm,{ref:this.containerRefHook})}}const Qm=mn("textarea")({name:"InputBox",class:"gdg-izpuzkl",propsAsIs:!1}),ep=mn("div")({name:"ShadowBox",class:"gdg-s69h75o",propsAsIs:!1}),tp=mn("div")({name:"GrowingEntryStyle",class:"gdg-g1y0xocz",propsAsIs:!1});let iu=0;const Ei=e=>{const{placeholder:t,value:n,onKeyDown:i,highlight:r,altNewline:o,validatedSelection:a,...s}=e,{onChange:l,className:u}=s,c=g.useRef(null),d=n??"";An(l!==void 0,"GrowingEntry must be a controlled input area");const[f]=g.useState(()=>"input-box-"+(iu=(iu+1)%1e7));g.useEffect(()=>{const m=c.current;if(m===null||m.disabled)return;const p=d.toString().length;m.focus(),m.setSelectionRange(r?0:p,p)},[]),g.useLayoutEffect(()=>{var m;if(a!==void 0){const p=typeof a=="number"?[a,null]:a;(m=c.current)==null||m.setSelectionRange(p[0],p[1])}},[a]);const h=g.useCallback(m=>{m.key==="Enter"&&m.shiftKey&&o===!0||i==null||i(m)},[o,i]);return g.createElement(tp,{className:"gdg-growing-entry"},g.createElement(ep,{className:u},d+`
`),g.createElement(Qm,{...s,className:(u??"")+" gdg-input",id:f,ref:c,onKeyDown:h,value:d,placeholder:t,dir:"auto"}))},us={};let Lr=null;function np(){const e=document.createElement("div");return e.style.opacity="0",e.style.pointerEvents="none",e.style.position="fixed",document.body.append(e),e}function va(e){const t=e.toLowerCase().trim();if(us[t]!==void 0)return us[t];Lr=Lr||np(),Lr.style.color="#000",Lr.style.color=t;const n=getComputedStyle(Lr).color;Lr.style.color="#fff",Lr.style.color=t;const i=getComputedStyle(Lr).color;if(i!==n)return[0,0,0,1];let r=i.replace(/[^\d.,]/g,"").split(",").map(Number.parseFloat);return r.length<4&&r.push(1),r=r.map(o=>Number.isNaN(o)?0:o),us[t]=r,r}function ti(e,t){const[n,i,r]=va(e);return`rgba(${n}, ${i}, ${r}, ${t})`}const ou=new Map;function au(e,t){const n=`${e}-${t}`,i=ou.get(n);if(i!==void 0)return i;const r=Hn(e,t);return ou.set(n,r),r}function Hn(e,t){if(t===void 0)return e;const[n,i,r,o]=va(e);if(o===1)return e;const[a,s,l,u]=va(t),c=o+u*(1-o),d=(o*n+u*a*(1-o))/c,f=(o*i+u*s*(1-o))/c,h=(o*r+u*l*(1-o))/c;return`rgba(${d}, ${f}, ${h}, ${c})`}var bi=new Map,yi=new Map,Ps=new Map;function rp(){bi.clear(),Ps.clear(),yi.clear()}function ip(e,t,n,i,r){var o,a,s;let l=0,u={};for(let d of e)l+=(o=n.get(d))!=null?o:r,u[d]=((a=u[d])!=null?a:0)+1;let c=t-l;for(let d of Object.keys(u)){let f=u[d],h=(s=n.get(d))!=null?s:r,m=h*f/l,p=c*m*i/f,b=h+p;n.set(d,b)}}function op(e,t){var n;let i=new Map,r=0;for(let u of"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890,.-+=?"){let c=e.measureText(u).width;i.set(u,c),r+=c}let o=r/i.size,a=3,s=(t/o+a)/(a+1),l=i.keys();for(let u of l)i.set(u,((n=i.get(u))!=null?n:o)*s);return i}function to(e,t,n,i){var r,o;let a=yi.get(n);if(i&&a!==void 0&&a.count>2e4){let u=Ps.get(n);if(u===void 0&&(u=op(e,a.size),Ps.set(n,u)),a.count>5e5){let d=0;for(let f of t)d+=(r=u.get(f))!=null?r:a.size;return d*1.01}let c=e.measureText(t);return ip(t,c.width,u,Math.max(.05,1-a.count/2e5),a.size),yi.set(n,{count:a.count+t.length,size:a.size}),c.width}let s=e.measureText(t),l=s.width/t.length;if(((o=a==null?void 0:a.count)!=null?o:0)>2e4)return s.width;if(a===void 0)yi.set(n,{count:t.length,size:l});else{let u=l-a.size,c=t.length/(a.count+t.length),d=a.size+u*c;yi.set(n,{count:a.count+t.length,size:d})}return s.width}function ap(e,t,n,i,r,o,a,s){if(t.length<=1)return t.length;if(r<n)return-1;let l=Math.floor(n/r*o),u=to(e,t.slice(0,Math.max(0,l)),i,a);if(u!==n)if(u<n){for(;u<n;)l++,u=to(e,t.slice(0,Math.max(0,l)),i,a);l--}else for(;u>n;){let c=t.lastIndexOf(" ",l-1);c>0?l=c:l--,u=to(e,t.slice(0,Math.max(0,l)),i,a)}if(t[l]!==" "){let c=0;c=t.lastIndexOf(" ",l),c>0&&(l=c)}return l}function sp(e,t,n,i,r,o){let a=`${t}_${n}_${i}px`,s=bi.get(a);if(s!==void 0)return s;if(i<=0)return[];let l=[],u=t.split(`
`),c=yi.get(n),d=c===void 0?t.length:i/c.size*1.5,f=r&&c!==void 0&&c.count>2e4;for(let h of u){let m=to(e,h.slice(0,Math.max(0,d)),n,f),p=Math.min(h.length,d);if(m<=i)l.push(h);else{for(;m>i;){let b=ap(e,h,i,n,m,p,f),y=h.slice(0,Math.max(0,b));h=h.slice(y.length),l.push(y),m=to(e,h.slice(0,Math.max(0,d)),n,f),p=Math.min(h.length,d)}m>0&&l.push(h)}}return l=l.map((h,m)=>m===0?h.trimEnd():h.trim()),bi.set(a,l),bi.size>500&&bi.delete(bi.keys().next().value),l}function lp(e,t){return ee.useMemo(()=>e.map((n,i)=>({group:n.group,grow:n.grow,hasMenu:n.hasMenu,icon:n.icon,id:n.id,menuIcon:n.menuIcon,overlayIcon:n.overlayIcon,sourceIndex:i,sticky:i<t,indicatorIcon:n.indicatorIcon,style:n.style,themeOverride:n.themeOverride,title:n.title,trailingRowOptions:n.trailingRowOptions,width:n.width,growOffset:n.growOffset,rowMarker:n.rowMarker,rowMarkerChecked:n.rowMarkerChecked,headerRowMarkerTheme:n.headerRowMarkerTheme,headerRowMarkerAlwaysVisible:n.headerRowMarkerAlwaysVisible,headerRowMarkerDisabled:n.headerRowMarkerDisabled})),[e,t])}function up(e,t){const[n,i]=t;if(e.columns.hasIndex(n)||e.rows.hasIndex(i))return!0;if(e.current!==void 0){if(no(e.current.cell,t))return!0;const r=[e.current.range,...e.current.rangeStack];for(const o of r)if(n>=o.x&&n<o.x+o.width&&i>=o.y&&i<o.y+o.height)return!0}return!1}function so(e,t){return(e??"")===(t??"")}function cp(e,t,n){return n.current===void 0||e[1]!==n.current.cell[1]?!1:t.span===void 0?n.current.cell[0]===e[0]:n.current.cell[0]>=t.span[0]&&n.current.cell[0]<=t.span[1]}function Gc(e,t){const[n,i]=e;return n>=t.x&&n<t.x+t.width&&i>=t.y&&i<t.y+t.height}function no(e,t){return(e==null?void 0:e[0])===(t==null?void 0:t[0])&&(e==null?void 0:e[1])===(t==null?void 0:t[1])}function jc(e){return[e.x+e.width-1,e.y+e.height-1]}function su(e,t,n){const i=n.x,r=n.x+n.width-1,o=n.y,a=n.y+n.height-1,[s,l]=e;if(l<o||l>a)return!1;if(t.span===void 0)return s>=i&&s<=r;const[u,c]=t.span;return u>=i&&u<=r||c>=i&&u<=r||u<i&&c>r}function dp(e,t,n,i){let r=0;if(n.current===void 0)return r;const o=n.current.range;(i||o.height*o.width>1)&&su(e,t,o)&&r++;for(const a of n.current.rangeStack)su(e,t,a)&&r++;return r}function qc(e,t){let n=e;if(t!==void 0){let i=[...e];const r=n[t.src];t.src>t.dest?(i.splice(t.src,1),i.splice(t.dest,0,r)):(i.splice(t.dest+1,0,r),i.splice(t.src,1)),i=i.map((o,a)=>({...o,sticky:e[a].sticky})),n=i}return n}function ki(e,t){let n=0;const i=qc(e,t);for(let r=0;r<i.length;r++){const o=i[r];if(o.sticky)n+=o.width;else break}return n}function ri(e,t,n){if(typeof n=="number")return t*n;{let i=0;for(let r=e-t;r<e;r++)i+=n(r);return i}}function _s(e,t,n,i,r){const o=qc(e,i),a=[];for(const u of o)if(u.sticky)a.push(u);else break;if(a.length>0)for(const u of a)n-=u.width;let s=t,l=r??0;for(;l<=n&&s<o.length;)l+=o[s].width,s++;for(let u=t;u<s;u++){const c=o[u];c.sticky||a.push(c)}return a}function fp(e,t,n){let i=0;for(const r of t){const o=r.sticky?i:i+(n??0);if(e<=o+r.width)return r.sourceIndex;i+=r.width}return-1}function hp(e,t,n,i,r,o,a,s,l,u){const c=i+r;if(n&&e<=r)return-2;if(e<=c)return-1;let d=t;for(let m=0;m<u;m++){const p=o-1-m,b=typeof a=="number"?a:a(p);if(d-=b,e>=d)return p}const f=o-u,h=e-(l??0);if(typeof a=="number"){const m=Math.floor((h-c)/a)+s;return m>=f?void 0:m}else{let m=c;for(let p=s;p<f;p++){const b=a(p);if(h<=m+b)return p;m+=b}return}}let sa=0,ro={};const gp=typeof window>"u";async function mp(){var e;gp||((e=document==null?void 0:document.fonts)==null?void 0:e.ready)===void 0||(await document.fonts.ready,sa=0,ro={},rp())}mp();function Kc(e,t,n,i){return`${e}_${i??(t==null?void 0:t.font)}_${n}`}function ii(e,t,n,i="middle"){const r=Kc(e,t,i,n);let o=ro[r];return o===void 0&&(o=t.measureText(e),ro[r]=o,sa++),sa>1e4&&(ro={},sa=0),o}function Zc(e,t){const n=Kc(e,void 0,"middle",t);return ro[n]}function pr(e,t){return typeof t!="string"&&(t=t.baseFontFull),pp(e,t)}function lu(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";e.save(),e.textBaseline=t;const i=e.measureText(n);return e.restore(),i}const uu=[];function pp(e,t){for(const o of uu)if(o.key===t)return o.val;const n=lu(e,"alphabetic"),r=-(lu(e,"middle").actualBoundingBoxDescent-n.actualBoundingBoxDescent)+n.actualBoundingBoxAscent/2;return uu.push({key:t,val:r}),r}function vp(e,t,n,i,r,o){const{ctx:a,rect:s,theme:l}=e;let u=Number.MAX_SAFE_INTEGER;const c=500;if(t!==void 0&&(u=n-t,u<c)){const d=1-u/c;a.globalAlpha=d,a.fillStyle=l.bgSearchResult,a.fillRect(s.x+1,s.y+1,s.width-(r?2:1),s.height-(o?2:1)),a.globalAlpha=1,i!==void 0&&(i.fillStyle=l.bgSearchResult)}return u<c}function vo(e,t,n){const{ctx:i,theme:r}=e,o=t??{},a=n??r.textDark;return a!==o.fillStyle&&(i.fillStyle=a,o.fillStyle=a),o}function Jc(e,t,n){const{rect:i,ctx:r,theme:o}=e;r.fillStyle=o.textDark,fr({ctx:r,rect:i,theme:o},t,n)}function Qc(e,t,n,i,r,o,a,s,l){l==="right"?e.fillText(t,n+r-(s.cellHorizontalPadding+.5),i+o/2+a):l==="center"?e.fillText(t,n+r/2,i+o/2+a):e.fillText(t,n+s.cellHorizontalPadding+.5,i+o/2+a)}function ed(e,t){const n=ii("ABCi09jgqpy",e,t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}function bp(e,t){e.includes(`
`)&&(e=e.split(/\r?\n/,1)[0]);const n=t/4;return e.length>n&&(e=e.slice(0,n)),e}function wp(e,t,n,i,r,o,a,s,l,u){const c=s.baseFontFull,d=sp(e,t,c,r-s.cellHorizontalPadding*2,u??!1),f=ed(e,c),h=s.lineHeight*f,m=f+h*(d.length-1),p=m+s.cellVerticalPadding>o;p&&(e.save(),e.rect(n,i,r,o),e.clip());const b=i+o/2-m/2;let y=Math.max(i+s.cellVerticalPadding,b);for(const w of d)if(Qc(e,w,n,y,r,f,a,s,l),y+=h,y>i+o)break;p&&e.restore()}function fr(e,t,n,i,r){const{ctx:o,rect:a,theme:s}=e,{x:l,y:u,width:c,height:d}=a;i=i??!1,i||(t=bp(t,c));const f=pr(o,s),h=Zs(t)==="rtl";if(n===void 0&&h&&(n="right"),h&&(o.direction="rtl"),t.length>0){let m=!1;n==="right"?(o.textAlign="right",m=!0):n!==void 0&&n!=="left"&&(o.textAlign=n,m=!0),i?wp(o,t,l,u,c,d,f,s,n,r):Qc(o,t,l,u,c,d,f,s,n),m&&(o.textAlign="start"),h&&(o.direction="inherit")}}function mr(e,t,n,i,r,o){typeof o=="number"&&(o={tl:o,tr:o,br:o,bl:o}),o={tl:Math.max(0,Math.min(o.tl,r/2,i/2)),tr:Math.max(0,Math.min(o.tr,r/2,i/2)),bl:Math.max(0,Math.min(o.bl,r/2,i/2)),br:Math.max(0,Math.min(o.br,r/2,i/2))},e.moveTo(t+o.tl,n),e.arcTo(t+i,n,t+i,n+o.tr,o.tr),e.arcTo(t+i,n+r,t+i-o.br,n+r,o.br),e.arcTo(t,n+r,t,n+r-o.bl,o.bl),e.arcTo(t,n,t+o.tl,n,o.tl)}function yp(e,t,n){e.arc(t,n-1.25*3.5,1.25,0,2*Math.PI,!1),e.arc(t,n,1.25,0,2*Math.PI,!1),e.arc(t,n+1.25*3.5,1.25,0,2*Math.PI,!1)}function Cp(e,t,n){const i=function(s,l){const u=l.x-s.x,c=l.y-s.y,d=Math.sqrt(u*u+c*c),f=u/d,h=c/d;return{x:u,y:l.y-s.y,len:d,nx:f,ny:h,ang:Math.atan2(h,f)}};let r;const o=t.length;let a=t[o-1];for(let s=0;s<o;s++){let l=t[s%o];const u=t[(s+1)%o],c=i(l,a),d=i(l,u),f=c.nx*d.ny-c.ny*d.nx,h=c.nx*d.nx-c.ny*-d.ny;let m=Math.asin(f<-1?-1:f>1?1:f),p=1,b=!1;h<0?m<0?m=Math.PI+m:(m=Math.PI-m,p=-1,b=!0):m>0&&(p=-1,b=!0),r=l.radius!==void 0?l.radius:n;const y=m/2;let w=Math.abs(Math.cos(y)*r/Math.sin(y)),S;w>Math.min(c.len/2,d.len/2)?(w=Math.min(c.len/2,d.len/2),S=Math.abs(w*Math.sin(y)/Math.cos(y))):S=r;let M=l.x+d.nx*w,C=l.y+d.ny*w;M+=-d.ny*S*p,C+=d.nx*S*p,e.arc(M,C,S,c.ang+Math.PI/2*p,d.ang-Math.PI/2*p,b),a=l,l=u}e.closePath()}function Ls(e,t,n,i,r,o,a,s,l,u,c,d,f,h,m){const p={x:0,y:o+u,width:0,height:0};if(e>=h.length||t>=c||t<-2||e<0)return p;const b=o-r;if(e>=d){const y=a>e?-1:1,w=ki(h);p.x+=w+l;for(let S=a;S!==e;S+=y)p.x+=h[y===1?S:S-1].width*y}else for(let y=0;y<e;y++)p.x+=h[y].width;if(p.width=h[e].width+1,t===-1)p.y=r,p.height=b;else if(t===-2){p.y=0,p.height=r;let y=e;const w=h[e].group,S=h[e].sticky;for(;y>0&&so(h[y-1].group,w)&&h[y-1].sticky===S;){const C=h[y-1];p.x-=C.width,p.width+=C.width,y--}let M=e;for(;M+1<h.length&&so(h[M+1].group,w)&&h[M+1].sticky===S;){const C=h[M+1];p.width+=C.width,M++}if(!S){const C=ki(h),x=p.x-C;x<0&&(p.x-=x,p.width+=x),p.x+p.width>n&&(p.width=n-p.x)}}else if(t>=c-f){let y=c-t;for(p.y=i;y>0;){const w=t+y-1;p.height=typeof m=="number"?m:m(w),p.y-=p.height,y--}p.height+=1}else{const y=s>t?-1:1;if(typeof m=="number"){const w=t-s;p.y+=w*m}else for(let w=s;w!==t;w+=y)p.y+=m(w)*y;p.height=(typeof m=="number"?m:m(t))+1}return p}const el=1<<21;function or(e,t){return(t+2)*el+e}function td(e){return e%el}function tl(e){return Math.floor(e/el)-2}function nl(e){const t=td(e),n=tl(e);return[t,n]}class nd{constructor(){dt(this,"visibleWindow",{x:0,y:0,width:0,height:0});dt(this,"freezeCols",0);dt(this,"freezeRows",[]);dt(this,"isInWindow",t=>{const n=td(t),i=tl(t),r=this.visibleWindow,o=n>=r.x&&n<=r.x+r.width||n<this.freezeCols,a=i>=r.y&&i<=r.y+r.height||this.freezeRows.includes(i);return o&&a})}setWindow(t,n,i){this.visibleWindow.x===t.x&&this.visibleWindow.y===t.y&&this.visibleWindow.width===t.width&&this.visibleWindow.height===t.height&&this.freezeCols===n&&xi(this.freezeRows,i)||(this.visibleWindow=t,this.freezeCols=n,this.freezeRows=i,this.clearOutOfWindow())}}class Sp extends nd{constructor(){super(...arguments);dt(this,"cache",new Map);dt(this,"setValue",(n,i)=>{this.cache.set(or(n[0],n[1]),i)});dt(this,"getValue",n=>this.cache.get(or(n[0],n[1])));dt(this,"clearOutOfWindow",()=>{for(const[n]of this.cache.entries())this.isInWindow(n)||this.cache.delete(n)})}}class io{constructor(t=[]){dt(this,"cells");this.cells=new Set(t.map(n=>or(n[0],n[1])))}add(t){this.cells.add(or(t[0],t[1]))}has(t){return t===void 0?!1:this.cells.has(or(t[0],t[1]))}remove(t){this.cells.delete(or(t[0],t[1]))}clear(){this.cells.clear()}get size(){return this.cells.size}hasHeader(){for(const t of this.cells)if(tl(t)<0)return!0;return!1}hasItemInRectangle(t){for(let n=t.y;n<t.y+t.height;n++)for(let i=t.x;i<t.x+t.width;i++)if(this.cells.has(or(i,n)))return!0;return!1}hasItemInRegion(t){for(const n of t)if(this.hasItemInRectangle(n))return!0;return!1}*values(){for(const t of this.cells)yield nl(t)}}function xp(e){return{"--gdg-accent-color":e.accentColor,"--gdg-accent-fg":e.accentFg,"--gdg-accent-light":e.accentLight,"--gdg-text-dark":e.textDark,"--gdg-text-medium":e.textMedium,"--gdg-text-light":e.textLight,"--gdg-text-bubble":e.textBubble,"--gdg-bg-icon-header":e.bgIconHeader,"--gdg-fg-icon-header":e.fgIconHeader,"--gdg-text-header":e.textHeader,"--gdg-text-group-header":e.textGroupHeader??e.textHeader,"--gdg-text-header-selected":e.textHeaderSelected,"--gdg-bg-cell":e.bgCell,"--gdg-bg-cell-medium":e.bgCellMedium,"--gdg-bg-header":e.bgHeader,"--gdg-bg-header-has-focus":e.bgHeaderHasFocus,"--gdg-bg-header-hovered":e.bgHeaderHovered,"--gdg-bg-bubble":e.bgBubble,"--gdg-bg-bubble-selected":e.bgBubbleSelected,"--gdg-bg-search-result":e.bgSearchResult,"--gdg-border-color":e.borderColor,"--gdg-horizontal-border-color":e.horizontalBorderColor??e.borderColor,"--gdg-drilldown-border":e.drilldownBorder,"--gdg-link-color":e.linkColor,"--gdg-cell-horizontal-padding":`${e.cellHorizontalPadding}px`,"--gdg-cell-vertical-padding":`${e.cellVerticalPadding}px`,"--gdg-header-font-style":e.headerFontStyle,"--gdg-base-font-style":e.baseFontStyle,"--gdg-marker-font-style":e.markerFontStyle,"--gdg-font-family":e.fontFamily,"--gdg-editor-font-size":e.editorFontSize,...e.resizeIndicatorColor===void 0?{}:{"--gdg-resize-indicator-color":e.resizeIndicatorColor},...e.headerBottomBorderColor===void 0?{}:{"--gdg-header-bottom-border-color":e.headerBottomBorderColor},...e.roundingRadius===void 0?{}:{"--gdg-rounding-radius":`${e.roundingRadius}px`}}}const rd={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#353fb5",cellHorizontalPadding:8,cellVerticalPadding:3,headerIconSize:18,headerFontStyle:"600 13px",baseFontStyle:"13px",markerFontStyle:"9px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif",editorFontSize:"13px",lineHeight:1.4};function id(){return rd}const od=ee.createContext(rd);function kp(){return ee.useContext(od)}function xr(e,...t){const n={...e};for(const i of t)if(i!==void 0)for(const r in i)i.hasOwnProperty(r)&&(r==="bgCell"?n[r]=Hn(i[r],n[r]):n[r]=i[r]);return(n.headerFontFull===void 0||e.fontFamily!==n.fontFamily||e.headerFontStyle!==n.headerFontStyle)&&(n.headerFontFull=`${n.headerFontStyle} ${n.fontFamily}`),(n.baseFontFull===void 0||e.fontFamily!==n.fontFamily||e.baseFontStyle!==n.baseFontStyle)&&(n.baseFontFull=`${n.baseFontStyle} ${n.fontFamily}`),(n.markerFontFull===void 0||e.fontFamily!==n.fontFamily||e.markerFontStyle!==n.markerFontStyle)&&(n.markerFontFull=`${n.markerFontStyle} ${n.fontFamily}`),n}const Fs=150;function Mp(e,t,n,i){var o;const r=i(t);return((o=r==null?void 0:r.measure)==null?void 0:o.call(r,e,t,n))??Fs}function ad(e,t,n,i,r,o,a,s,l){let u=0;const c=r===void 0?[]:r.map(f=>{const h=Mp(e,f[i],t,l);return u=Math.max(u,h),h});if(c.length>5&&s){u=0;let f=0;for(const m of c)f+=m;const h=f/c.length;for(let m=0;m<c.length;m++)c[m]>=h*2?c[m]=0:u=Math.max(u,c[m])}u=Math.max(u,e.measureText(n.title).width+t.cellHorizontalPadding*2+(n.icon===void 0?0:28));const d=Math.max(Math.ceil(o),Math.min(Math.floor(a),Math.ceil(u)));return{...n,width:d}}function Rp(e,t,n,i,r,o,a,s,l){const u=g.useRef(t),c=g.useRef(n),d=g.useRef(a);u.current=t,c.current=n,d.current=a;const[f,h]=g.useMemo(()=>{if(typeof window>"u")return[null,null];const w=document.createElement("canvas");return w.style.display="none",w.style.opacity="0",w.style.position="fixed",[w,w.getContext("2d",{alpha:!1})]},[]);g.useLayoutEffect(()=>(f&&document.documentElement.append(f),()=>{f==null||f.remove()}),[f]);const m=g.useRef({}),p=g.useRef(),[b,y]=g.useState();return g.useLayoutEffect(()=>{const w=c.current;if(w===void 0||e.every(No))return;let S=Math.max(1,10-Math.floor(e.length/1e4)),M=0;S<u.current&&S>1&&(S--,M=1);const C={x:0,y:0,width:e.length,height:Math.min(u.current,S)},x={x:0,y:u.current-1,width:e.length,height:1};(async()=>{const I=w(C,l.signal),E=M>0?w(x,l.signal):void 0;let L;typeof I=="object"?L=I:L=await Wl(I),E!==void 0&&(typeof E=="object"?L=[...L,...E]:L=[...L,...await Wl(E)]),p.current=e,y(L)})()},[l.signal,e]),g.useMemo(()=>{let S=e.every(No)?e:h===null?e.map(R=>No(R)?R:{...R,width:Fs}):(h.font=d.current.baseFontFull,e.map((R,I)=>{if(No(R))return R;if(m.current[R.id]!==void 0)return{...R,width:m.current[R.id]};if(b===void 0||p.current!==e||R.id===void 0)return{...R,width:Fs};const E=ad(h,a,R,I,b,r,o,!0,s);return m.current[R.id]=E.width,E})),M=0,C=0;const x=[];for(const[R,I]of S.entries())M+=I.width,I.grow!==void 0&&I.grow>0&&(C+=I.grow,x.push(R));if(M<i&&x.length>0){const R=[...S],I=i-M;let E=I;for(let L=0;L<x.length;L++){const z=x[L],_=(S[z].grow??0)/C,F=L===x.length-1?E:Math.min(E,Math.floor(I*_));R[z]={...S[z],growOffset:F,width:S[z].width+F},E-=F}S=R}return{sizedColumns:S,nonGrowWidth:M}},[i,e,h,b,a,r,o,s])}function Ep(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var Ip=Ep,Tp=Ip,cs=dc;function Dp(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=cs(n),n=n===n?n:0),t!==void 0&&(t=cs(t),t=t===t?t:0),Tp(cs(e),t,n)}var Op=Dp;const Xn=Mi(Op);function Pp(){}var _p=Pp,ds=qf,Lp=_p,Fp=fc,Ap=1/0,Hp=ds&&1/Fp(new ds([,-0]))[1]==Ap?function(e){return new ds(e)}:Lp,zp=Hp,$p=Kf,Vp=Zf,Np=Jf,Bp=Qf,Wp=zp,Up=fc,Xp=200;function Yp(e,t,n){var i=-1,r=Vp,o=e.length,a=!0,s=[],l=s;if(n)a=!1,r=Np;else if(o>=Xp){var u=t?null:Wp(e);if(u)return Up(u);a=!1,r=Bp,l=new $p}else l=t?[]:s;e:for(;++i<o;){var c=e[i],d=t?t(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else r(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var Gp=Yp,jp=Gp;function qp(e){return e&&e.length?jp(e):[]}var Kp=qp;const Zp=Mi(Kp),Yt='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',Jp=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Yt}<rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="${t}"/></svg>`},Qp=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Yt}<rect x="2" y="2" width="16" height="16" rx="4" fill="${n}"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="${t}"/></svg>`},e0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="${t}"/>
  </svg>`},t0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="${t}"/>
</svg>`},n0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
    <path
        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"
        fill="${n}"
    />
    <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"
        fill="${t}"
    />
</svg>`},sd=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="${t}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="${t}"/>
</svg>
  `},r0=e=>{const t=e.bgColor;return`${Yt}
    <path stroke="${t}" stroke-width="2" d="M12 3v14"/>
    <path stroke="${t}" stroke-width="2" stroke-linecap="round" d="M10 4h4m-4 12h4"/>
    <path d="M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z" fill="${t}"/>
  </svg>
`},i0=sd,o0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="${t}"/>
</svg>`},a0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Yt}
    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="${t}"/>
    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="${t}"/>
    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
  </svg>`},s0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="${t}"/>
</svg>`},l0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Yt}
    <path fill="${t}" d="M3 3h14v14H3z"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="${n}"/>
  </svg>`},u0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Yt}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="${t}"/>
  </svg>`},c0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="${t}"/>
</svg>`},d0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Yt}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="${t}"/>
    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="${t}"/>
  </svg>`},f0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="${t}"/>
</svg>`},h0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Yt}
    <rect x="2" y="8" width="10" height="8" rx="2" fill="${n}"/>
    <rect x="8" y="4" width="10" height="8" rx="2" fill="${n}"/>
    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="${t}"/>
  </svg>`},g0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
  <path fill="${t}" d="M4 3h12v14H4z"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="${n}"/>
</svg>`},m0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Yt}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="${t}"/>
  </svg>`},p0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Yt}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="${t}"/>
  </svg>`},v0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="${t}"/>
</svg>`},b0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="${t}"/>
  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="${t}"/>
</svg>`},w0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Yt}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="${t}"/>
  </svg>`},y0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="${t}"/>
</svg>`},C0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Yt}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="${t}"/>
  </svg>`},S0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="${t}"/>
</svg>`},x0=e=>{const t=e.fgColor,n=e.bgColor;return`${Yt}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="${t}"/>
</svg>`},k0=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>`},M0=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>
`},R0={headerRowID:Jp,headerNumber:e0,headerCode:Qp,headerString:t0,headerBoolean:n0,headerAudioUri:i0,headerVideoUri:o0,headerEmoji:a0,headerImage:s0,headerUri:sd,headerPhone:l0,headerMarkdown:u0,headerDate:c0,headerTime:d0,headerEmail:f0,headerReference:h0,headerIfThenElse:g0,headerSingleValue:m0,headerLookup:p0,headerTextTemplate:v0,headerMath:b0,headerRollup:w0,headerJoinStrings:y0,headerSplitString:C0,headerGeoDistance:S0,headerArray:x0,rowOwnerOverlay:k0,protectedColumnOverlay:M0,renameIcon:r0};function E0(e,t){return e==="normal"?[t.bgIconHeader,t.fgIconHeader]:e==="selected"?["white",t.accentColor]:[t.accentColor,t.bgHeader]}class I0{constructor(t,n){dt(this,"onSettled");dt(this,"spriteMap",new Map);dt(this,"headerIcons");dt(this,"inFlight",0);this.onSettled=n,this.headerIcons=t??{}}drawSprite(t,n,i,r,o,a,s,l=1){const[u,c]=E0(n,s),d=a*Math.ceil(window.devicePixelRatio),f=`${u}_${c}_${d}_${t}`;let h=this.spriteMap.get(f);if(h===void 0){const m=this.headerIcons[t];if(m===void 0)return;h=document.createElement("canvas");const p=h.getContext("2d");if(p===null)return;const b=new Image;b.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(m({fgColor:c,bgColor:u}))}`,this.spriteMap.set(f,h);const y=b.decode();if(y===void 0)return;this.inFlight++,y.then(()=>{p.drawImage(b,0,0,d,d)}).finally(()=>{this.inFlight--,this.inFlight===0&&this.onSettled()})}else l<1&&(i.globalAlpha=l),i.drawImage(h,0,0,d,d,r,o,a,a),l<1&&(i.globalAlpha=1)}}function ld(e){if(e.length===0)return;let t;for(const n of e)t=Math.min(t??n.y,n.y)}function Fa(e,t,n,i,r,o,a,s,l){s=s??t;let u=t,c=e;const d=i-o;let f=!1;for(;u<n&&c<d;){const h=r(c);if(u+h>s&&l(u,c,h,!1,a&&c===i-1)===!0){f=!0;break}u+=h,c++}if(!f){u=n;for(let h=0;h<o;h++){c=i-1-h;const m=r(c);u-=m,l(u,c,m,!0,a&&c===i-1)}}}function Vr(e,t,n,i,r,o){let a=0,s=0;const l=r+i;for(const u of e){const c=u.sticky?s:a+n;if(o(u,c,l,u.sticky?0:s,t)===!0)break;a+=u.width,s+=u.sticky?u.width:0}}function ud(e,t,n,i,r){let o=0,a=0;for(let s=0;s<e.length;s++){const l=e[s];let u=s+1,c=l.width;for(l.sticky&&(a+=c);u<e.length&&so(e[u].group,l.group)&&e[u].sticky===e[s].sticky;){const p=e[u];c+=p.width,u++,s++,p.sticky&&(a+=p.width)}const d=l.sticky?0:n,f=o+d,h=l.sticky?0:Math.max(0,a-f),m=Math.min(c-h,t-(f+h));r([l.sourceIndex,e[u-1].sourceIndex],l.group??"",f+h,0,m,i),o+=c}}function cd(e,t,n,i,r,o,a){var f;const[s,l]=e;let u,c;const d=((f=a.find(h=>!h.sticky))==null?void 0:f.sourceIndex)??0;if(l>d){const h=Math.max(s,d);let m=t,p=i;for(let b=o.sourceIndex-1;b>=h;b--)m-=a[b].width,p+=a[b].width;for(let b=o.sourceIndex+1;b<=l;b++)p+=a[b].width;c={x:m,y:n,width:p,height:r}}if(d>s){const h=Math.min(l,d-1);let m=t,p=i;for(let b=o.sourceIndex-1;b>=s;b--)m-=a[b].width,p+=a[b].width;for(let b=o.sourceIndex+1;b<=h;b++)p+=a[b].width;u={x:m,y:n,width:p,height:r}}return[u,c]}function T0(e,t,n,i){if(i==="any")return dd(e,{x:t,y:n,width:1,height:1});if(i==="vertical"&&(t=e.x),i==="horizontal"&&(n=e.y),Gc([t,n],e))return;const r=t-e.x,o=e.x+e.width-t,a=n-e.y+1,s=e.y+e.height-n,l=Math.min(i==="vertical"?Number.MAX_SAFE_INTEGER:r,i==="vertical"?Number.MAX_SAFE_INTEGER:o,i==="horizontal"?Number.MAX_SAFE_INTEGER:a,i==="horizontal"?Number.MAX_SAFE_INTEGER:s);return l===s?{x:e.x,y:e.y+e.height,width:e.width,height:n-e.y-e.height+1}:l===a?{x:e.x,y:n,width:e.width,height:e.y-n}:l===o?{x:e.x+e.width,y:e.y,width:t-e.x-e.width+1,height:e.height}:{x:t,y:e.y,width:e.x-t,height:e.height}}function lo(e,t,n,i,r,o,a,s){return e<=r+a&&r<=e+n&&t<=o+s&&o<=t+i}function ei(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function dd(e,t){const n=Math.min(e.x,t.x),i=Math.min(e.y,t.y),r=Math.max(e.x+e.width,t.x+t.width)-n,o=Math.max(e.y+e.height,t.y+t.height)-i;return{x:n,y:i,width:r,height:o}}function D0(e,t){return e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height}function O0(e,t,n,i){if(e.x>t||e.y>n||e.x<0&&e.y<0&&e.x+e.width>t&&e.y+e.height>n)return;if(e.x>=0&&e.y>=0&&e.x+e.width<=t&&e.y+e.height<=n)return e;const r=-4,o=-4,a=t+4,s=n+4,l=r-e.x,u=e.x+e.width-a,c=o-e.y,d=e.y+e.height-s,f=l>0?e.x+Math.floor(l/i)*i:e.x,h=u>0?e.x+e.width-Math.floor(u/i)*i:e.x+e.width,m=c>0?e.y+Math.floor(c/i)*i:e.y,p=d>0?e.y+e.height-Math.floor(d/i)*i:e.y+e.height;return{x:f,y:m,width:h-f,height:p-m}}function P0(e,t,n,i,r){const[o,a,s,l]=t,[u,c,d,f]=r,{x:h,y:m,width:p,height:b}=e,y=[];if(p<=0||b<=0)return y;const w=h+p,S=m+b,M=h<o,C=m<a,x=h+p>s,R=m+b>l,I=h>=o&&h<s||w>o&&w<=s||h<o&&w>s,E=m>=a&&m<l||S>a&&S<=l||m<a&&S>l;if(I&&E){const z=Math.max(h,o),_=Math.max(m,a),F=Math.min(w,s),P=Math.min(S,l);y.push({rect:{x:z,y:_,width:F-z,height:P-_},clip:{x:u,y:c,width:d-u+1,height:f-c+1}})}if(M&&C){const z=h,_=m,F=Math.min(w,o),P=Math.min(S,a);y.push({rect:{x:z,y:_,width:F-z,height:P-_},clip:{x:0,y:0,width:u+1,height:c+1}})}if(C&&I){const z=Math.max(h,o),_=m,F=Math.min(w,s),P=Math.min(S,a);y.push({rect:{x:z,y:_,width:F-z,height:P-_},clip:{x:u,y:0,width:d-u+1,height:c+1}})}if(C&&x){const z=Math.max(h,s),_=m,F=w,P=Math.min(S,a);y.push({rect:{x:z,y:_,width:F-z,height:P-_},clip:{x:d,y:0,width:n-d+1,height:c+1}})}if(M&&E){const z=h,_=Math.max(m,a),F=Math.min(w,o),P=Math.min(S,l);y.push({rect:{x:z,y:_,width:F-z,height:P-_},clip:{x:0,y:c,width:u+1,height:f-c+1}})}if(x&&E){const z=Math.max(h,s),_=Math.max(m,a),F=w,P=Math.min(S,l);y.push({rect:{x:z,y:_,width:F-z,height:P-_},clip:{x:d,y:c,width:n-d+1,height:f-c+1}})}if(M&&R){const z=h,_=Math.max(m,l),F=Math.min(w,o),P=S;y.push({rect:{x:z,y:_,width:F-z,height:P-_},clip:{x:0,y:f,width:u+1,height:i-f+1}})}if(R&&I){const z=Math.max(h,o),_=Math.max(m,l),F=Math.min(w,s),P=S;y.push({rect:{x:z,y:_,width:F-z,height:P-_},clip:{x:u,y:f,width:d-u+1,height:i-f+1}})}if(x&&R){const z=Math.max(h,s),_=Math.max(m,l),F=w,P=S;y.push({rect:{x:z,y:_,width:F-z,height:P-_},clip:{x:d,y:f,width:n-d+1,height:i-f+1}})}return y}const _0={kind:Z.Loading,allowOverlay:!1};function cu(e,t,n,i,r,o,a,s,l,u,c,d,f,h,m,p,b,y,w,S,M,C,x,R,I,E,L,z,_,F,P,ne,J,oe,ce){let ke=(S==null?void 0:S.size)??Number.MAX_SAFE_INTEGER;const ae=performance.now();let K=F.baseFontFull;e.font=K;const ie={ctx:e},re=[0,0],ge=b>0?ri(l,b,u):0;let ye,G;const O=ld(w);return Vr(t,s,o,a,r,(k,N,ue,fe,$e)=>{const me=Math.max(0,fe-N),Ge=N+me,Me=r+1,_t=k.width-me,Rt=i-r-1;if(w.length>0){let Ve=!1;for(let Oe=0;Oe<w.length;Oe++){const rt=w[Oe];if(lo(Ge,Me,_t,Rt,rt.x,rt.y,rt.width,rt.height)){Ve=!0;break}}if(!Ve)return}const et=()=>{e.save(),e.beginPath(),e.rect(Ge,Me,_t,Rt),e.clip()},te=M.columns.hasIndex(k.sourceIndex),je=d(k.group??"").overrideTheme,ve=k.themeOverride===void 0&&je===void 0?F:xr(F,je,k.themeOverride),se=ve.baseFontFull;se!==K&&(K=se,e.font=se),et();let pe;return Fa($e,ue,i,l,u,b,y,O,(Ve,Oe,rt,he,Ee)=>{var hn,pn,vn;if(Oe<0||(re[0]=k.sourceIndex,re[1]=Oe,S!==void 0&&!S.has(re)))return;if(w.length>0){let ot=!1;for(let Nt=0;Nt<w.length;Nt++){const Lt=w[Nt];if(lo(N,Ve,k.width,rt,Lt.x,Lt.y,Lt.width,Lt.height)){ot=!0;break}}if(!ot)return}const lt=M.rows.hasIndex(Oe),Ae=h.hasIndex(Oe),it=Oe<l?c(re):_0;let bt=N,gt=k.width,He=!1,Dt=!1;if(it.span!==void 0){const[ot,Nt]=it.span,Lt=`${Oe},${ot},${Nt},${k.sticky}`;if(G===void 0&&(G=new Set),G.has(Lt)){ke--;return}else{const on=cd(it.span,N,Ve,k.width,rt,k,n),Ot=k.sticky?on[0]:on[1];if(!k.sticky&&on[0]!==void 0&&(Dt=!0),Ot!==void 0){bt=Ot.x,gt=Ot.width,G.add(Lt),e.restore(),pe=void 0,e.save(),e.beginPath();const zt=Math.max(0,fe-Ot.x);e.rect(Ot.x+zt,Ve,Ot.width-zt,rt),ye===void 0&&(ye=[]),ye.push({x:Ot.x+zt,y:Ve,width:Ot.width-zt,height:rt}),e.clip(),He=!0}}}const Gt=f==null?void 0:f(Oe),vt=Ee&&((hn=k.trailingRowOptions)==null?void 0:hn.themeOverride)!==void 0?(pn=k.trailingRowOptions)==null?void 0:pn.themeOverride:void 0,Et=it.themeOverride===void 0&&Gt===void 0&&vt===void 0?ve:xr(ve,Gt,vt,it.themeOverride);e.beginPath();const Kt=cp(re,it,M);let At=dp(re,it,M,p);const Rn=it.span!==void 0&&M.columns.some(ot=>it.span!==void 0&&ot>=it.span[0]&&ot<=it.span[1]);Kt&&!m&&p?At=0:Kt&&p&&(At=Math.max(At,1)),Rn&&At++,Kt||(lt&&At++,te&&!Ee&&At++);const Vt=it.kind===Z.Protected?Et.bgCellMedium:Et.bgCell;let It;if((he||Vt!==F.bgCell)&&(It=Hn(Vt,It)),At>0||Ae){Ae&&(It=Hn(Et.bgHeader,It));for(let ot=0;ot<At;ot++)It=Hn(Et.accentLight,It)}else if(C!==void 0){for(const ot of C)if(ot[0]===k.sourceIndex&&ot[1]===Oe){It=Hn(Et.bgSearchResult,It);break}}if(x!==void 0)for(let ot=0;ot<x.length;ot++){const Nt=x[ot],Lt=Nt.range;Nt.style!=="solid-outline"&&Lt.x<=k.sourceIndex&&k.sourceIndex<Lt.x+Lt.width&&Lt.y<=Oe&&Oe<Lt.y+Lt.height&&(It=Hn(Nt.color,It))}let En=!1;if(S!==void 0){const ot=Ve+1,Lt=(he?ot+rt-1:Math.min(ot+rt-1,i-ge))-ot;(Lt!==rt-1||bt+1<=fe)&&(En=!0,e.save(),e.beginPath(),e.rect(bt+1,ot,gt-1,Lt),e.clip()),It=It===void 0?Et.bgCell:Hn(It,Et.bgCell)}const Cn=k.sourceIndex===n.length-1,Pe=Oe===l-1;It!==void 0&&(e.fillStyle=It,pe!==void 0&&(pe.fillStyle=It),S!==void 0?e.fillRect(bt+1,Ve+1,gt-(Cn?2:1),rt-(Pe?2:1)):e.fillRect(bt,Ve,gt,rt)),it.style==="faded"&&(e.globalAlpha=.6);let Ht;for(let ot=0;ot<E.length;ot++){const Nt=E[ot];if(Nt.item[0]===k.sourceIndex&&Nt.item[1]===Oe){Ht=Nt;break}}if(gt>ce&&!Dt){const ot=Et.baseFontFull;ot!==K&&(e.font=ot,K=ot),pe=fd(e,it,k.sourceIndex,Oe,Cn,Pe,bt,Ve,gt,rt,At>0,Et,It??Et.bgCell,R,I,(Ht==null?void 0:Ht.hoverAmount)??0,L,_,ae,z,pe,P,ne,J,oe)}return En&&e.restore(),it.style==="faded"&&(e.globalAlpha=1),ke--,He&&(e.restore(),(vn=pe==null?void 0:pe.deprep)==null||vn.call(pe,ie),pe=void 0,et(),K=se,e.font=se),ke<=0}),e.restore(),ke<=0}),ye}const Ui=[0,0],Xi={x:0,y:0,width:0,height:0},fs=[void 0,()=>{}];let As=!1;function L0(){As=!0}function fd(e,t,n,i,r,o,a,s,l,u,c,d,f,h,m,p,b,y,w,S,M,C,x,R,I){var ne,J;let E,L;b!==void 0&&b[0][0]===n&&b[0][1]===i&&(E=b[1][0],L=b[1][1]);let z;Ui[0]=n,Ui[1]=i,Xi.x=a,Xi.y=s,Xi.width=l,Xi.height=u,fs[0]=x.getValue(Ui),fs[1]=oe=>x.setValue(Ui,oe),As=!1;const _={ctx:e,theme:d,col:n,row:i,cell:t,rect:Xi,highlighted:c,cellFillColor:f,hoverAmount:p,frameTime:w,hoverX:E,drawState:fs,hoverY:L,imageLoader:h,spriteManager:m,hyperWrapping:y,overrideCursor:E!==void 0?I:void 0,requestAnimationFrame:L0},F=vp(_,t.lastUpdated,w,M,r,o),P=R(t);if(P!==void 0){(M==null?void 0:M.renderer)!==P&&((ne=M==null?void 0:M.deprep)==null||ne.call(M,_),M=void 0);const oe=(J=P.drawPrep)==null?void 0:J.call(P,_,M);S!==void 0&&!wi(_.cell)?S(_,()=>P.draw(_,t)):P.draw(_,t),z=oe===void 0?void 0:{deprep:oe==null?void 0:oe.deprep,fillStyle:oe==null?void 0:oe.fillStyle,font:oe==null?void 0:oe.font,renderer:P}}return(F||As)&&(C==null||C(Ui)),z}function rl(e,t,n,i,r,o,a,s,l=-20,u=-20,c=32,d="center",f="square"){const h=Math.floor(r+a/2),m=f==="circle"?1e4:t.roundingRadius??4;let p=Hc(c,a,t.cellVerticalPadding),b=p/2;const y=Ac(d,i,o,t.cellHorizontalPadding,p),w=Fc(y,h,p),S=zc(i+l,r+u,w);switch(n){case!0:{e.beginPath(),mr(e,y-p/2,h-p/2,p,p,m),f==="circle"&&(b*=.8,p*=.8),e.fillStyle=s?t.accentColor:t.textMedium,e.fill(),e.beginPath(),e.moveTo(y-b+p/4.23,h-b+p/1.97),e.lineTo(y-b+p/2.42,h-b+p/1.44),e.lineTo(y-b+p/1.29,h-b+p/3.25),e.strokeStyle=t.bgCell,e.lineJoin="round",e.lineCap="round",e.lineWidth=1.9,e.stroke();break}case ca:case!1:{e.beginPath(),mr(e,y-p/2+.5,h-p/2+.5,p-1,p-1,m),e.lineWidth=1,e.strokeStyle=S?t.textDark:t.textMedium,e.stroke();break}case Xs:{e.beginPath(),mr(e,y-p/2,h-p/2,p,p,m),e.fillStyle=S?t.textMedium:t.textLight,e.fill(),f==="circle"&&(b*=.8,p*=.8),e.beginPath(),e.moveTo(y-p/3,h),e.lineTo(y+p/3,h),e.strokeStyle=t.bgCell,e.lineCap="round",e.lineWidth=1.9,e.stroke();break}default:ao()}}function F0(e,t,n,i,r,o,a,s,l,u,c,d,f,h,m,p,b,y,w){var E,L,z,_;const S=a+s;if(S<=0)return;e.fillStyle=d.bgHeader,e.fillRect(0,0,r,S);const M=(E=i==null?void 0:i[0])==null?void 0:E[0],C=(L=i==null?void 0:i[0])==null?void 0:L[1],x=(z=i==null?void 0:i[1])==null?void 0:z[0],R=(_=i==null?void 0:i[1])==null?void 0:_[1],I=d.headerFontFull;e.font=I,Vr(t,0,o,0,S,(F,P,ne,J)=>{var k;if(b!==void 0&&!b.has([F.sourceIndex,-1]))return;const oe=Math.max(0,J-P);e.save(),e.beginPath(),e.rect(P+oe,s,F.width-oe,a),e.clip();const ce=p(F.group??"").overrideTheme,ke=F.themeOverride===void 0&&ce===void 0?d:xr(d,ce,F.themeOverride);ke.bgHeader!==d.bgHeader&&(e.fillStyle=ke.bgHeader,e.fill()),ke!==d&&(e.font=ke.baseFontFull);const ae=c.columns.hasIndex(F.sourceIndex),K=l!==void 0||u,ie=!K&&C===-1&&M===F.sourceIndex,re=K?0:((k=h.find(N=>N.item[0]===F.sourceIndex&&N.item[1]===-1))==null?void 0:k.hoverAmount)??0,ge=(c==null?void 0:c.current)!==void 0&&c.current.cell[0]===F.sourceIndex,ye=ae?ke.accentColor:ge?ke.bgHeaderHasFocus:ke.bgHeader,G=n?s:0,O=F.sourceIndex===0?0:1;ae?(e.fillStyle=ye,e.fillRect(P+O,G,F.width-O,a)):(ge||re>0)&&(e.beginPath(),e.rect(P+O,G,F.width-O,a),ge&&(e.fillStyle=ke.bgHeaderHasFocus,e.fill()),re>0&&(e.globalAlpha=re,e.fillStyle=ke.bgHeaderHovered,e.fill(),e.globalAlpha=1)),md(e,P,G,F.width,a,F,ae,ke,ie,ie?x:void 0,ie?R:void 0,ge,re,f,y,w),e.restore()}),n&&A0(e,t,r,o,s,i,d,f,h,m,p,b)}function A0(e,t,n,i,r,o,a,s,l,u,c,d){const[h,m]=(o==null?void 0:o[0])??[];let p=0;ud(t,n,i,r,(b,y,w,S,M,C)=>{if(d!==void 0&&!d.hasItemInRectangle({x:b[0],y:-2,width:b[1]-b[0]+1,height:1}))return;e.save(),e.beginPath(),e.rect(w,S,M,C),e.clip();const x=c(y),R=(x==null?void 0:x.overrideTheme)===void 0?a:xr(a,x.overrideTheme),I=m===-2&&h!==void 0&&h>=b[0]&&h<=b[1],E=I?R.bgHeaderHovered:R.bgHeader;if(E!==a.bgHeader&&(e.fillStyle=E,e.fill()),e.fillStyle=R.textGroupHeader??R.textHeader,x!==void 0){let L=w;if(x.icon!==void 0&&(s.drawSprite(x.icon,"normal",e,L+8,(r-20)/2,20,R),L+=26),e.fillText(x.name,L+8,r/2+pr(e,a.headerFontFull)),x.actions!==void 0&&I){const z=hd({x:w,y:S,width:M,height:C},x.actions);e.beginPath();const _=z[0].x-10,F=w+M-_;e.rect(_,0,F,r);const P=e.createLinearGradient(_,0,_+F,0),ne=ti(E,0);P.addColorStop(0,ne),P.addColorStop(10/F,E),P.addColorStop(1,E),e.fillStyle=P,e.fill(),e.globalAlpha=.6;const[J,oe]=(o==null?void 0:o[1])??[-1,-1];for(let ce=0;ce<x.actions.length;ce++){const ke=x.actions[ce],ae=z[ce],K=ei(ae,J+w,oe);K&&(e.globalAlpha=1),s.drawSprite(ke.icon,"normal",e,ae.x+ae.width/2-10,ae.y+ae.height/2-10,20,R),K&&(e.globalAlpha=.6)}e.globalAlpha=1}}w!==0&&u(b[0])&&(e.beginPath(),e.moveTo(w+.5,0),e.lineTo(w+.5,r),e.strokeStyle=a.borderColor,e.lineWidth=1,e.stroke()),e.restore(),p=w+M}),e.beginPath(),e.moveTo(p+.5,0),e.lineTo(p+.5,r),e.moveTo(0,r+.5),e.lineTo(n,r+.5),e.strokeStyle=a.borderColor,e.lineWidth=1,e.stroke()}const Go=30;function H0(e,t,n,i,r){return{x:e+n-Go,y:Math.max(t,t+i/2-Go/2),width:Go,height:Math.min(Go,i)}}function hd(e,t){const n=[];let i=e.x+e.width-26*t.length;const r=e.y+e.height/2-13,o=26,a=26;for(let s=0;s<t.length;s++)n.push({x:i,y:r,width:a,height:o}),i+=26;return n}function Yi(e,t,n){return!n||e===void 0||(e.x=t-(e.x-t)-e.width),e}function gd(e,t,n,i,r,o,a,s){var y;const l=a.cellHorizontalPadding,u=a.headerIconSize,c=H0(n,i,r,o);let d=n+l;const f=t.icon===void 0?void 0:{x:d,y:i+(o-u)/2,width:u,height:u},h=f===void 0||t.overlayIcon===void 0?void 0:{x:f.x+9,y:f.y+6,width:18,height:18};f!==void 0&&(d+=Math.ceil(u*1.3));const m={x:d,y:i,width:r-d,height:o};let p;if(t.indicatorIcon!==void 0){const w=e===void 0?((y=Zc(t.title,a.headerFontFull))==null?void 0:y.width)??0:ii(t.title,e,a.headerFontFull).width;m.width=w,d+=w+l,p={x:d,y:i+(o-u)/2,width:u,height:u}}const b=n+r/2;return{menuBounds:Yi(c,b,s),iconBounds:Yi(f,b,s),iconOverlayBounds:Yi(h,b,s),textBounds:Yi(m,b,s),indicatorIconBounds:Yi(p,b,s)}}function du(e,t,n,i,r,o,a,s,l,u,c,d,f,h,m,p){if(o.rowMarker!==void 0&&o.headerRowMarkerDisabled!==!0){const w=o.rowMarkerChecked;w!==!0&&o.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=d);const S=o.headerRowMarkerTheme!==void 0?xr(s,o.headerRowMarkerTheme):s;rl(e,S,w,t,n,i,r,!1,void 0,void 0,18,"center",o.rowMarker),w!==!0&&o.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=1);return}const b=a?s.textHeaderSelected:s.textHeader,y=o.hasMenu===!0&&(l||h&&a)&&p.menuBounds!==void 0;if(o.icon!==void 0&&p.iconBounds!==void 0){let w=a?"selected":"normal";o.style==="highlight"&&(w=a?"selected":"special"),f.drawSprite(o.icon,w,e,p.iconBounds.x,p.iconBounds.y,p.iconBounds.width,s),o.overlayIcon!==void 0&&p.iconOverlayBounds!==void 0&&f.drawSprite(o.overlayIcon,a?"selected":"special",e,p.iconOverlayBounds.x,p.iconOverlayBounds.y,p.iconOverlayBounds.width,s)}if(y&&i>35){const S=m?35:i-35,M=m?35*.7:i-35*.7,C=S/i,x=M/i,R=e.createLinearGradient(t,0,t+i,0),I=ti(b,0);R.addColorStop(m?1:0,b),R.addColorStop(C,b),R.addColorStop(x,I),R.addColorStop(m?0:1,I),e.fillStyle=R}else e.fillStyle=b;if(m&&(e.textAlign="right"),p.textBounds!==void 0&&e.fillText(o.title,m?p.textBounds.x+p.textBounds.width:p.textBounds.x,n+r/2+pr(e,s.headerFontFull)),m&&(e.textAlign="left"),o.indicatorIcon!==void 0&&p.indicatorIconBounds!==void 0&&(!y||!lo(p.menuBounds.x,p.menuBounds.y,p.menuBounds.width,p.menuBounds.height,p.indicatorIconBounds.x,p.indicatorIconBounds.y,p.indicatorIconBounds.width,p.indicatorIconBounds.height))){let w=a?"selected":"normal";o.style==="highlight"&&(w=a?"selected":"special"),f.drawSprite(o.indicatorIcon,w,e,p.indicatorIconBounds.x,p.indicatorIconBounds.y,p.indicatorIconBounds.width,s)}if(y&&p.menuBounds!==void 0){const w=p.menuBounds,S=u!==void 0&&c!==void 0&&ei(w,u+t,c+n);if(S||(e.globalAlpha=.7),o.menuIcon===void 0||o.menuIcon===da.Triangle){e.beginPath();const M=w.x+w.width/2-5.5,C=w.y+w.height/2-3;Cp(e,[{x:M,y:C},{x:M+11,y:C},{x:M+5.5,y:C+6}],1),e.fillStyle=b,e.fill()}else if(o.menuIcon===da.Dots){e.beginPath();const M=w.x+w.width/2,C=w.y+w.height/2;yp(e,M,C),e.fillStyle=b,e.fill()}else{const M=w.x+(w.width-s.headerIconSize)/2,C=w.y+(w.height-s.headerIconSize)/2;f.drawSprite(o.menuIcon,"normal",e,M,C,s.headerIconSize,s)}S||(e.globalAlpha=1)}}function md(e,t,n,i,r,o,a,s,l,u,c,d,f,h,m,p){const b=Zs(o.title)==="rtl",y=gd(e,o,t,n,i,r,s,b);m!==void 0?m({ctx:e,theme:s,rect:{x:t,y:n,width:i,height:r},column:o,columnIndex:o.sourceIndex,isSelected:a,hoverAmount:f,isHovered:l,hasSelectedCell:d,spriteManager:h,menuBounds:(y==null?void 0:y.menuBounds)??{x:0,y:0,height:0,width:0}},()=>du(e,t,n,i,r,o,a,s,l,u,c,f,h,p,b,y)):du(e,t,n,i,r,o,a,s,l,u,c,f,h,p,b,y)}function z0(e,t,n,i,r,o,a,s,l,u,c,d,f,h,m,p,b,y,w){if(y!==void 0||t[t.length-1]!==n[t.length-1])return;const S=ld(b);Vr(t,l,a,s,o,(M,C,x,R,I)=>{if(M!==t[t.length-1])return;C+=M.width;const E=Math.max(C,R);E>i||(e.save(),e.beginPath(),e.rect(E,o+1,1e4,r-o-1),e.clip(),Fa(I,x,r,u,c,m,p,S,(L,z,_,F)=>{if(!F&&b.length>0&&!b.some(ce=>lo(C,L,1e4,_,ce.x,ce.y,ce.width,ce.height)))return;const P=f.hasIndex(z),ne=h.hasIndex(z);e.beginPath();const J=d==null?void 0:d(z),oe=J===void 0?w:xr(w,J);oe.bgCell!==w.bgCell&&(e.fillStyle=oe.bgCell,e.fillRect(C,L,1e4,_)),ne&&(e.fillStyle=oe.bgHeader,e.fillRect(C,L,1e4,_)),P&&(e.fillStyle=oe.accentLight,e.fillRect(C,L,1e4,_))}),e.restore())})}function $0(e,t,n,i,r,o,a,s,l){let u=!1;for(const m of t)if(!m.sticky){u=a(m.sourceIndex);break}const c=l.horizontalBorderColor??l.borderColor,d=l.borderColor,f=u?ki(t):0;let h;if(f!==0&&(h=au(d,l.bgCell),e.beginPath(),e.moveTo(f+.5,0),e.lineTo(f+.5,i),e.strokeStyle=h,e.stroke()),r>0){const m=d===c&&h!==void 0?h:au(c,l.bgCell),p=ri(o,r,s);e.beginPath(),e.moveTo(0,i-p+.5),e.lineTo(n,i-p+.5),e.strokeStyle=m,e.stroke()}}const pd=(e,t,n)=>{let i=0,r=t,o=0,a=n;if(e!==void 0&&e.length>0){i=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(const s of e)i=Math.min(i,s.x-1),r=Math.max(r,s.x+s.width+1),o=Math.min(o,s.y-1),a=Math.max(a,s.y+s.height+1)}return{minX:i,maxX:r,minY:o,maxY:a}};function V0(e,t,n,i,r,o,a,s,l,u,c,d,f,h,m){var _;const p=m.bgCell,{minX:b,maxX:y,minY:w,maxY:S}=pd(s,o,a),M=[],C=a-ri(h,f,u);let x=l,R=n,I=0;for(;x+r<C;){const F=x+r,P=u(R);if(F>=w&&F<=S-1){const ne=c==null?void 0:c(R),J=ne==null?void 0:ne.bgCell;J!==void 0&&J!==p&&R>=h-f&&M.push({x:b,y:F,w:y-b,h:P,color:J})}x+=P,R<h-f&&(I=x),R++}let E=0;const L=Math.min(C,S)-I;if(L>0)for(let F=0;F<t.length;F++){const P=t[F];if(P.width===0)continue;const ne=P.sticky?E:E+i,J=(_=P.themeOverride)==null?void 0:_.bgCell;J!==void 0&&J!==p&&ne>=b&&ne<=y&&d(F+1)&&M.push({x:ne,y:I,w:P.width,h:L,color:J}),E+=P.width}if(M.length===0)return;let z;e.beginPath();for(let F=M.length-1;F>=0;F--){const P=M[F];z===void 0?z=P.color:P.color!==z&&(e.fillStyle=z,e.fill(),e.beginPath(),z=P.color),e.rect(P.x,P.y,P.w,P.h)}z!==void 0&&(e.fillStyle=z,e.fill()),e.beginPath()}function fu(e,t,n,i,r,o,a,s,l,u,c,d,f,h,m,p,b,y=!1){if(l!==void 0){e.beginPath(),e.save(),e.rect(0,0,o,a);for(const _ of l)e.rect(_.x+1,_.y+1,_.width-1,_.height-1);e.clip("evenodd")}const w=b.horizontalBorderColor??b.borderColor,S=b.borderColor,{minX:M,maxX:C,minY:x,maxY:R}=pd(s,o,a),I=[];e.beginPath();let E=.5;for(let _=0;_<t.length;_++){const F=t[_];if(F.width===0)continue;E+=F.width;const P=F.sticky?E:E+i;P>=M&&P<=C&&h(_+1)&&I.push({x1:P,y1:Math.max(u,x),x2:P,y2:Math.min(a,R),color:S})}let L=a+.5;for(let _=p-m;_<p;_++){const F=d(_);L-=F,I.push({x1:M,y1:L,x2:C,y2:L,color:w})}if(y!==!0){let _=c+.5,F=n;const P=L;for(;_+r<P;){const ne=_+r;if(ne>=x&&ne<=R-1){const J=f==null?void 0:f(F);I.push({x1:M,y1:ne,x2:C,y2:ne,color:(J==null?void 0:J.horizontalBorderColor)??(J==null?void 0:J.borderColor)??w})}_+=d(F),F++}}const z=eh(I,_=>_.color);for(const _ of Object.keys(z)){e.strokeStyle=_;for(const F of z[_])e.moveTo(F.x1,F.y1),e.lineTo(F.x2,F.y2);e.stroke(),e.beginPath()}l!==void 0&&e.restore()}function N0(e,t,n,i,r,o,a,s,l,u,c,d,f,h,m,p,b,y,w){const S=[];e.imageSmoothingEnabled=!1;const M=Math.min(r.cellYOffset,a),C=Math.max(r.cellYOffset,a);let x=0;if(typeof y=="number")x+=(C-M)*y;else for(let P=M;P<C;P++)x+=y(P);a>r.cellYOffset&&(x=-x),x+=l-r.translateY;const R=Math.min(r.cellXOffset,o),I=Math.max(r.cellXOffset,o);let E=0;for(let P=R;P<I;P++)E+=p[P].width;o>r.cellXOffset&&(E=-E),E+=s-r.translateX;const L=ki(b);if(E!==0&&x!==0)return{regions:[]};const z=u>0?ri(f,u,y):0,_=c-L-Math.abs(E),F=d-h-z-Math.abs(x)-1;if(_>150&&F>150){const P={sx:0,sy:0,sw:c*m,sh:d*m,dx:0,dy:0,dw:c*m,dh:d*m};if(x>0?(P.sy=(h+1)*m,P.sh=F*m,P.dy=(x+h+1)*m,P.dh=F*m,S.push({x:0,y:h,width:c,height:x+1})):x<0&&(P.sy=(-x+h+1)*m,P.sh=F*m,P.dy=(h+1)*m,P.dh=F*m,S.push({x:0,y:d+x-z,width:c,height:-x+z})),E>0?(P.sx=L*m,P.sw=_*m,P.dx=(E+L)*m,P.dw=_*m,S.push({x:L-1,y:0,width:E+2,height:d})):E<0&&(P.sx=(L-E)*m,P.sw=_*m,P.dx=L*m,P.dw=_*m,S.push({x:c+E,y:0,width:-E,height:d})),e.setTransform(1,0,0,1,0,0),w){if(L>0&&E!==0&&x===0&&(i===void 0||(n==null?void 0:n[1])!==!1)){const ne=L*m,J=d*m;e.drawImage(t,0,0,ne,J,0,0,ne,J)}if(z>0&&E===0&&x!==0&&(i===void 0||(n==null?void 0:n[0])!==!1)){const ne=(d-z)*m,J=c*m,oe=z*m;e.drawImage(t,0,ne,J,oe,0,ne,J,oe)}}e.drawImage(t,P.sx,P.sy,P.sw,P.sh,P.dx,P.dy,P.dw,P.dh),e.scale(m,m)}return e.imageSmoothingEnabled=!0,{regions:S}}function B0(e,t,n,i,r,o,a,s,l,u){const c=[];return t!==e.cellXOffset||n!==e.cellYOffset||i!==e.translateX||r!==e.translateY||Vr(l,n,i,r,s,(d,f,h,m)=>{if(d.sourceIndex===u){const p=Math.max(f,m)+1;return c.push({x:p,y:0,width:o-p,height:a}),!0}}),c}function W0(e,t){if(t===void 0||e.width!==t.width||e.height!==t.height||e.theme!==t.theme||e.headerHeight!==t.headerHeight||e.rowHeight!==t.rowHeight||e.rows!==t.rows||e.freezeColumns!==t.freezeColumns||e.getRowThemeOverride!==t.getRowThemeOverride||e.isFocused!==t.isFocused||e.isResizing!==t.isResizing||e.verticalBorder!==t.verticalBorder||e.getCellContent!==t.getCellContent||e.highlightRegions!==t.highlightRegions||e.selection!==t.selection||e.dragAndDropState!==t.dragAndDropState||e.prelightCells!==t.prelightCells||e.touchMode!==t.touchMode||e.maxScaleFactor!==t.maxScaleFactor)return!1;if(e.mappedColumns!==t.mappedColumns){if(e.mappedColumns.length>100||e.mappedColumns.length!==t.mappedColumns.length)return!1;let n;for(let i=0;i<e.mappedColumns.length;i++){const r=e.mappedColumns[i],o=t.mappedColumns[i];if(xi(r,o))continue;if(n!==void 0||r.width===o.width)return!1;const{width:a,...s}=r,{width:l,...u}=o;if(!xi(s,u))return!1;n=i}return n===void 0?!0:n}return!0}function hu(e,t,n,i,r,o,a,s,l,u,c,d,f,h,m,p){const b=m==null?void 0:m.filter(R=>R.style!=="no-outline");if(b===void 0||b.length===0)return;const y=ki(s),w=ri(h,f,d),S=[l,0,s.length,h-f],M=[y,0,t,n-w],C=b.map(R=>{const I=R.range,E=R.style??"dashed";return P0(I,S,t,n,M).map(L=>{const z=L.rect,_=Ls(z.x,z.y,t,n,c,u+c,i,r,o,a,h,l,f,s,d),F=z.width===1&&z.height===1?_:Ls(z.x+z.width-1,z.y+z.height-1,t,n,c,u+c,i,r,o,a,h,l,f,s,d);return z.x+z.width>=s.length&&(F.width-=1),z.y+z.height>=h&&(F.height-=1),{color:R.color,style:E,clip:L.clip,rect:O0({x:_.x,y:_.y,width:F.x+F.width-_.x,height:F.y+F.height-_.y},t,n,8)}})}),x=()=>{e.lineWidth=1;let R=!1;for(const I of C)for(const E of I)if((E==null?void 0:E.rect)!==void 0&&lo(0,0,t,n,E.rect.x,E.rect.y,E.rect.width,E.rect.height)){const L=R,z=!D0(E.clip,E.rect);z&&(e.save(),e.rect(E.clip.x,E.clip.y,E.clip.width,E.clip.height),e.clip()),E.style==="dashed"&&!R?(e.setLineDash([5,3]),R=!0):(E.style==="solid"||E.style==="solid-outline")&&R&&(e.setLineDash([]),R=!1),e.strokeStyle=E.style==="solid-outline"?Hn(Hn(E.color,p.borderColor),p.bgCell):ti(E.color,1),e.strokeRect(E.rect.x+.5,E.rect.y+.5,E.rect.width-1,E.rect.height-1),z&&(e.restore(),R=L)}R&&e.setLineDash([])};return x(),x}function gu(e,t,n,i,r){e.beginPath(),e.moveTo(t,n),e.lineTo(t,i),e.lineWidth=2,e.strokeStyle=r,e.stroke(),e.globalAlpha=1}function hs(e,t,n,i,r,o,a,s,l,u,c,d,f,h,m,p,b){if(c.current===void 0)return;const y=c.current.range,w=c.current.cell,S=[y.x+y.width-1,y.y+y.height-1];if(w[1]>=b&&S[1]>=b||!a.some(P=>P.sourceIndex===w[0]||P.sourceIndex===S[0]))return;const[C,x]=c.current.cell,R=f(c.current.cell),I=R.span??[C,C],E=x>=b-h,L=h>0&&!E?ri(b,h,d)-1:0,z=S[1];let _;if(Vr(a,i,r,o,u,(P,ne,J,oe,ce)=>{if(P.sticky&&C>P.sourceIndex)return;const ke=P.sourceIndex<I[0],ae=P.sourceIndex>I[1],K=P.sourceIndex===S[0];if(!(!K&&(ke||ae)))return Fa(ce,J,n,b,d,h,m,void 0,(ie,re,ge)=>{if(re!==x&&re!==z)return;let ye=ne,G=P.width;if(R.span!==void 0){const k=cd(R.span,ne,ie,P.width,ge,P,s),N=P.sticky?k[0]:k[1];N!==void 0&&(ye=N.x,G=N.width)}return re===z&&K&&p&&(_=()=>{var k;oe>ye&&!P.sticky&&(e.beginPath(),e.rect(oe,0,t-oe,n),e.clip()),e.beginPath(),e.rect(ye+G-4,ie+ge-4,4,4),e.fillStyle=((k=P.themeOverride)==null?void 0:k.accentColor)??l.accentColor,e.fill()}),_!==void 0}),_!==void 0}),_===void 0)return;const F=()=>{e.save(),e.beginPath(),e.rect(0,u,t,n-u-L),e.clip(),_==null||_(),e.restore()};return F(),F}function U0(e,t,n,i,r,o,a,s,l){l===void 0||l.size===0||(e.beginPath(),ud(t,n,o,i,(u,c,d,f,h,m)=>{l.hasItemInRectangle({x:u[0],y:-2,width:u[1]-u[0]+1,height:1})&&e.rect(d,f,h,m)}),Vr(t,s,o,a,r,(u,c,d,f)=>{const h=Math.max(0,f-c),m=c+h+1,p=u.width-h-1;l.has([u.sourceIndex,-1])&&e.rect(m,i,p,r-i)}),e.clip())}function X0(e,t,n,i,r,o,a,s,l,u){let c=0;return Vr(e,o,i,r,n,(d,f,h,m,p)=>(Fa(p,h,t,a,s,l,u,void 0,(b,y,w,S)=>{S||(c=Math.max(y,c))}),!0)),c}function mu(e,t){var Cn;const{canvasCtx:n,headerCanvasCtx:i,width:r,height:o,cellXOffset:a,cellYOffset:s,translateX:l,translateY:u,mappedColumns:c,enableGroups:d,freezeColumns:f,dragAndDropState:h,theme:m,drawFocus:p,headerHeight:b,groupHeaderHeight:y,disabledRows:w,rowHeight:S,verticalBorder:M,overrideCursor:C,isResizing:x,selection:R,fillHandle:I,freezeTrailingRows:E,rows:L,getCellContent:z,getGroupDetails:_,getRowThemeOverride:F,isFocused:P,drawHeaderCallback:ne,prelightCells:J,drawCellCallback:oe,highlightRegions:ce,resizeCol:ke,imageLoader:ae,lastBlitData:K,hoverValues:ie,hyperWrapping:re,hoverInfo:ge,spriteManager:ye,maxScaleFactor:G,hasAppendRow:O,touchMode:k,enqueue:N,renderStateProvider:ue,getCellRenderer:fe,renderStrategy:$e,bufferACtx:me,bufferBCtx:Ge,damage:Me,minimumCellWidth:_t,resizeIndicator:Rt}=e;if(r===0||o===0)return;const et=$e==="double-buffer",te=Math.min(G,Math.ceil(window.devicePixelRatio??1)),je=$e!=="direct"&&W0(e,t),ve=n.canvas;(ve.width!==r*te||ve.height!==o*te)&&(ve.width=r*te,ve.height=o*te,ve.style.width=r+"px",ve.style.height=o+"px");const se=i.canvas,pe=d?y+b:b,Ve=pe+1;(se.width!==r*te||se.height!==Ve*te)&&(se.width=r*te,se.height=Ve*te,se.style.width=r+"px",se.style.height=Ve+"px");const Oe=me.canvas,rt=Ge.canvas;et&&(Oe.width!==r*te||Oe.height!==o*te)&&(Oe.width=r*te,Oe.height=o*te,K.current!==void 0&&(K.current.aBufferScroll=void 0)),et&&(rt.width!==r*te||rt.height!==o*te)&&(rt.width=r*te,rt.height=o*te,K.current!==void 0&&(K.current.bBufferScroll=void 0));const he=K.current;if(je===!0&&a===(he==null?void 0:he.cellXOffset)&&s===(he==null?void 0:he.cellYOffset)&&l===(he==null?void 0:he.translateX)&&u===(he==null?void 0:he.translateY))return;let Ee=null;et&&(Ee=n);const lt=i;let Ae;et?Me!==void 0?Ae=(he==null?void 0:he.lastBuffer)==="b"?Ge:me:Ae=(he==null?void 0:he.lastBuffer)==="b"?me:Ge:Ae=n;const it=Ae.canvas,bt=et?it===Oe?rt:Oe:ve,gt=typeof S=="number"?()=>S:S;lt.save(),Ae.save(),lt.beginPath(),Ae.beginPath(),lt.textBaseline="middle",Ae.textBaseline="middle",te!==1&&(lt.scale(te,te),Ae.scale(te,te));const He=_s(c,a,r,h,l);let Dt=[];const Gt=p&&((Cn=R.current)==null?void 0:Cn.cell[1])===s&&u===0;let vt=!1;if(ce!==void 0){for(const Pe of ce)if(Pe.style!=="no-outline"&&Pe.range.y===s&&u===0){vt=!0;break}}const Et=()=>{F0(lt,He,d,ge,r,l,b,y,h,x,R,m,ye,ie,M,_,Me,ne,k),fu(lt,He,s,l,u,r,o,void 0,void 0,y,pe,gt,F,M,E,L,m,!0),lt.beginPath(),lt.moveTo(0,Ve-.5),lt.lineTo(r,Ve-.5),lt.strokeStyle=Hn(m.headerBottomBorderColor??m.horizontalBorderColor??m.borderColor,m.bgHeader),lt.stroke(),vt&&hu(lt,r,o,a,s,l,u,c,f,b,y,S,E,L,ce,m),Gt&&hs(lt,r,o,s,l,u,He,c,m,pe,R,gt,z,E,O,I,L)};if(Me!==void 0){const Pe=He[He.length-1].sourceIndex+1,Ht=Me.hasItemInRegion([{x:a,y:-2,width:Pe,height:2},{x:a,y:s,width:Pe,height:300},{x:0,y:s,width:f,height:300},{x:0,y:-2,width:f,height:2},{x:a,y:L-E,width:Pe,height:E,when:E>0}]),hn=pn=>{cu(pn,He,c,o,pe,l,u,s,L,gt,z,_,F,w,P,p,E,O,Dt,Me,R,J,ce,ae,ye,ie,ge,oe,re,m,N,ue,fe,C,_t);const vn=R.current;I&&p&&vn!==void 0&&Me.has(jc(vn.range))&&hs(pn,r,o,s,l,u,He,c,m,pe,R,gt,z,E,O,I,L)};Ht&&(hn(Ae),Ee!==null&&(Ee.save(),Ee.scale(te,te),Ee.textBaseline="middle",hn(Ee),Ee.restore()),Me.hasHeader()&&(U0(lt,He,r,y,pe,l,u,s,Me),Et())),Ae.restore(),lt.restore();return}if((je!==!0||a!==(he==null?void 0:he.cellXOffset)||l!==(he==null?void 0:he.translateX)||Gt!==(he==null?void 0:he.mustDrawFocusOnHeader)||vt!==(he==null?void 0:he.mustDrawHighlightRingsOnHeader))&&Et(),je===!0){An(bt!==void 0&&he!==void 0);const{regions:Pe}=N0(Ae,bt,bt===Oe?he.aBufferScroll:he.bBufferScroll,bt===Oe?he.bBufferScroll:he.aBufferScroll,he,a,s,l,u,E,r,o,L,pe,te,c,He,S,et);Dt=Pe}else je!==!1&&(An(he!==void 0),Dt=B0(he,a,s,l,u,r,o,pe,He,je));$0(Ae,He,r,o,E,L,M,gt,m);const Kt=hu(Ae,r,o,a,s,l,u,c,f,b,y,S,E,L,ce,m),At=p?hs(Ae,r,o,s,l,u,He,c,m,pe,R,gt,z,E,O,I,L):void 0;if(Ae.fillStyle=m.bgCell,Dt.length>0){Ae.beginPath();for(const Pe of Dt)Ae.rect(Pe.x,Pe.y,Pe.width,Pe.height);Ae.clip(),Ae.fill(),Ae.beginPath()}else Ae.fillRect(0,0,r,o);const Rn=cu(Ae,He,c,o,pe,l,u,s,L,gt,z,_,F,w,P,p,E,O,Dt,Me,R,J,ce,ae,ye,ie,ge,oe,re,m,N,ue,fe,C,_t);z0(Ae,He,c,r,o,pe,l,u,s,L,gt,F,R.rows,w,E,O,Dt,Me,m),V0(Ae,He,s,l,u,r,o,Dt,pe,gt,F,M,E,L,m),fu(Ae,He,s,l,u,r,o,Dt,Rn,y,pe,gt,F,M,E,L,m),Kt==null||Kt(),At==null||At(),x&&Rt!=="none"&&Vr(He,0,l,0,pe,(Pe,Ht)=>Pe.sourceIndex===ke?(gu(lt,Ht+Pe.width,0,pe+1,Hn(m.resizeIndicatorColor??m.accentLight,m.bgHeader)),Rt==="full"&&gu(Ae,Ht+Pe.width,pe,o,Hn(m.resizeIndicatorColor??m.accentLight,m.bgCell)),!0):!1),Ee!==null&&(Ee.fillStyle=m.bgCell,Ee.fillRect(0,0,r,o),Ee.drawImage(Ae.canvas,0,0));const Vt=X0(He,o,pe,l,u,s,L,gt,E,O);ae==null||ae.setWindow({x:a,y:s,width:He.length,height:Vt-s},f,Array.from({length:E},(Pe,Ht)=>L-1-Ht));const It=he!==void 0&&(a!==he.cellXOffset||l!==he.translateX),En=he!==void 0&&(s!==he.cellYOffset||u!==he.translateY);K.current={cellXOffset:a,cellYOffset:s,translateX:l,translateY:u,mustDrawFocusOnHeader:Gt,mustDrawHighlightRingsOnHeader:vt,lastBuffer:et?it===Oe?"a":"b":void 0,aBufferScroll:it===Oe?[It,En]:he==null?void 0:he.aBufferScroll,bBufferScroll:it===rt?[It,En]:he==null?void 0:he.bBufferScroll},Ae.restore(),lt.restore()}const Y0=80;function G0(e){const t=e-1;return t*t*t+1}class j0{constructor(t){dt(this,"callback");dt(this,"currentHoveredItem");dt(this,"leavingItems",[]);dt(this,"lastAnimationTime");dt(this,"addToLeavingItems",t=>{this.leavingItems.some(i=>no(i.item,t.item))||this.leavingItems.push(t)});dt(this,"removeFromLeavingItems",t=>{const n=this.leavingItems.find(i=>no(i.item,t));return this.leavingItems=this.leavingItems.filter(i=>i!==n),(n==null?void 0:n.hoverAmount)??0});dt(this,"cleanUpLeavingElements",()=>{this.leavingItems=this.leavingItems.filter(t=>t.hoverAmount>0)});dt(this,"shouldStep",()=>{const t=this.leavingItems.length>0,n=this.currentHoveredItem!==void 0&&this.currentHoveredItem.hoverAmount<1;return t||n});dt(this,"getAnimatingItems",()=>this.currentHoveredItem!==void 0?[...this.leavingItems,this.currentHoveredItem]:this.leavingItems.map(t=>({...t,hoverAmount:G0(t.hoverAmount)})));dt(this,"step",t=>{if(this.lastAnimationTime===void 0)this.lastAnimationTime=t;else{const i=(t-this.lastAnimationTime)/Y0;for(const o of this.leavingItems)o.hoverAmount=Xn(o.hoverAmount-i,0,1);this.currentHoveredItem!==void 0&&(this.currentHoveredItem.hoverAmount=Xn(this.currentHoveredItem.hoverAmount+i,0,1));const r=this.getAnimatingItems();this.callback(r),this.cleanUpLeavingElements()}this.shouldStep()?(this.lastAnimationTime=t,window.requestAnimationFrame(this.step)):this.lastAnimationTime=void 0});dt(this,"setHovered",t=>{var n;if(!no((n=this.currentHoveredItem)==null?void 0:n.item,t)){if(this.currentHoveredItem!==void 0&&this.addToLeavingItems(this.currentHoveredItem),t!==void 0){const i=this.removeFromLeavingItems(t);this.currentHoveredItem={item:t,hoverAmount:i}}else this.currentHoveredItem=void 0;this.lastAnimationTime===void 0&&window.requestAnimationFrame(this.step)}});this.callback=t}}class q0{constructor(t){dt(this,"fn");dt(this,"val");this.fn=t}get value(){return this.val??(this.val=this.fn())}}function il(e){return new q0(e)}const K0=il(()=>window.navigator.userAgent.includes("Firefox")),ba=il(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")),wa=il(()=>window.navigator.platform.toLowerCase().startsWith("mac"));function Z0(e){const t=g.useRef([]),n=g.useRef(0),i=g.useRef(e);i.current=e;const r=g.useCallback(()=>{const o=()=>window.requestAnimationFrame(a),a=()=>{const s=t.current.map(nl);t.current=[],i.current(new io(s)),t.current.length>0?n.current++:n.current=0};window.requestAnimationFrame(n.current>600?o:a)},[]);return g.useCallback(o=>{t.current.length===0&&r();const a=or(o[0],o[1]);t.current.includes(a)||t.current.push(a)},[r])}const Ar="header",Gn="group-header",ya="out-of-bounds";var Ci;(function(e){e[e.Start=-2]="Start",e[e.StartPadding=-1]="StartPadding",e[e.Center=0]="Center",e[e.EndPadding=1]="EndPadding",e[e.End=2]="End"})(Ci||(Ci={}));function vd(e,t){return e===t?!0:(e==null?void 0:e.kind)==="out-of-bounds"?(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])&&(e==null?void 0:e.region[0])===(t==null?void 0:t.region[0])&&(e==null?void 0:e.region[1])===(t==null?void 0:t.region[1]):(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])}const pu=6,J0=(e,t)=>{if(e.kind===Z.Custom)return e.copyData;const n=t==null?void 0:t(e);return(n==null?void 0:n.getAccessibilityString(e))??""},Q0=(e,t)=>{const{width:n,height:i,accessibilityHeight:r,columns:o,cellXOffset:a,cellYOffset:s,headerHeight:l,fillHandle:u=!1,groupHeaderHeight:c,rowHeight:d,rows:f,getCellContent:h,getRowThemeOverride:m,onHeaderMenuClick:p,onHeaderIndicatorClick:b,enableGroups:y,isFilling:w,onCanvasFocused:S,onCanvasBlur:M,isFocused:C,selection:x,freezeColumns:R,onContextMenu:I,freezeTrailingRows:E,fixedShadowX:L=!0,fixedShadowY:z=!0,drawFocusRing:_,onMouseDown:F,onMouseUp:P,onMouseMoveRaw:ne,onMouseMove:J,onItemHovered:oe,dragAndDropState:ce,firstColAccessible:ke,onKeyDown:ae,onKeyUp:K,highlightRegions:ie,canvasRef:re,onDragStart:ge,onDragEnd:ye,eventTargetRef:G,isResizing:O,resizeColumn:k,isDragging:N,isDraggable:ue=!1,allowResize:fe,disabledRows:$e,hasAppendRow:me,getGroupDetails:Ge,theme:Me,prelightCells:_t,headerIcons:Rt,verticalBorder:et,drawCell:te,drawHeader:je,onCellFocused:ve,onDragOverCell:se,onDrop:pe,onDragLeave:Ve,imageWindowLoader:Oe,smoothScrollX:rt=!1,smoothScrollY:he=!1,experimental:Ee,getCellRenderer:lt,resizeIndicator:Ae="full"}=e,it=e.translateX??0,bt=e.translateY??0,gt=Math.max(R,Math.min(o.length-1,a)),He=g.useRef(null),Dt=g.useRef(window),Gt=Dt.current,vt=Oe,Et=g.useRef(),[Kt,At]=g.useState(!1),Rn=g.useRef([]),Vt=g.useRef(),[It,En]=g.useState(),[Cn,Pe]=g.useState(),Ht=g.useRef(null),[hn,pn]=g.useState(),[vn,ot]=g.useState(!1),Nt=g.useRef(vn);Nt.current=vn;const Lt=g.useMemo(()=>new I0(Rt,()=>{Sn.current=void 0,$n.current()}),[Rt]),on=y?c+l:l,Ot=g.useRef(-1),zt=((Ee==null?void 0:Ee.enableFirefoxRescaling)??!1)&&K0.value,qe=((Ee==null?void 0:Ee.enableSafariRescaling)??!1)&&ba.value;g.useLayoutEffect(()=>{window.devicePixelRatio===1||!zt&&!qe||(Ot.current!==-1&&At(!0),window.clearTimeout(Ot.current),Ot.current=window.setTimeout(()=>{At(!1),Ot.current=-1},200))},[s,gt,it,bt,zt,qe]);const Bt=lp(o,R),Wt=L?ki(Bt,ce):0,de=g.useCallback((H,Q,Ce)=>{const Se=H.getBoundingClientRect();if(Q>=Bt.length||Ce>=f)return;const le=Se.width/n,Re=Ls(Q,Ce,n,i,c,on,gt,s,it,bt,f,R,E,Bt,d);return le!==1&&(Re.x*=le,Re.y*=le,Re.width*=le,Re.height*=le),Re.x+=Se.x,Re.y+=Se.y,Re},[n,i,c,on,gt,s,it,bt,f,R,E,Bt,d]),Ne=g.useCallback((H,Q,Ce,Se)=>{const le=H.getBoundingClientRect(),Re=le.width/n,at=(Q-le.left)/Re,st=(Ce-le.top)/Re,Te=5,xt=_s(Bt,gt,n,void 0,it);let xe=0,Je=0;Se instanceof MouseEvent&&(xe=Se.button,Je=Se.buttons);const We=fp(at,xt,it),ft=hp(st,i,y,l,c,f,d,s,bt,E),cn=(Se==null?void 0:Se.shiftKey)===!0,Dn=(Se==null?void 0:Se.ctrlKey)===!0,yt=(Se==null?void 0:Se.metaKey)===!0,Jt=Se!==void 0&&!(Se instanceof MouseEvent)||(Se==null?void 0:Se.pointerType)==="touch",Jn=[at<0?-1:n<at?1:0,st<on?-1:i<st?1:0];let xn;if(We===-1||st<0||at<0||ft===void 0||at>n||st>i){const Tt=at>n?1:at<0?-1:0,On=st>i?1:st<0?-1:0;let Ln=Tt*2,Ct=On*2;Tt===0&&(Ln=We===-1?Ci.EndPadding:Ci.Center),On===0&&(Ct=ft===void 0?Ci.EndPadding:Ci.Center);let nn=!1;if(We===-1&&ft===-1){const Dr=de(H,Bt.length-1,-1);An(Dr!==void 0),nn=Q<Dr.x+Dr.width+Te}const Tr=at>n&&at<n+Os()||st>i&&st<i+Os();xn={kind:ya,location:[We!==-1?We:at<0?0:Bt.length-1,ft??f-1],region:[Ln,Ct],shiftKey:cn,ctrlKey:Dn,metaKey:yt,isEdge:nn,isTouch:Jt,button:xe,buttons:Je,scrollEdge:Jn,isMaybeScrollbar:Tr}}else if(ft<=-1){let Tt=de(H,We,ft);An(Tt!==void 0);let On=Tt!==void 0&&Tt.x+Tt.width-Q<=Te;const Ln=We-1;Q-Tt.x<=Te&&Ln>=0?(On=!0,Tt=de(H,Ln,ft),An(Tt!==void 0),xn={kind:y&&ft===-2?Gn:Ar,location:[Ln,ft],bounds:Tt,group:Bt[Ln].group??"",isEdge:On,shiftKey:cn,ctrlKey:Dn,metaKey:yt,isTouch:Jt,localEventX:Q-Tt.x,localEventY:Ce-Tt.y,button:xe,buttons:Je,scrollEdge:Jn}):xn={kind:y&&ft===-2?Gn:Ar,group:Bt[We].group??"",location:[We,ft],bounds:Tt,isEdge:On,shiftKey:cn,ctrlKey:Dn,metaKey:yt,isTouch:Jt,localEventX:Q-Tt.x,localEventY:Ce-Tt.y,button:xe,buttons:Je,scrollEdge:Jn}}else{const Tt=de(H,We,ft);An(Tt!==void 0);const On=Tt!==void 0&&Tt.x+Tt.width-Q<Te;let Ln=!1;if(u&&x.current!==void 0){const Ct=jc(x.current.range),nn=de(H,Ct[0],Ct[1]);if(nn!==void 0){const Tr=nn.x+nn.width-2,Dr=nn.y+nn.height-2;Ln=Math.abs(Tr-Q)<pu&&Math.abs(Dr-Ce)<pu}}xn={kind:"cell",location:[We,ft],bounds:Tt,isEdge:On,shiftKey:cn,ctrlKey:Dn,isFillHandle:Ln,metaKey:yt,isTouch:Jt,localEventX:Q-Tt.x,localEventY:Ce-Tt.y,button:xe,buttons:Je,scrollEdge:Jn}}return xn},[n,Bt,gt,it,i,y,l,c,f,d,s,bt,E,de,u,x,on]),[Zt]=It??[],In=g.useRef(()=>{}),ln=g.useRef(It);ln.current=It;const[A,Ke]=g.useMemo(()=>{const H=document.createElement("canvas"),Q=document.createElement("canvas");return H.style.display="none",H.style.opacity="0",H.style.position="fixed",Q.style.display="none",Q.style.opacity="0",Q.style.position="fixed",[H.getContext("2d",{alpha:!1}),Q.getContext("2d",{alpha:!1})]},[]);g.useLayoutEffect(()=>{if(!(A===null||Ke===null))return document.documentElement.append(A.canvas),document.documentElement.append(Ke.canvas),()=>{A.canvas.remove(),Ke.canvas.remove()}},[A,Ke]);const ze=g.useMemo(()=>new Sp,[]),Pt=zt&&Kt?1:qe&&Kt?2:5,un=(Ee==null?void 0:Ee.disableMinimumCellWidth)===!0?1:10,Sn=g.useRef(),qn=g.useRef(null),_n=g.useRef(null),en=g.useCallback(()=>{var at;const H=He.current,Q=Ht.current;if(H===null||Q===null||(qn.current===null&&(qn.current=H.getContext("2d",{alpha:!1}),H.width=0,H.height=0),_n.current===null&&(_n.current=Q.getContext("2d",{alpha:!1}),Q.width=0,Q.height=0),qn.current===null||_n.current===null||A===null||Ke===null))return;let Ce=!1;const Se=st=>{Ce=!0,pn(st)},le=Sn.current,Re={headerCanvasCtx:_n.current,canvasCtx:qn.current,bufferACtx:A,bufferBCtx:Ke,width:n,height:i,cellXOffset:gt,cellYOffset:s,translateX:Math.round(it),translateY:Math.round(bt),mappedColumns:Bt,enableGroups:y,freezeColumns:R,dragAndDropState:ce,theme:Me,headerHeight:l,groupHeaderHeight:c,disabledRows:$e??wt.empty(),rowHeight:d,verticalBorder:et,isResizing:O,resizeCol:k,isFocused:C,selection:x,fillHandle:u,drawCellCallback:te,hasAppendRow:me,overrideCursor:Se,maxScaleFactor:Pt,freezeTrailingRows:E,rows:f,drawFocus:_,getCellContent:h,getGroupDetails:Ge??(st=>({name:st})),getRowThemeOverride:m,drawHeaderCallback:je,prelightCells:_t,highlightRegions:ie,imageLoader:vt,lastBlitData:Vt,damage:Et.current,hoverValues:Rn.current,hoverInfo:ln.current,spriteManager:Lt,scrolling:Kt,hyperWrapping:(Ee==null?void 0:Ee.hyperWrapping)??!1,touchMode:vn,enqueue:In.current,renderStateProvider:ze,renderStrategy:(Ee==null?void 0:Ee.renderStrategy)??(ba.value?"double-buffer":"single-buffer"),getCellRenderer:lt,minimumCellWidth:un,resizeIndicator:Ae};Re.damage===void 0?(Sn.current=Re,mu(Re,le)):mu(Re,void 0),!Ce&&(Re.damage===void 0||Re.damage.has((at=ln==null?void 0:ln.current)==null?void 0:at[0]))&&pn(void 0)},[A,Ke,n,i,gt,s,it,bt,Bt,y,R,ce,Me,l,c,$e,d,et,O,me,k,C,x,u,E,f,_,Pt,h,Ge,m,te,je,_t,ie,vt,Lt,Kt,Ee==null?void 0:Ee.hyperWrapping,Ee==null?void 0:Ee.renderStrategy,vn,ze,lt,un,Ae]),$n=g.useRef(en);g.useLayoutEffect(()=>{en(),$n.current=en},[en]),g.useLayoutEffect(()=>{(async()=>{var Q;((Q=document==null?void 0:document.fonts)==null?void 0:Q.ready)!==void 0&&(await document.fonts.ready,Sn.current=void 0,$n.current())})()},[]);const Kn=g.useCallback(H=>{Et.current=H,$n.current(),Et.current=void 0},[]),$a=Z0(Kn);In.current=$a;const wo=g.useCallback(H=>{Kn(new io(H.map(Q=>Q.cell)))},[Kn]);vt.setCallback(Kn);const[yo,Va]=g.useState(!1),[oi,Rr]=Zt??[],Ii=oi!==void 0&&Rr===-1,Na=oi!==void 0&&Rr===-2;let Ti=!1,Di=!1,Nr=hn;if(Nr===void 0&&oi!==void 0&&Rr!==void 0&&Rr>-1&&Rr<f){const H=h([oi,Rr],!0);Ti=H.kind===jn.NewRow||H.kind===jn.Marker&&H.markerKind!=="number",Di=H.kind===Z.Boolean&&Ys(H),Nr=H.cursor}const Tn=N?"grabbing":(Cn??!1)||O?"col-resize":yo||w?"crosshair":Nr!==void 0?Nr:Ii||Ti||Di||Na?"pointer":"default",Oi=g.useMemo(()=>({contain:"strict",display:"block",cursor:Tn}),[Tn]),Pi=g.useRef("default"),ai=G==null?void 0:G.current;ai!=null&&Pi.current!==Oi.cursor&&(ai.style.cursor=Pi.current=Oi.cursor);const vr=g.useCallback((H,Q,Ce,Se)=>{if(Ge===void 0)return;const le=Ge(H);if(le.actions!==void 0){const Re=hd(Q,le.actions);for(const[at,st]of Re.entries())if(ei(st,Ce+Q.x,Se+st.y))return le.actions[at]}},[Ge]),br=g.useCallback((H,Q,Ce,Se)=>{const le=Bt[Q];if(!N&&!O&&!(Cn??!1)){const Re=de(H,Q,-1);An(Re!==void 0);const at=gd(void 0,le,Re.x,Re.y,Re.width,Re.height,Me,Zs(le.title)==="rtl");if(le.hasMenu===!0&&at.menuBounds!==void 0&&ei(at.menuBounds,Ce,Se))return{area:"menu",bounds:at.menuBounds};if(le.indicatorIcon!==void 0&&at.indicatorIconBounds!==void 0&&ei(at.indicatorIconBounds,Ce,Se))return{area:"indicator",bounds:at.indicatorIconBounds}}},[Bt,de,Cn,N,O,Me]),si=g.useRef(0),ar=g.useRef(),sr=g.useRef(!1),Br=g.useCallback(H=>{const Q=He.current,Ce=G==null?void 0:G.current;if(Q===null||H.target!==Q&&H.target!==Ce)return;sr.current=!0;let Se,le;if(H instanceof MouseEvent?(Se=H.clientX,le=H.clientY):(Se=H.touches[0].clientX,le=H.touches[0].clientY),H.target===Ce&&Ce!==null){const at=Ce.getBoundingClientRect();if(Se>at.right||le>at.bottom)return}const Re=Ne(Q,Se,le,H);ar.current=Re.location,Re.isTouch&&(si.current=Date.now()),Nt.current!==Re.isTouch&&ot(Re.isTouch),!(Re.kind===Ar&&br(Q,Re.location[0],Se,le)!==void 0)&&(Re.kind===Gn&&vr(Re.group,Re.bounds,Re.localEventX,Re.localEventY)!==void 0||(F==null||F(Re),!Re.isTouch&&ue!==!0&&ue!==Re.kind&&Re.button<3&&Re.button!==1&&H.preventDefault()))},[G,ue,Ne,vr,br,F]);gn("touchstart",Br,Gt,!1),gn("mousedown",Br,Gt,!1);const Co=g.useRef(0),_i=g.useCallback(H=>{var Je,We;const Q=Co.current;Co.current=Date.now();const Ce=He.current;if(sr.current=!1,P===void 0||Ce===null)return;const Se=G==null?void 0:G.current,le=H.target!==Ce&&H.target!==Se;let Re,at,st=!0;if(H instanceof MouseEvent){if(Re=H.clientX,at=H.clientY,st=H.button<3,H.pointerType==="touch")return}else Re=H.changedTouches[0].clientX,at=H.changedTouches[0].clientY;let Te=Ne(Ce,Re,at,H);Te.isTouch&&si.current!==0&&Date.now()-si.current>500&&(Te={...Te,isLongTouch:!0}),Q!==0&&Date.now()-Q<(Te.isTouch?1e3:500)&&(Te={...Te,isDoubleClick:!0}),Nt.current!==Te.isTouch&&ot(Te.isTouch),!le&&H.cancelable&&st&&H.preventDefault();const[xt]=Te.location,xe=br(Ce,xt,Re,at);if(Te.kind===Ar&&xe!==void 0){(Te.button!==0||((Je=ar.current)==null?void 0:Je[0])!==xt||((We=ar.current)==null?void 0:We[1])!==-1)&&P(Te,!0);return}else if(Te.kind===Gn){const ft=vr(Te.group,Te.bounds,Te.localEventX,Te.localEventY);if(ft!==void 0){Te.button===0&&ft.onClick(Te);return}}P(Te,le)},[P,G,Ne,br,vr]);gn("mouseup",_i,Gt,!1),gn("touchend",_i,Gt,!1);const Ze=g.useCallback(H=>{var xt,xe;const Q=He.current;if(Q===null)return;const Ce=G==null?void 0:G.current,Se=H.target!==Q&&H.target!==Ce;let le,Re,at=!0;H instanceof MouseEvent?(le=H.clientX,Re=H.clientY,at=H.button<3):(le=H.changedTouches[0].clientX,Re=H.changedTouches[0].clientY);const st=Ne(Q,le,Re,H);Nt.current!==st.isTouch&&ot(st.isTouch),!Se&&H.cancelable&&at&&H.preventDefault();const[Te]=st.location;if(st.kind===Ar){const Je=br(Q,Te,le,Re);Je!==void 0&&st.button===0&&((xt=ar.current)==null?void 0:xt[0])===Te&&((xe=ar.current)==null?void 0:xe[1])===-1&&(Je.area==="menu"?p==null||p(Te,Je.bounds):Je.area==="indicator"&&(b==null||b(Te,Je.bounds)))}else if(st.kind===Gn){const Je=vr(st.group,st.bounds,st.localEventX,st.localEventY);Je!==void 0&&st.button===0&&Je.onClick(st)}},[G,Ne,br,p,b,vr]);gn("click",Ze,Gt,!1);const So=g.useCallback(H=>{const Q=He.current,Ce=G==null?void 0:G.current;if(Q===null||H.target!==Q&&H.target!==Ce||I===void 0)return;const Se=Ne(Q,H.clientX,H.clientY,H);I(Se,()=>{H.cancelable&&H.preventDefault()})},[G,Ne,I]);gn("contextmenu",So,(G==null?void 0:G.current)??null,!1);const xo=g.useCallback(H=>{Et.current=new io(H.map(Q=>Q.item)),Rn.current=H,$n.current(),Et.current=void 0},[]),Vn=g.useMemo(()=>new j0(xo),[xo]),ko=g.useRef(Vn);ko.current=Vn,g.useLayoutEffect(()=>{const H=ko.current;if(Zt===void 0||Zt[1]<0){H.setHovered(Zt);return}const Q=h(Zt,!0),Ce=lt(Q),Se=Ce===void 0&&Q.kind===Z.Custom||(Ce==null?void 0:Ce.needsHover)!==void 0&&(typeof Ce.needsHover=="boolean"?Ce.needsHover:Ce.needsHover(Q));H.setHovered(Se?Zt:void 0)},[h,lt,Zt]);const Zn=g.useRef(),Li=g.useCallback(H=>{var st;const Q=He.current;if(Q===null)return;const Ce=G==null?void 0:G.current,Se=H.target!==Q&&H.target!==Ce,le=Ne(Q,H.clientX,H.clientY,H);if(le.kind!=="out-of-bounds"&&Se&&!sr.current&&!le.isTouch)return;const Re=(Te,xt)=>{En(xe=>xe===Te||(xe==null?void 0:xe[0][0])===(Te==null?void 0:Te[0][0])&&(xe==null?void 0:xe[0][1])===(Te==null?void 0:Te[0][1])&&((xe==null?void 0:xe[1][0])===(Te==null?void 0:Te[1][0])&&(xe==null?void 0:xe[1][1])===(Te==null?void 0:Te[1][1])||!xt)?xe:Te)};if(!vd(le,Zn.current))pn(void 0),oe==null||oe(le),Re(le.kind===ya?void 0:[le.location,[le.localEventX,le.localEventY]],!0),Zn.current=le;else if(le.kind==="cell"||le.kind===Ar||le.kind===Gn){let Te=!1,xt=!0;if(le.kind==="cell"){const Je=h(le.location);xt=((st=lt(Je))==null?void 0:st.needsHoverPosition)??Je.kind===Z.Custom,Te=xt}else Te=!0;const xe=[le.location,[le.localEventX,le.localEventY]];Re(xe,xt),ln.current=xe,Te&&Kn(new io([le.location]))}const at=le.location[0]>=(ke?0:1);Pe(le.kind===Ar&&le.isEdge&&at&&fe===!0),Va(le.kind==="cell"&&le.isFillHandle),ne==null||ne(H),J(le)},[G,Ne,ke,fe,ne,J,oe,h,lt,Kn]);gn("mousemove",Li,Gt,!0);const Mo=g.useCallback(H=>{const Q=He.current;if(Q===null)return;let Ce,Se;x.current!==void 0&&(Ce=de(Q,x.current.cell[0],x.current.cell[1]),Se=x.current.cell),ae==null||ae({bounds:Ce,stopPropagation:()=>H.stopPropagation(),preventDefault:()=>H.preventDefault(),cancel:()=>{},ctrlKey:H.ctrlKey,metaKey:H.metaKey,shiftKey:H.shiftKey,altKey:H.altKey,key:H.key,keyCode:H.keyCode,rawEvent:H,location:Se})},[ae,x,de]),Ro=g.useCallback(H=>{const Q=He.current;if(Q===null)return;let Ce,Se;x.current!==void 0&&(Ce=de(Q,x.current.cell[0],x.current.cell[1]),Se=x.current.cell),K==null||K({bounds:Ce,stopPropagation:()=>H.stopPropagation(),preventDefault:()=>H.preventDefault(),cancel:()=>{},ctrlKey:H.ctrlKey,metaKey:H.metaKey,shiftKey:H.shiftKey,altKey:H.altKey,key:H.key,keyCode:H.keyCode,rawEvent:H,location:Se})},[K,x,de]),Ba=g.useCallback(H=>{if(He.current=H,re!==void 0&&(re.current=H),H===null)Dt.current=window;else{const Q=H.getRootNode();Q===document&&(Dt.current=window),Dt.current=Q}},[re]),Wa=g.useCallback(H=>{const Q=He.current;if(Q===null||ue===!1||O){H.preventDefault();return}let Ce,Se;const le=Ne(Q,H.clientX,H.clientY);if(ue!==!0&&le.kind!==ue){H.preventDefault();return}const Re=(Je,We)=>{Ce=Je,Se=We};let at,st,Te;const xt=(Je,We,ft)=>{at=Je,st=We,Te=ft};let xe=!1;if(ge==null||ge({...le,setData:Re,setDragImage:xt,preventDefault:()=>xe=!0,defaultPrevented:()=>xe}),!xe&&Ce!==void 0&&Se!==void 0&&H.dataTransfer!==null)if(H.dataTransfer.setData(Ce,Se),H.dataTransfer.effectAllowed="copyLink",at!==void 0&&st!==void 0&&Te!==void 0)H.dataTransfer.setDragImage(at,st,Te);else{const[Je,We]=le.location;if(We!==void 0){const ft=document.createElement("canvas"),cn=de(Q,Je,We);An(cn!==void 0);const Dn=Math.ceil(window.devicePixelRatio??1);ft.width=cn.width*Dn,ft.height=cn.height*Dn;const yt=ft.getContext("2d");yt!==null&&(yt.scale(Dn,Dn),yt.textBaseline="middle",We===-1?(yt.font=Me.headerFontFull,yt.fillStyle=Me.bgHeader,yt.fillRect(0,0,ft.width,ft.height),md(yt,0,0,cn.width,cn.height,Bt[Je],!1,Me,!1,void 0,void 0,!1,0,Lt,je,!1)):(yt.font=Me.baseFontFull,yt.fillStyle=Me.bgCell,yt.fillRect(0,0,ft.width,ft.height),fd(yt,h([Je,We]),0,We,!1,!1,0,0,cn.width,cn.height,!1,Me,Me.bgCell,vt,Lt,1,void 0,!1,0,void 0,void 0,void 0,ze,lt,()=>{}))),ft.style.left="-100%",ft.style.position="absolute",ft.style.width=`${cn.width}px`,ft.style.height=`${cn.height}px`,document.body.append(ft),H.dataTransfer.setDragImage(ft,cn.width/2,cn.height/2),window.setTimeout(()=>{ft.remove()},0)}}else H.preventDefault()},[ue,O,Ne,ge,de,Me,Bt,Lt,je,h,vt,ze,lt]);gn("dragstart",Wa,(G==null?void 0:G.current)??null,!1,!1);const Nn=g.useRef(),Er=g.useCallback(H=>{const Q=He.current;if(pe!==void 0&&H.preventDefault(),Q===null||se===void 0)return;const Ce=Ne(Q,H.clientX,H.clientY),[Se,le]=Ce.location,Re=Se-(ke?0:1),[at,st]=Nn.current??[];(at!==Re||st!==le)&&(Nn.current=[Re,le],se([Re,le],H.dataTransfer))},[ke,Ne,se,pe]);gn("dragover",Er,(G==null?void 0:G.current)??null,!1,!1);const Bn=g.useCallback(()=>{Nn.current=void 0,ye==null||ye()},[ye]);gn("dragend",Bn,(G==null?void 0:G.current)??null,!1,!1);const B=g.useCallback(H=>{const Q=He.current;if(Q===null||pe===void 0)return;H.preventDefault();const Ce=Ne(Q,H.clientX,H.clientY),[Se,le]=Ce.location,Re=Se-(ke?0:1);pe([Re,le],H.dataTransfer)},[ke,Ne,pe]);gn("drop",B,(G==null?void 0:G.current)??null,!1,!1);const qt=g.useCallback(()=>{Ve==null||Ve()},[Ve]);gn("dragleave",qt,(G==null?void 0:G.current)??null,!1,!1);const Ir=g.useRef(x);Ir.current=x;const li=g.useRef(null),ui=g.useCallback(H=>{var Q;He.current===null||!He.current.contains(document.activeElement)||(H===null&&Ir.current.current!==void 0?(Q=re==null?void 0:re.current)==null||Q.focus({preventScroll:!0}):H!==null&&H.focus({preventScroll:!0}),li.current=H)},[re]);g.useImperativeHandle(t,()=>({focus:()=>{var Q;const H=li.current;H===null||!document.contains(H)?(Q=re==null?void 0:re.current)==null||Q.focus({preventScroll:!0}):H.focus({preventScroll:!0})},getBounds:(H,Q)=>{if(!(re===void 0||re.current===null))return de(re.current,H??0,Q??-1)},damage:wo}),[re,wo,de]);const Fi=g.useRef(),Ua=Em(()=>{var st,Te,xt;if(n<50||(Ee==null?void 0:Ee.disableAccessibilityTree)===!0)return null;let H=_s(Bt,gt,n,ce,it);const Q=ke?0:-1;!ke&&((st=H[0])==null?void 0:st.sourceIndex)===0&&(H=H.slice(1));const[Ce,Se]=((Te=x.current)==null?void 0:Te.cell)??[],le=(xt=x.current)==null?void 0:xt.range,Re=H.map(xe=>xe.sourceIndex),at=dr(s,Math.min(f,s+r));return Ce!==void 0&&Se!==void 0&&!(Re.includes(Ce)&&at.includes(Se))&&ui(null),g.createElement("table",{key:"access-tree",role:"grid","aria-rowcount":f+1,"aria-multiselectable":"true","aria-colcount":Bt.length+Q},g.createElement("thead",{role:"rowgroup"},g.createElement("tr",{role:"row","aria-rowindex":1},H.map(xe=>g.createElement("th",{role:"columnheader","aria-selected":x.columns.hasIndex(xe.sourceIndex),"aria-colindex":xe.sourceIndex+1+Q,tabIndex:-1,onFocus:Je=>{if(Je.target!==li.current)return ve==null?void 0:ve([xe.sourceIndex,-1])},key:xe.sourceIndex},xe.title)))),g.createElement("tbody",{role:"rowgroup"},at.map(xe=>g.createElement("tr",{role:"row","aria-selected":x.rows.hasIndex(xe),key:xe,"aria-rowindex":xe+2},H.map(Je=>{const We=Je.sourceIndex,ft=or(We,xe),cn=Ce===We&&Se===xe,Dn=le!==void 0&&We>=le.x&&We<le.x+le.width&&xe>=le.y&&xe<le.y+le.height,yt=`glide-cell-${We}-${xe}`,Jt=[We,xe],Jn=h(Jt,!0);return g.createElement("td",{key:ft,role:"gridcell","aria-colindex":We+1+Q,"aria-selected":Dn,"aria-readonly":wi(Jn)||!Ki(Jn),id:yt,"data-testid":yt,onClick:()=>{const xn=re==null?void 0:re.current;if(xn!=null)return ae==null?void 0:ae({bounds:de(xn,We,xe),cancel:()=>{},preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:Jt})},onFocusCapture:xn=>{var Tt,On;if(!(xn.target===li.current||((Tt=Fi.current)==null?void 0:Tt[0])===We&&((On=Fi.current)==null?void 0:On[1])===xe))return Fi.current=Jt,ve==null?void 0:ve(Jt)},ref:cn?ui:void 0,tabIndex:-1},J0(Jn,lt))})))))},[n,Bt,gt,ce,it,f,s,r,x,ui,h,re,ae,de,ve],200),Ai=R===0||!L?0:gt>R?1:Xn(-it/100,0,1),U=-s*32+bt,dn=z?Xn(-U/100,0,1):0,fn=g.useMemo(()=>{if(!Ai&&!dn)return null;const H={position:"absolute",top:0,left:Wt,width:n-Wt,height:i,opacity:Ai,pointerEvents:"none",transition:rt?void 0:"opacity 0.2s",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)"},Q={position:"absolute",top:on,left:0,width:n,height:i,opacity:dn,pointerEvents:"none",transition:he?void 0:"opacity 0.2s",boxShadow:"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)"};return g.createElement(g.Fragment,null,Ai>0&&g.createElement("div",{id:"shadow-x",style:H}),dn>0&&g.createElement("div",{id:"shadow-y",style:Q}))},[Ai,dn,Wt,n,rt,on,i,he]),Xa=g.useMemo(()=>({position:"absolute",top:0,left:0}),[]);return g.createElement(g.Fragment,null,g.createElement("canvas",{"data-testid":"data-grid-canvas",tabIndex:0,onKeyDown:Mo,onKeyUp:Ro,onFocus:S,onBlur:M,ref:Ba,style:Oi},Ua),g.createElement("canvas",{ref:Ht,style:Xa}),fn)},ev=g.memo(g.forwardRef(Q0));function Gi(e,t,n,i){return Xn(Math.round(t-(e.growOffset??0)),Math.ceil(n),Math.floor(i))}const tv=e=>{const[t,n]=g.useState(),[i,r]=g.useState(),[o,a]=g.useState(),[s,l]=g.useState(),[u,c]=g.useState(!1),[d,f]=g.useState(),[h,m]=g.useState(),[p,b]=g.useState(),[y,w]=g.useState(!1),[S,M]=g.useState(),{onHeaderMenuClick:C,onHeaderIndicatorClick:x,getCellContent:R,onColumnMoved:I,onColumnResize:E,onColumnResizeStart:L,onColumnResizeEnd:z,gridRef:_,maxColumnWidth:F,minColumnWidth:P,onRowMoved:ne,lockColumns:J,onColumnProposeMove:oe,onMouseDown:ce,onMouseUp:ke,onItemHovered:ae,onDragStart:K,canvasRef:ie}=e,re=(E??z??L)!==void 0,{columns:ge,selection:ye}=e,G=ye.columns,O=g.useCallback(te=>{const[je,ve]=te.location;o!==void 0&&s!==je&&je>=J?(c(!0),l(je)):h!==void 0&&ve!==void 0?(w(!0),b(Math.max(0,ve))):i===void 0&&!u&&!y&&(ae==null||ae(te))},[o,h,s,ae,J,i,u,y]),k=I!==void 0,N=g.useCallback(te=>{var je;if(te.button===0){const[ve,se]=te.location;if(te.kind==="out-of-bounds"&&te.isEdge&&re){const pe=(je=_==null?void 0:_.current)==null?void 0:je.getBounds(ge.length-1,-1);pe!==void 0&&(n(pe.x),r(ge.length-1))}else if(te.kind==="header"&&ve>=J){const pe=ie==null?void 0:ie.current;if(te.isEdge&&re&&pe){n(te.bounds.x),r(ve);const Oe=pe.getBoundingClientRect().width/pe.offsetWidth,rt=te.bounds.width/Oe;L==null||L(ge[ve],rt,ve,rt+(ge[ve].growOffset??0))}else te.kind==="header"&&k&&(f(te.bounds.x),a(ve))}else te.kind==="cell"&&J>0&&ve===0&&se!==void 0&&ne!==void 0&&(M(te.bounds.y),m(se))}ce==null||ce(te)},[ce,re,J,ne,_,ge,k,L,ie]),ue=g.useCallback((te,je)=>{u||y||C==null||C(te,je)},[u,y,C]),fe=g.useCallback((te,je)=>{u||y||x==null||x(te,je)},[u,y,x]),$e=g.useRef(-1),me=g.useCallback(()=>{$e.current=-1,m(void 0),b(void 0),M(void 0),w(!1),a(void 0),l(void 0),f(void 0),c(!1),r(void 0),n(void 0)},[]),Ge=g.useCallback((te,je)=>{if(te.button===0){if(i!==void 0){if((G==null?void 0:G.hasIndex(i))===!0)for(const se of G){if(se===i)continue;const pe=ge[se],Ve=Gi(pe,$e.current,P,F);E==null||E(pe,Ve,se,Ve+(pe.growOffset??0))}const ve=Gi(ge[i],$e.current,P,F);if(z==null||z(ge[i],ve,i,ve+(ge[i].growOffset??0)),G.hasIndex(i))for(const se of G){if(se===i)continue;const pe=ge[se],Ve=Gi(pe,$e.current,P,F);z==null||z(pe,Ve,se,Ve+(pe.growOffset??0))}}me(),o!==void 0&&s!==void 0&&(I==null||I(o,s)),h!==void 0&&p!==void 0&&(ne==null||ne(h,p))}ke==null||ke(te,je)},[ke,i,o,s,h,p,G,z,ge,P,F,E,I,ne,me]),Me=g.useMemo(()=>{if(!(o===void 0||s===void 0)&&o!==s&&(oe==null?void 0:oe(o,s))!==!1)return{src:o,dest:s}},[o,s,oe]),_t=g.useCallback(te=>{const je=ie==null?void 0:ie.current;if(o!==void 0&&d!==void 0)Math.abs(te.clientX-d)>20&&c(!0);else if(h!==void 0&&S!==void 0)Math.abs(te.clientY-S)>20&&w(!0);else if(i!==void 0&&t!==void 0&&je){const se=je.getBoundingClientRect().width/je.offsetWidth,pe=(te.clientX-t)/se,Ve=ge[i],Oe=Gi(Ve,pe,P,F);if(E==null||E(Ve,Oe,i,Oe+(Ve.growOffset??0)),$e.current=pe,(G==null?void 0:G.first())===i)for(const rt of G){if(rt===i)continue;const he=ge[rt],Ee=Gi(he,$e.current,P,F);E==null||E(he,Ee,rt,Ee+(he.growOffset??0))}}},[o,d,h,S,i,t,ge,P,F,E,G,ie]),Rt=g.useCallback((te,je)=>{if(h===void 0||p===void 0)return R(te,je);let[ve,se]=te;return se===p?se=h:(se>p&&(se-=1),se>=h&&(se+=1)),R([ve,se],je)},[h,p,R]),et=g.useCallback(te=>{K==null||K(te),te.defaultPrevented()||me()},[me,K]);return g.createElement(ev,{accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,enableGroups:e.enableGroups,eventTargetRef:e.eventTargetRef,experimental:e.experimental,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,headerIcons:e.headerIcons,height:e.height,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,resizeColumn:i,isDraggable:e.isDraggable,isFilling:e.isFilling,isFocused:e.isFocused,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDrop:e.onDrop,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,resizeIndicator:e.resizeIndicator,verticalBorder:e.verticalBorder,width:e.width,getCellContent:Rt,isResizing:i!==void 0,onHeaderMenuClick:ue,onHeaderIndicatorClick:fe,isDragging:u,onItemHovered:O,onDragStart:et,onMouseDown:N,allowResize:re,onMouseUp:Ge,dragAndDropState:Me,onMouseMoveRaw:_t,ref:_})};function nv(e){const t=g.useRef(null),[n,i]=g.useState({width:e==null?void 0:e[0],height:e==null?void 0:e[1]});return g.useLayoutEffect(()=>{const r=a=>{for(const s of a){const{width:l,height:u}=s&&s.contentRect||{};i(c=>c.width===l&&c.height===u?c:{width:l,height:u})}},o=new window.ResizeObserver(r);return t.current&&o.observe(t.current,void 0),()=>{o.disconnect()}},[t.current]),{ref:t,...n}}const rv=(e,t,n)=>{const i=g.useRef(null),r=g.useRef(null),o=g.useRef(null),a=g.useRef(0),s=g.useRef(t);s.current=t;const l=n.current;g.useEffect(()=>{const u=()=>{var f,h;if(r.current===!1&&l!==null){const m=[l.scrollLeft,l.scrollTop];if(((f=o.current)==null?void 0:f[0])===m[0]&&((h=o.current)==null?void 0:h[1])===m[1])if(a.current>10){o.current=null,r.current=null;return}else a.current++;else a.current=0,s.current(m[0],m[1]),o.current=m;i.current=window.setTimeout(u,8.333333333333334)}},c=()=>{r.current=!0,o.current=null,i.current!==null&&(window.clearTimeout(i.current),i.current=null)},d=f=>{f.touches.length===0&&(r.current=!1,a.current=0,i.current=window.setTimeout(u,8.333333333333334))};if(e&&l!==null){const f=l;return f.addEventListener("touchstart",c),f.addEventListener("touchend",d),()=>{f.removeEventListener("touchstart",c),f.removeEventListener("touchend",d),i.current!==null&&window.clearTimeout(i.current)}}},[e,l])},iv=()=>e=>e.isSafari?"scroll":"auto",ov=mn("div")({name:"ScrollRegionStyle",class:"gdg-s1dgczr6",propsAsIs:!1,vars:{"s1dgczr6-0":[iv()]}});function av(e){const[t,n]=g.useState(!1),i=typeof window>"u"?null:window,r=g.useRef(0);return gn("touchstart",g.useCallback(()=>{window.clearTimeout(r.current),n(!0)},[]),i,!0,!1),gn("touchend",g.useCallback(o=>{o.touches.length===0&&(r.current=window.setTimeout(()=>n(!1),e))},[e]),i,!0,!1),t}const sv=e=>{var re,ge;const{children:t,clientHeight:n,scrollHeight:i,scrollWidth:r,update:o,draggable:a,className:s,preventDiagonalScrolling:l=!1,paddingBottom:u=0,paddingRight:c=0,rightElement:d,rightElementProps:f,kineticScrollPerfHack:h=!1,scrollRef:m,initialSize:p}=e,b=[],y=(f==null?void 0:f.sticky)??!1,w=(f==null?void 0:f.fill)??!1,S=g.useRef(0),M=g.useRef(0),C=g.useRef(null),x=typeof window>"u"?1:window.devicePixelRatio,R=g.useRef({scrollLeft:0,scrollTop:0,lockDirection:void 0}),I=g.useRef(null),E=av(200),[L,z]=g.useState(!0),_=g.useRef(0);g.useLayoutEffect(()=>{if(!L||E||R.current.lockDirection===void 0)return;const ye=C.current;if(ye===null)return;const[G,O]=R.current.lockDirection;G!==void 0?ye.scrollLeft=G:O!==void 0&&(ye.scrollTop=O),R.current.lockDirection=void 0},[E,L]);const F=g.useCallback((ye,G)=>{var et;const O=C.current;if(O===null)return;G=G??O.scrollTop,ye=ye??O.scrollLeft;const k=R.current.scrollTop,N=R.current.scrollLeft,ue=ye-N,fe=G-k;E&&ue!==0&&fe!==0&&(Math.abs(ue)>3||Math.abs(fe)>3)&&l&&R.current.lockDirection===void 0&&(R.current.lockDirection=Math.abs(ue)<Math.abs(fe)?[N,void 0]:[void 0,k]);const $e=R.current.lockDirection;ye=($e==null?void 0:$e[0])??ye,G=($e==null?void 0:$e[1])??G,R.current.scrollLeft=ye,R.current.scrollTop=G;const me=O.clientWidth,Ge=O.clientHeight,Me=G,_t=M.current-Me,Rt=O.scrollHeight-Ge;if(M.current=Me,Rt>0&&(Math.abs(_t)>2e3||Me===0||Me===Rt)&&i>O.scrollHeight+5){const te=Me/Rt,je=(i-Ge)*te;S.current=je-Me}$e!==void 0&&(window.clearTimeout(_.current),z(!1),_.current=window.setTimeout(()=>z(!0),200)),o({x:ye,y:Me+S.current,width:me-c,height:Ge-u,paddingRight:((et=I.current)==null?void 0:et.clientWidth)??0})},[u,c,i,o,l,E]);rv(h&&ba.value,F,C);const P=g.useRef(F);P.current=F;const ne=g.useRef(),J=g.useRef(!1);g.useLayoutEffect(()=>{J.current?F():J.current=!0},[F,u,c]);const oe=g.useCallback(ye=>{C.current=ye,m!==void 0&&(m.current=ye)},[m]);let ce=0,ke=0;for(b.push(g.createElement("div",{key:ce++,style:{width:r,height:0}}));ke<i;){const ye=Math.min(5e6,i-ke);b.push(g.createElement("div",{key:ce++,style:{width:0,height:ye}})),ke+=ye}const{ref:ae,width:K,height:ie}=nv(p);return typeof window<"u"&&(((re=ne.current)==null?void 0:re.height)!==ie||((ge=ne.current)==null?void 0:ge.width)!==K)&&(window.setTimeout(()=>P.current(),0),ne.current={width:K,height:ie}),(K??0)===0||(ie??0)===0?g.createElement("div",{ref:ae}):g.createElement("div",{ref:ae},g.createElement(ov,{isSafari:ba.value},g.createElement("div",{className:"dvn-underlay"},t),g.createElement("div",{ref:oe,style:ne.current,draggable:a,onDragStart:ye=>{a||(ye.stopPropagation(),ye.preventDefault())},className:"dvn-scroller "+(s??""),onScroll:()=>F()},g.createElement("div",{className:"dvn-scroll-inner"+(d===void 0?" dvn-hidden":"")},g.createElement("div",{className:"dvn-stack"},b),d!==void 0&&g.createElement(g.Fragment,null,!w&&g.createElement("div",{className:"dvn-spacer"}),g.createElement("div",{ref:I,style:{height:ie,maxHeight:n-Math.ceil(x%1),position:"sticky",top:0,paddingLeft:1,marginBottom:-40,marginRight:c,flexGrow:w?1:void 0,right:y?c??0:void 0,pointerEvents:"auto"}},d))))))},lv=e=>{const{columns:t,rows:n,rowHeight:i,headerHeight:r,groupHeaderHeight:o,enableGroups:a,freezeColumns:s,experimental:l,nonGrowWidth:u,clientSize:c,className:d,onVisibleRegionChanged:f,scrollRef:h,preventDiagonalScrolling:m,rightElement:p,rightElementProps:b,overscrollX:y,overscrollY:w,initialSize:S,smoothScrollX:M=!1,smoothScrollY:C=!1,isDraggable:x}=e,{paddingRight:R,paddingBottom:I}=l??{},[E,L]=c,z=g.useRef(),_=g.useRef(),F=g.useRef(),P=g.useRef(),ne=u+Math.max(0,y??0);let J=a?r+o:r;if(typeof i=="number")J+=n*i;else for(let ae=0;ae<n;ae++)J+=i(ae);w!==void 0&&(J+=w);const oe=g.useRef(),ce=g.useCallback(()=>{var fe,$e;if(oe.current===void 0)return;const ae={...oe.current};let K=0,ie=ae.x<0?-ae.x:0,re=0,ge=0;ae.x=ae.x<0?0:ae.x;let ye=0;for(let me=0;me<s;me++)ye+=t[me].width;for(const me of t){const Ge=K-ye;if(ae.x>=Ge+me.width)K+=me.width,ge++,re++;else if(ae.x>Ge)K+=me.width,M?ie+=Ge-ae.x:ge++,re++;else if(ae.x+ae.width>Ge)K+=me.width,re++;else break}let G=0,O=0,k=0;if(typeof i=="number")C?(O=Math.floor(ae.y/i),G=O*i-ae.y):O=Math.ceil(ae.y/i),k=Math.ceil(ae.height/i)+O,G<0&&k++;else{let me=0;for(let Ge=0;Ge<n;Ge++){const Me=i(Ge),_t=me+(C?0:Me/2);if(ae.y>=me+Me)me+=Me,O++,k++;else if(ae.y>_t)me+=Me,C?G+=_t-ae.y:O++,k++;else if(ae.y+ae.height>Me/2+me)me+=Me,k++;else break}}const N={x:ge,y:O,width:re-ge,height:k-O},ue=z.current;(ue===void 0||ue.y!==N.y||ue.x!==N.x||ue.height!==N.height||ue.width!==N.width||_.current!==ie||F.current!==G||ae.width!==((fe=P.current)==null?void 0:fe[0])||ae.height!==(($e=P.current)==null?void 0:$e[1]))&&(f==null||f({x:ge,y:O,width:re-ge,height:k-O},ae.width,ae.height,ae.paddingRight??0,ie,G),z.current=N,_.current=ie,F.current=G,P.current=[ae.width,ae.height])},[t,i,n,f,s,M,C]),ke=g.useCallback(ae=>{oe.current=ae,ce()},[ce]);return g.useEffect(()=>{ce()},[ce]),g.createElement(sv,{scrollRef:h,className:d,kineticScrollPerfHack:l==null?void 0:l.kineticScrollPerfHack,preventDiagonalScrolling:m,draggable:x===!0||typeof x=="string",scrollWidth:ne+(R??0),scrollHeight:J+(I??0),clientHeight:L,rightElement:p,paddingBottom:I,paddingRight:R,rightElementProps:b,update:ke,initialSize:S},g.createElement(tv,{eventTargetRef:h,width:E,height:L,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,onColumnProposeMove:e.onColumnProposeMove,verticalBorder:e.verticalBorder,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}))},uv=mn("div")({name:"SearchWrapper",class:"gdg-seveqep",propsAsIs:!1}),cv=g.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},g.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"})),dv=g.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},g.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"})),fv=g.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},g.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})),hv=10,gv=e=>{const{canvasRef:t,cellYOffset:n,rows:i,columns:r,searchInputRef:o,searchValue:a,searchResults:s,onSearchValueChange:l,getCellsForSelection:u,onSearchResultsChanged:c,showSearch:d=!1,onSearchClose:f}=e,[h]=g.useState(()=>"search-box-"+Math.round(Math.random()*1e3)),[m,p]=g.useState(""),b=a??m,y=g.useCallback(K=>{p(K),l==null||l(K)},[l]),[w,S]=g.useState(),M=g.useRef(w);M.current=w,g.useEffect(()=>{s!==void 0&&(s.length>0?S(K=>({rowsSearched:i,results:s.length,selectedIndex:(K==null?void 0:K.selectedIndex)??-1})):S(void 0))},[i,s]);const C=g.useRef();C.current===void 0&&(C.current=new AbortController);const x=g.useRef(),[R,I]=g.useState([]),E=s??R,L=g.useCallback(()=>{x.current!==void 0&&(window.cancelAnimationFrame(x.current),x.current=void 0,C.current.abort())},[]),z=g.useRef(n);z.current=n;const _=g.useCallback(K=>{const ie=new RegExp(K.replace(/([$()*+.?[\\\]^{|}-])/g,"\\$1"),"i");let re=z.current,ge=Math.min(10,i),ye=0;S(void 0),I([]);const G=[],O=async()=>{var Rt;if(u===void 0)return;const k=performance.now(),N=i-ye;let ue=u({x:0,y:re,width:r.length,height:Math.min(ge,N,i-re)},C.current.signal);typeof ue=="function"&&(ue=await ue());let fe=!1;for(const[et,te]of ue.entries())for(const[je,ve]of te.entries()){let se;switch(ve.kind){case Z.Text:case Z.Number:se=ve.displayData;break;case Z.Uri:case Z.Markdown:se=ve.data;break;case Z.Boolean:se=typeof ve.data=="boolean"?ve.data.toString():void 0;break;case Z.Image:case Z.Bubble:se=ve.data.join("🐳");break;case Z.Custom:se=ve.copyData;break}se!==void 0&&ie.test(se)&&(G.push([je,et+re]),fe=!0)}const $e=performance.now();fe&&I([...G]),ye+=ue.length,An(ye<=i);const me=((Rt=M.current)==null?void 0:Rt.selectedIndex)??-1;S({results:G.length,rowsSearched:ye,selectedIndex:me}),c==null||c(G,me),re+ge>=i?re=0:re+=ge;const Ge=$e-k,Me=Math.max(Ge,1),_t=hv/Me;ge=Math.ceil(ge*_t),ye<i&&G.length<1e3&&(x.current=window.requestAnimationFrame(O))};L(),x.current=window.requestAnimationFrame(O)},[L,r.length,u,c,i]),F=g.useCallback(()=>{var K;f==null||f(),S(void 0),I([]),c==null||c([],-1),L(),(K=t==null?void 0:t.current)==null||K.focus()},[L,t,f,c]),P=g.useCallback(K=>{y(K.target.value),s===void 0&&(K.target.value===""?(S(void 0),I([]),L()):_(K.target.value))},[_,L,y,s]);g.useEffect(()=>{d&&o.current!==null&&(y(""),o.current.focus({preventScroll:!0}))},[d,o,y]);const ne=g.useCallback(K=>{var re;if((re=K==null?void 0:K.stopPropagation)==null||re.call(K),w===void 0)return;const ie=(w.selectedIndex+1)%w.results;S({...w,selectedIndex:ie}),c==null||c(E,ie)},[w,c,E]),J=g.useCallback(K=>{var re;if((re=K==null?void 0:K.stopPropagation)==null||re.call(K),w===void 0)return;let ie=(w.selectedIndex-1)%w.results;ie<0&&(ie+=w.results),S({...w,selectedIndex:ie}),c==null||c(E,ie)},[c,E,w]),oe=g.useCallback(K=>{(K.ctrlKey||K.metaKey)&&K.nativeEvent.code==="KeyF"||K.key==="Escape"?(F(),K.stopPropagation(),K.preventDefault()):K.key==="Enter"&&(K.shiftKey?J():ne())},[F,ne,J]);g.useEffect(()=>()=>{L()},[L]);const[ce,ke]=g.useState(!1);g.useEffect(()=>{if(d)ke(!0);else{const K=setTimeout(()=>ke(!1),150);return()=>clearTimeout(K)}},[d]);const ae=g.useMemo(()=>{if(!d&&!ce)return null;let K;w!==void 0&&(K=w.results>=1e3?"over 1000":`${w.results} result${w.results!==1?"s":""}`,w.selectedIndex>=0&&(K=`${w.selectedIndex+1} of ${K}`));const ie=ye=>{ye.stopPropagation()},ge={width:`${Math.floor(((w==null?void 0:w.rowsSearched)??0)/i*100)}%`};return g.createElement(uv,{className:d?"":"out",onMouseDown:ie,onMouseMove:ie,onMouseUp:ie,onClick:ie},g.createElement("div",{className:"gdg-search-bar-inner"},g.createElement("input",{id:h,"aria-hidden":!d,"data-testid":"search-input",ref:o,onChange:P,value:b,tabIndex:d?void 0:-1,onKeyDownCapture:oe}),g.createElement("button",{"aria-label":"Previous Result","aria-hidden":!d,tabIndex:d?void 0:-1,onClick:J,disabled:((w==null?void 0:w.results)??0)===0},cv),g.createElement("button",{"aria-label":"Next Result","aria-hidden":!d,tabIndex:d?void 0:-1,onClick:ne,disabled:((w==null?void 0:w.results)??0)===0},dv),f!==void 0&&g.createElement("button",{"aria-label":"Close Search","aria-hidden":!d,"data-testid":"search-close-button",tabIndex:d?void 0:-1,onClick:F},fv)),w!==void 0?g.createElement(g.Fragment,null,g.createElement("div",{className:"gdg-search-status"},g.createElement("div",{"data-testid":"search-result-area"},K)),g.createElement("div",{className:"gdg-search-progress",style:ge})):g.createElement("div",{className:"gdg-search-status"},g.createElement("label",{htmlFor:h},"Type to search")))},[d,ce,w,i,h,o,P,b,oe,J,ne,f,F]);return g.createElement(g.Fragment,null,g.createElement(lv,{prelightCells:E,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,className:e.className,clientSize:e.clientSize,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,nonGrowWidth:e.nonGrowWidth,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,initialSize:e.initialSize,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,onVisibleRegionChanged:e.onVisibleRegionChanged,overscrollX:e.overscrollX,overscrollY:e.overscrollY,preventDiagonalScrolling:e.preventDiagonalScrolling,rightElement:e.rightElement,rightElementProps:e.rightElementProps,rowHeight:e.rowHeight,rows:e.rows,scrollRef:e.scrollRef,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,onColumnProposeMove:e.onColumnProposeMove,drawFocusRing:e.drawFocusRing,drawCell:e.drawCell,drawHeader:e.drawHeader,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}),ae)};class mv extends g.PureComponent{constructor(){super(...arguments);dt(this,"wrapperRef",g.createRef());dt(this,"clickOutside",n=>{if(!(this.props.isOutsideClick&&!this.props.isOutsideClick(n))&&this.wrapperRef.current!==null&&!this.wrapperRef.current.contains(n.target)){let i=n.target;for(;i!==null;){if(i.classList.contains("click-outside-ignore"))return;i=i.parentElement}this.props.onClickOutside()}})}componentDidMount(){document.addEventListener("touchend",this.clickOutside,!0),document.addEventListener("mousedown",this.clickOutside,!0),document.addEventListener("contextmenu",this.clickOutside,!0)}componentWillUnmount(){document.removeEventListener("touchend",this.clickOutside,!0),document.removeEventListener("mousedown",this.clickOutside,!0),document.removeEventListener("contextmenu",this.clickOutside,!0)}render(){const{onClickOutside:n,isOutsideClick:i,...r}=this.props;return g.createElement("div",{...r,ref:this.wrapperRef},this.props.children)}}const pv=()=>e=>Math.max(16,e.targetHeight-10),vv=mn("input")({name:"RenameInput",class:"gdg-r17m35ur",propsAsIs:!1,vars:{"r17m35ur-0":[pv(),"px"]}}),bv=e=>{const{bounds:t,group:n,onClose:i,canvasBounds:r,onFinish:o}=e,[a,s]=ee.useState(n);return ee.createElement(mv,{style:{position:"absolute",left:t.x-r.left+1,top:t.y-r.top,width:t.width-2,height:t.height},className:"gdg-c1tqibwd",onClickOutside:i},ee.createElement(vv,{targetHeight:t.height,"data-testid":"group-rename-input",value:a,onBlur:i,onFocus:l=>l.target.setSelectionRange(0,a.length),onChange:l=>s(l.target.value),onKeyDown:l=>{l.key==="Enter"?o(a):l.key==="Escape"&&i()},autoFocus:!0}))};function wv(e,t){return e===void 0?!1:e.length>1&&e.startsWith("_")?Number.parseInt(e.slice(1))===t.keyCode:e.length===1&&e>="a"&&e<="z"?e.toUpperCase().codePointAt(0)===t.keyCode:e===t.key}function ut(e,t,n){const i=bd(e,t);return i&&(n.didMatch=!0),i}function bd(e,t){if(e.length===0)return!1;if(e.includes("|")){const l=e.split("|");for(const u of l)if(bd(u,t))return!0;return!1}let n=!1,i=!1,r=!1,o=!1;const a=e.split("+"),s=a.pop();if(!wv(s,t))return!1;if(a[0]==="any")return!0;for(const l of a)switch(l){case"ctrl":n=!0;break;case"shift":i=!0;break;case"alt":r=!0;break;case"meta":o=!0;break;case"primary":wa.value?o=!0:n=!0;break}return t.altKey===r&&t.ctrlKey===n&&t.shiftKey===i&&t.metaKey===o}function yv(e,t,n,i,r,o,a){const s=ee.useCallback((c,d,f,h)=>{var S;(o==="cell"||o==="multi-cell")&&c!==void 0&&(c={...c,range:{x:c.cell[0],y:c.cell[1],width:1,height:1}}),!a&&c!==void 0&&c.range.width>1&&(c={...c,range:{...c.range,width:1,x:c.cell[0]}});const m=n==="mixed"&&(f||h==="drag"),p=i==="mixed"&&m,b=r==="mixed"&&m;let y={current:c===void 0?void 0:{...c,rangeStack:h==="drag"?((S=e.current)==null?void 0:S.rangeStack)??[]:[]},columns:p?e.columns:wt.empty(),rows:b?e.rows:wt.empty()};f&&(o==="multi-rect"||o==="multi-cell")&&y.current!==void 0&&e.current!==void 0&&(y={...y,current:{...y.current,rangeStack:[...e.current.rangeStack,e.current.range]}}),t(y,d)},[i,e,n,o,a,r,t]),l=ee.useCallback((c,d,f)=>{c=c??e.rows,d!==void 0&&(c=c.add(d));let h;if(r==="exclusive"&&c.length>0)h={current:void 0,columns:wt.empty(),rows:c};else{const m=f&&n==="mixed",p=f&&i==="mixed";h={current:m?e.current:void 0,columns:p?e.columns:wt.empty(),rows:c}}t(h,!1)},[i,e,n,r,t]),u=ee.useCallback((c,d,f)=>{c=c??e.columns,d!==void 0&&(c=c.add(d));let h;if(i==="exclusive"&&c.length>0)h={current:void 0,rows:wt.empty(),columns:c};else{const m=f&&n==="mixed",p=f&&r==="mixed";h={current:m?e.current:void 0,rows:p?e.rows:wt.empty(),columns:c}}t(h,!1)},[i,e,n,r,t]);return[s,l,u]}function Cv(e,t,n,i,r){const o=g.useCallback(u=>{if(e===!0){const c=[];for(let d=u.y;d<u.y+u.height;d++){const f=[];for(let h=u.x;h<u.x+u.width;h++)h<0||d>=r?f.push({kind:Z.Loading,allowOverlay:!1}):f.push(t([h,d]));c.push(f)}return c}return(e==null?void 0:e(u,i.signal))??[]},[i.signal,t,e,r]),a=e!==void 0?o:void 0,s=g.useCallback(u=>{if(a===void 0)return[];const c={...u,x:u.x-n};if(c.x<0){c.x=0,c.width--;const d=a(c,i.signal);return typeof d=="function"?async()=>(await d()).map(f=>[{kind:Z.Loading,allowOverlay:!1},...f]):d.map(f=>[{kind:Z.Loading,allowOverlay:!1},...f])}return a(c,i.signal)},[i.signal,a,n]);return[e!==void 0?s:void 0,a]}function Sv(e){if(e.copyData!==void 0)return{formatted:e.copyData,rawValue:e.copyData,format:"string"};switch(e.kind){case Z.Boolean:return{formatted:e.data===!0?"TRUE":e.data===!1?"FALSE":e.data===Xs?"INDETERMINATE":"",rawValue:e.data,format:"boolean"};case Z.Custom:return{formatted:e.copyData,rawValue:e.copyData,format:"string"};case Z.Image:case Z.Bubble:return{formatted:e.data,rawValue:e.data,format:"string-array"};case Z.Drilldown:return{formatted:e.data.map(t=>t.text),rawValue:e.data.map(t=>t.text),format:"string-array"};case Z.Text:return{formatted:e.displayData??e.data,rawValue:e.data,format:"string"};case Z.Uri:return{formatted:e.displayData??e.data,rawValue:e.data,format:"url"};case Z.Markdown:case Z.RowID:return{formatted:e.data,rawValue:e.data,format:"string"};case Z.Number:return{formatted:e.displayData,rawValue:e.data,format:"number"};case Z.Loading:return{formatted:"#LOADING",rawValue:"",format:"string"};case Z.Protected:return{formatted:"************",rawValue:"",format:"string"};default:ao()}}function xv(e,t){return e.map((i,r)=>{const o=t[r];return i.map(a=>a.span!==void 0&&a.span[0]!==o?{formatted:"",rawValue:"",format:"string"}:Sv(a))})}function vu(e,t){return(t?/[\t\n",]/:/[\t\n"]/).test(e)&&(e=`"${e.replace(/"/g,'""')}"`),e}function kv(e){var n;const t=[];for(const i of e){const r=[];for(const o of i)o.format==="url"?r.push(((n=o.rawValue)==null?void 0:n.toString())??""):o.format==="string-array"?r.push(o.formatted.map(a=>vu(a,!0)).join(",")):r.push(vu(o.formatted,!1));t.push(r.join("	"))}return t.join(`
`)}function gs(e){return e.replace(/\t/g,"    ").replace(/ {2,}/g,t=>"<span> </span>".repeat(t.length))}function bu(e){return'"'+e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"'}function Mv(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function Rv(e){var n;const t=[];t.push('<style type="text/css"><!--br {mso-data-placement:same-cell;}--></style>',"<table><tbody>");for(const i of e){t.push("<tr>");for(const r of i){const o=`gdg-format="${r.format}"`;r.format==="url"?t.push(`<td ${o}><a href="${r.rawValue}">${gs(r.formatted)}</a></td>`):r.format==="string-array"?t.push(`<td ${o}><ol>${r.formatted.map((a,s)=>`<li gdg-raw-value=${bu(r.rawValue[s])}>`+gs(a)+"</li>").join("")}</ol></td>`):t.push(`<td gdg-raw-value=${bu(((n=r.rawValue)==null?void 0:n.toString())??"")} ${o}>${gs(r.formatted)}</td>`)}t.push("</tr>")}return t.push("</tbody></table>"),t.join("")}function Ev(e,t){const n=xv(e,t),i=kv(n),r=Rv(n);return{textPlain:i,textHtml:r}}function wu(e){var a;const t=document.createElement("html");t.innerHTML=e.replace(/&nbsp;/g," ");const n=t.querySelector("table");if(n===null)return;const i=[n],r=[];let o;for(;i.length>0;){const s=i.pop();if(s===void 0)break;if(s instanceof HTMLTableElement||s.nodeName==="TBODY")i.push(...[...s.children].reverse());else if(s instanceof HTMLTableRowElement)o!==void 0&&r.push(o),o=[],i.push(...[...s.children].reverse());else if(s instanceof HTMLTableCellElement){const l=s.cloneNode(!0),c=l.children.length===1&&l.children[0].nodeName==="P"?l.children[0]:null,d=(c==null?void 0:c.children.length)===1&&c.children[0].nodeName==="FONT",f=l.querySelectorAll("br");for(const p of f)p.replaceWith(`
`);const h=l.getAttribute("gdg-raw-value"),m=l.getAttribute("gdg-format")??"string";if(l.querySelector("a")!==null)o==null||o.push({rawValue:((a=l.querySelector("a"))==null?void 0:a.getAttribute("href"))??"",formatted:l.textContent??"",format:m});else if(l.querySelector("ol")!==null){const p=l.querySelectorAll("li");o==null||o.push({rawValue:[...p].map(b=>b.getAttribute("gdg-raw-value")??""),formatted:[...p].map(b=>b.textContent??""),format:"string-array"})}else if(h!==null)o==null||o.push({rawValue:Mv(h),formatted:l.textContent??"",format:m});else{let p=l.textContent??"";d&&(p=p.replace(/\n(?!\n)/g,"")),o==null||o.push({rawValue:p??"",formatted:p??"",format:m})}}}return o!==void 0&&r.push(o),r}function Iv(e,t,n,i,r){var s;const o=e;if(i==="allowPartial"||e.current===void 0||t===void 0)return e;let a=!1;do{if((e==null?void 0:e.current)===void 0)break;const l=(s=e.current)==null?void 0:s.range,u=[];if(l.width>2){const f=t({x:l.x,y:l.y,width:1,height:l.height},r.signal);if(typeof f=="function")return o;u.push(...f);const h=t({x:l.x+l.width-1,y:l.y,width:1,height:l.height},r.signal);if(typeof h=="function")return o;u.push(...h)}else{const f=t({x:l.x,y:l.y,width:l.width,height:l.height},r.signal);if(typeof f=="function")return o;u.push(...f)}let c=l.x-n,d=l.x+l.width-1-n;for(const f of u)for(const h of f)h.span!==void 0&&(c=Math.min(h.span[0],c),d=Math.max(h.span[1],d));c===l.x-n&&d===l.x+l.width-1-n?a=!0:e={current:{cell:e.current.cell??[0,0],range:{x:c+n,y:l.y,width:d-c+1,height:l.height},rangeStack:e.current.rangeStack},columns:e.columns,rows:e.rows}}while(!a);return e}function yu(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1).replace(/""/g,'"')),e}function Tv(e){let t;(function(s){s[s.None=0]="None",s[s.inString=1]="inString",s[s.inStringPostQuote=2]="inStringPostQuote"})(t||(t={}));const n=[];let i=[],r=0,o=t.None;e=e.replace(/\r\n/g,`
`);let a=0;for(const s of e){switch(o){case t.None:s==="	"||s===`
`?(i.push(e.slice(r,a)),r=a+1,s===`
`&&(n.push(i),i=[])):s==='"'&&(o=t.inString);break;case t.inString:s==='"'&&(o=t.inStringPostQuote);break;case t.inStringPostQuote:s==='"'?o=t.inString:((s==="	"||s===`
`)&&(i.push(yu(e.slice(r,a))),r=a+1,s===`
`&&(n.push(i),i=[])),o=t.None);break}a++}return r<e.length&&i.push(yu(e.slice(r,e.length))),n.push(i),n.map(s=>s.map(l=>({rawValue:l,formatted:l,format:"string"})))}function Cu(e,t,n){var s;const i=Ev(e,t),r=l=>{var u;(u=window.navigator.clipboard)==null||u.writeText(l)},o=(l,u)=>{var c;return((c=window.navigator.clipboard)==null?void 0:c.write)===void 0?!1:(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([l],{type:"text/plain"}),"text/html":new Blob([u],{type:"text/html"})})]),!0)},a=(l,u)=>{var c,d;try{if(n===void 0||n.clipboardData===null)throw new Error("No clipboard data");(c=n==null?void 0:n.clipboardData)==null||c.setData("text/plain",l),(d=n==null?void 0:n.clipboardData)==null||d.setData("text/html",u)}catch{o(l,u)||r(l)}};((s=window.navigator.clipboard)==null?void 0:s.write)!==void 0||(n==null?void 0:n.clipboardData)!==void 0?a(i.textPlain,i.textHtml):r(i.textPlain),n==null||n.preventDefault()}function wd(e){return e!==!0}function Su(e){return typeof e=="string"?e:`${e}px`}const Dv=()=>e=>e.innerWidth,Ov=()=>e=>e.innerHeight,Pv=mn("div")({name:"Wrapper",class:"gdg-wmyidgi",propsAsIs:!1,vars:{"wmyidgi-0":[Dv()],"wmyidgi-1":[Ov()]}}),_v=e=>{const{inWidth:t,inHeight:n,children:i,...r}=e;return g.createElement(Pv,{innerHeight:Su(n),innerWidth:Su(t),...r},i)},Lv=2,Fv=1300;function Av(e,t,n){const i=ee.useRef(0),[r,o]=e??[0,0];ee.useEffect(()=>{if(r===0&&o===0){i.current=0;return}let a=!1,s=0;const l=u=>{var c;if(!a){if(s===0)s=u;else{const d=u-s;i.current=Math.min(1,i.current+d/Fv);const f=i.current**1.618*d*Lv;(c=t.current)==null||c.scrollBy(r*f,o*f),s=u,n==null||n()}window.requestAnimationFrame(l)}};return window.requestAnimationFrame(l),()=>{a=!0}},[t,r,o,n])}function Hv({rowHeight:e,headerHeight:t,groupHeaderHeight:n,theme:i,overscrollX:r,overscrollY:o,scaleToRem:a,remSize:s}){const[l,u,c,d,f,h]=ee.useMemo(()=>{if(!a||s===16)return[e,t,n,i,r,o];const m=s/16,p=e,b=id();return[typeof p=="number"?p*m:y=>Math.ceil(p(y)*m),Math.ceil(t*m),Math.ceil(n*m),{...i,headerIconSize:((i==null?void 0:i.headerIconSize)??b.headerIconSize)*m,cellHorizontalPadding:((i==null?void 0:i.cellHorizontalPadding)??b.cellHorizontalPadding)*m,cellVerticalPadding:((i==null?void 0:i.cellVerticalPadding)??b.cellVerticalPadding)*m},Math.ceil((r??0)*m),Math.ceil((o??0)*m)]},[n,t,r,o,s,e,a,i]);return{rowHeight:l,headerHeight:u,groupHeaderHeight:c,theme:d,overscrollX:f,overscrollY:h}}const Fr={downFill:!1,rightFill:!1,clear:!0,closeOverlay:!0,acceptOverlayDown:!0,acceptOverlayUp:!0,acceptOverlayLeft:!0,acceptOverlayRight:!0,copy:!0,paste:!0,cut:!0,search:!1,delete:!0,activateCell:!0,scrollToSelectedCell:!0,goToFirstCell:!0,goToFirstColumn:!0,goToFirstRow:!0,goToLastCell:!0,goToLastColumn:!0,goToLastRow:!0,goToNextPage:!0,goToPreviousPage:!0,selectToFirstCell:!0,selectToFirstColumn:!0,selectToFirstRow:!0,selectToLastCell:!0,selectToLastColumn:!0,selectToLastRow:!0,selectAll:!0,selectRow:!0,selectColumn:!0,goUpCell:!0,goRightCell:!0,goDownCell:!0,goLeftCell:!0,goUpCellRetainSelection:!0,goRightCellRetainSelection:!0,goDownCellRetainSelection:!0,goLeftCellRetainSelection:!0,selectGrowUp:!0,selectGrowRight:!0,selectGrowDown:!0,selectGrowLeft:!0};function ct(e,t){return e===!0?t:e===!1?"":e}function xu(e){const t=wa.value;return{activateCell:ct(e.activateCell," |Enter|shift+Enter"),clear:ct(e.clear,"any+Escape"),closeOverlay:ct(e.closeOverlay,"any+Escape"),acceptOverlayDown:ct(e.acceptOverlayDown,"Enter"),acceptOverlayUp:ct(e.acceptOverlayUp,"shift+Enter"),acceptOverlayLeft:ct(e.acceptOverlayLeft,"shift+Tab"),acceptOverlayRight:ct(e.acceptOverlayRight,"Tab"),copy:e.copy,cut:e.cut,delete:ct(e.delete,t?"Backspace|Delete":"Delete"),downFill:ct(e.downFill,"primary+_68"),scrollToSelectedCell:ct(e.scrollToSelectedCell,"primary+Enter"),goDownCell:ct(e.goDownCell,"ArrowDown"),goDownCellRetainSelection:ct(e.goDownCellRetainSelection,"alt+ArrowDown"),goLeftCell:ct(e.goLeftCell,"ArrowLeft|shift+Tab"),goLeftCellRetainSelection:ct(e.goLeftCellRetainSelection,"alt+ArrowLeft"),goRightCell:ct(e.goRightCell,"ArrowRight|Tab"),goRightCellRetainSelection:ct(e.goRightCellRetainSelection,"alt+ArrowRight"),goUpCell:ct(e.goUpCell,"ArrowUp"),goUpCellRetainSelection:ct(e.goUpCellRetainSelection,"alt+ArrowUp"),goToFirstCell:ct(e.goToFirstCell,"primary+Home"),goToFirstColumn:ct(e.goToFirstColumn,"Home|primary+ArrowLeft"),goToFirstRow:ct(e.goToFirstRow,"primary+ArrowUp"),goToLastCell:ct(e.goToLastCell,"primary+End"),goToLastColumn:ct(e.goToLastColumn,"End|primary+ArrowRight"),goToLastRow:ct(e.goToLastRow,"primary+ArrowDown"),goToNextPage:ct(e.goToNextPage,"PageDown"),goToPreviousPage:ct(e.goToPreviousPage,"PageUp"),paste:e.paste,rightFill:ct(e.rightFill,"primary+_82"),search:ct(e.search,"primary+f"),selectAll:ct(e.selectAll,"primary+a"),selectColumn:ct(e.selectColumn,"ctrl+ "),selectGrowDown:ct(e.selectGrowDown,"shift+ArrowDown"),selectGrowLeft:ct(e.selectGrowLeft,"shift+ArrowLeft"),selectGrowRight:ct(e.selectGrowRight,"shift+ArrowRight"),selectGrowUp:ct(e.selectGrowUp,"shift+ArrowUp"),selectRow:ct(e.selectRow,"shift+ "),selectToFirstCell:ct(e.selectToFirstCell,"primary+shift+Home"),selectToFirstColumn:ct(e.selectToFirstColumn,"primary+shift+ArrowLeft"),selectToFirstRow:ct(e.selectToFirstRow,"primary+shift+ArrowUp"),selectToLastCell:ct(e.selectToLastCell,"primary+shift+End"),selectToLastColumn:ct(e.selectToLastColumn,"primary+shift+ArrowRight"),selectToLastRow:ct(e.selectToLastRow,"primary+shift+ArrowDown")}}function zv(e){const t=Pm(e);return ee.useMemo(()=>{if(t===void 0)return xu(Fr);const n={...t,goToNextPage:(t==null?void 0:t.goToNextPage)??(t==null?void 0:t.pageDown)??Fr.goToNextPage,goToPreviousPage:(t==null?void 0:t.goToPreviousPage)??(t==null?void 0:t.pageUp)??Fr.goToPreviousPage,goToFirstCell:(t==null?void 0:t.goToFirstCell)??(t==null?void 0:t.first)??Fr.goToFirstCell,goToLastCell:(t==null?void 0:t.goToLastCell)??(t==null?void 0:t.last)??Fr.goToLastCell,selectToFirstCell:(t==null?void 0:t.selectToFirstCell)??(t==null?void 0:t.first)??Fr.selectToFirstCell,selectToLastCell:(t==null?void 0:t.selectToLastCell)??(t==null?void 0:t.last)??Fr.selectToLastCell};return xu({...Fr,...n})},[t])}function $v(e){function t(i,r,o){if(typeof i=="number")return{headerIndex:i,isCollapsed:!1,depth:r,path:o};const a={headerIndex:i.headerIndex,isCollapsed:i.isCollapsed,depth:r,path:o};return i.subGroups!==void 0&&(a.subGroups=i.subGroups.map((s,l)=>t(s,r+1,[...o,l])).sort((s,l)=>s.headerIndex-l.headerIndex)),a}return e.map((i,r)=>t(i,0,[r])).sort((i,r)=>i.headerIndex-r.headerIndex)}function ol(e,t){const n=[];function i(a,s,l=!1){let u=s!==null?s-a.headerIndex:t-a.headerIndex;if(a.subGroups!==void 0&&(u=a.subGroups[0].headerIndex-a.headerIndex),u--,n.push({headerIndex:a.headerIndex,contentIndex:-1,skip:l,isCollapsed:a.isCollapsed,depth:a.depth,path:a.path,rows:u}),a.subGroups)for(let c=0;c<a.subGroups.length;c++){const d=c<a.subGroups.length-1?a.subGroups[c+1].headerIndex:s;i(a.subGroups[c],d,l||a.isCollapsed)}}const r=$v(e.groups);for(let a=0;a<r.length;a++){const s=a<r.length-1?r[a+1].headerIndex:null;i(r[a],s)}let o=0;for(const a of n)a.contentIndex=o,o+=a.rows;return n.filter(a=>a.skip===!1).map(a=>{const{skip:s,...l}=a;return l})}function Ca(e,t){if(t===void 0||ol.length===0)return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1};let n=e;for(const i of t){if(n===0)return{path:[...i.path,-1],originalIndex:i.headerIndex,isGroupHeader:!0,groupIndex:-1,contentIndex:-1,groupRows:i.rows};if(n--,!i.isCollapsed){if(n<i.rows)return{path:[...i.path,n],originalIndex:i.headerIndex+n,isGroupHeader:!1,groupIndex:n,contentIndex:i.contentIndex+n,groupRows:i.rows};n-=i.rows}}return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1}}function Vv(e,t,n,i){const r=ee.useMemo(()=>e===void 0?void 0:ol(e,t),[e,t]),o=ee.useMemo(()=>r===void 0?t:r.reduce((u,c)=>u+(c.isCollapsed?1:c.rows+1),0),[r,t]),a=ee.useMemo(()=>e===void 0||typeof n=="number"&&e.height===n?n:u=>{const{isGroupHeader:c}=Ca(u,r);return c?e.height:typeof n=="number"?n:n(u)},[r,e,n]),s=ee.useCallback(u=>{if(r===void 0)return u;let c=u;for(const d of r){if(c===0)return;if(c--,!d.isCollapsed){if(c<d.rows)return d.contentIndex+c;c-=d.rows}}return u},[r]),l=Jr(i??(e==null?void 0:e.themeOverride),ee.useCallback(u=>{if(e===void 0)return i==null?void 0:i(u,u,u);if(i===void 0&&(e==null?void 0:e.themeOverride)===void 0)return;const{isGroupHeader:c,contentIndex:d,groupIndex:f}=Ca(u,r);return c?e.themeOverride:i==null?void 0:i(u,f,d)},[r,i,e]));return e===void 0?{rowHeight:a,rows:t,rowNumberMapper:s,getRowThemeOverride:l}:{rowHeight:a,rows:o,rowNumberMapper:s,getRowThemeOverride:l}}function Nv(e,t){const n=ee.useMemo(()=>e===void 0?void 0:ol(e,t),[e,t]);return{getRowGroupingForPath:Cd,updateRowGroupingByPath:yd,mapper:ee.useCallback(i=>{if(typeof i=="number")return Ca(i,n);const r=Ca(i[1],n);return{...r,originalIndex:[i[0],r.originalIndex]}},[n])}}function yd(e,t,n){const[i,...r]=t;return r[0]===-1?e.map((o,a)=>a===i?{...o,...n}:o):e.map((o,a)=>a===i?{...o,subGroups:yd(o.subGroups??[],r,n)}:o)}function Cd(e,t){const[n,...i]=t;return i[0]===-1?e[n]:Cd(e[n].subGroups??[],i)}function Bv(e,t){const[n]=g.useState(()=>({value:e,callback:t,facade:{get current(){return n.value},set current(i){const r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}));return n.callback=t,n.facade}function Wv(e,t,n,i,r){const[o,a]=g.useMemo(()=>[t!==void 0&&typeof n=="number"?Math.floor(t/n):0,t!==void 0&&typeof n=="number"?-(t%n):0],[t,n]),s=g.useMemo(()=>({x:i.current.x,y:o,width:i.current.width??1,height:i.current.height??1,ty:a}),[i,a,o]),[l,u,c]=Om(s),d=g.useRef(r);d.current=r;const f=Bv(null,p=>{p!==null&&t!==void 0?p.scrollTop=t:p!==null&&e!==void 0&&(p.scrollLeft=e)}),h=(l.height??1)>1;g.useLayoutEffect(()=>{if(t!==void 0&&f.current!==null&&h){if(f.current.scrollTop===t)return;f.current.scrollTop=t,f.current.scrollTop!==t&&c(),d.current()}},[t,h,c,f]);const m=(l.width??1)>1;return g.useLayoutEffect(()=>{if(e!==void 0&&f.current!==null&&m){if(f.current.scrollLeft===e)return;f.current.scrollLeft=e,f.current.scrollLeft!==e&&c(),d.current()}},[e,m,c,f]),{visibleRegion:l,setVisibleRegion:u,scrollRef:f}}const Uv=g.lazy(async()=>await Ws(()=>import("./data-grid-overlay-editor.Bmwj5hpO.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]),import.meta.url));let Xv=0;function Yv(e){return Zp($l($l(e).filter(t=>t.span!==void 0).map(t=>{var n,i;return dr((((n=t.span)==null?void 0:n[0])??0)+1,(((i=t.span)==null?void 0:i[1])??0)+1)})))}function jo(e,t){return e===void 0||t===0||e.columns.length===0&&e.current===void 0?e:{current:e.current===void 0?void 0:{cell:[e.current.cell[0]+t,e.current.cell[1]],range:{...e.current.range,x:e.current.range.x+t},rangeStack:e.current.rangeStack.map(n=>({...n,x:n.x+t}))},rows:e.rows,columns:e.columns.offset(t)}}const qo={kind:Z.Loading,allowOverlay:!1},Ko={columns:wt.empty(),rows:wt.empty(),current:void 0},Gv=(e,t)=>{var Al,Hl,zl;const[n,i]=g.useState(Ko),[r,o]=g.useState(),a=g.useRef(null),s=g.useRef(null),[l,u]=g.useState(),c=g.useRef(),d=typeof window>"u"?null:window,{imageEditorOverride:f,getRowThemeOverride:h,markdownDivCreateNode:m,width:p,height:b,columns:y,rows:w,getCellContent:S,onCellClicked:M,onCellActivated:C,onFillPattern:x,onFinishedEditing:R,coercePasteValue:I,drawHeader:E,drawCell:L,editorBloom:z,onHeaderClicked:_,onColumnProposeMove:F,rangeSelectionColumnSpanning:P=!0,spanRangeBehavior:ne="default",onGroupHeaderClicked:J,onCellContextMenu:oe,className:ce,onHeaderContextMenu:ke,getCellsForSelection:ae,onGroupHeaderContextMenu:K,onGroupHeaderRenamed:ie,onCellEdited:re,onCellsEdited:ge,onSearchResultsChanged:ye,searchResults:G,onSearchValueChange:O,searchValue:k,onKeyDown:N,onKeyUp:ue,keybindings:fe,editOnType:$e=!0,onRowAppended:me,onColumnMoved:Ge,validateCell:Me,highlightRegions:_t,rangeSelect:Rt="rect",columnSelect:et="multi",rowSelect:te="multi",rangeSelectionBlending:je="exclusive",columnSelectionBlending:ve="exclusive",rowSelectionBlending:se="exclusive",onDelete:pe,onDragStart:Ve,onMouseMove:Oe,onPaste:rt,copyHeaders:he=!1,freezeColumns:Ee=0,cellActivationBehavior:lt="second-click",rowSelectionMode:Ae="auto",onHeaderMenuClick:it,onHeaderIndicatorClick:bt,getGroupDetails:gt,rowGrouping:He,onSearchClose:Dt,onItemHovered:Gt,onSelectionCleared:vt,showSearch:Et,onVisibleRegionChanged:Kt,gridSelection:At,onGridSelectionChange:Rn,minColumnWidth:Vt=50,maxColumnWidth:It=500,maxColumnAutoWidth:En,provideEditor:Cn,trailingRowOptions:Pe,freezeTrailingRows:Ht=0,allowedFillDirections:hn="orthogonal",scrollOffsetX:pn,scrollOffsetY:vn,verticalBorder:ot,onDragOverCell:Nt,onDrop:Lt,onColumnResize:on,onColumnResizeEnd:Ot,onColumnResizeStart:zt,customRenderers:qe,fillHandle:Bt,experimental:Wt,fixedShadowX:de,fixedShadowY:Ne,headerIcons:Zt,imageWindowLoader:In,initialSize:ln,isDraggable:A,onDragLeave:Ke,onRowMoved:ze,overscrollX:Pt,overscrollY:un,preventDiagonalScrolling:Sn,rightElement:qn,rightElementProps:_n,trapFocus:en=!1,smoothScrollX:$n,smoothScrollY:Kn,scaleToRem:$a=!1,rowHeight:wo=34,headerHeight:yo=36,groupHeaderHeight:Va=yo,theme:oi,isOutsideClick:Rr,renderers:Ii,resizeIndicator:Na,scrollToActiveCell:Ti=!0,drawFocusRing:Di=!0}=e,Nr=Di==="no-editor"?r===void 0:Di,tn=typeof e.rowMarkers=="string"?void 0:e.rowMarkers,Tn=(tn==null?void 0:tn.kind)??e.rowMarkers??"none",Oi=(tn==null?void 0:tn.width)??e.rowMarkerWidth,Pi=(tn==null?void 0:tn.startIndex)??e.rowMarkerStartIndex??1,ai=(tn==null?void 0:tn.theme)??e.rowMarkerTheme,vr=tn==null?void 0:tn.headerTheme,br=tn==null?void 0:tn.headerAlwaysVisible,si=te!=="multi",ar=(tn==null?void 0:tn.checkboxStyle)??"square",sr=Math.max(Vt,20),Br=Math.max(It,sr),Co=Math.max(En??Br,sr),_i=g.useMemo(()=>typeof window>"u"?{fontSize:"16px"}:window.getComputedStyle(document.documentElement),[]),{rows:Ze,rowNumberMapper:So,rowHeight:xo,getRowThemeOverride:Vn}=Vv(He,w,wo,h),ko=g.useMemo(()=>Number.parseFloat(_i.fontSize),[_i]),{rowHeight:Zn,headerHeight:Li,groupHeaderHeight:Mo,theme:Ro,overscrollX:Ba,overscrollY:Wa}=Hv({groupHeaderHeight:Va,headerHeight:yo,overscrollX:Pt,overscrollY:un,remSize:ko,rowHeight:xo,scaleToRem:$a,theme:oi}),Nn=zv(fe),Er=Oi??(w>1e4?48:w>1e3?44:w>100?36:32),Bn=Tn!=="none",B=Bn?1:0,qt=me!==void 0,Ir=(Pe==null?void 0:Pe.sticky)===!0,[li,ui]=g.useState(!1),Fi=Et??li,Ua=g.useCallback(()=>{Dt!==void 0?Dt():ui(!1)},[Dt]),U=g.useMemo(()=>At===void 0?void 0:jo(At,B),[At,B])??n,dn=g.useRef();dn.current===void 0&&(dn.current=new AbortController),g.useEffect(()=>()=>dn==null?void 0:dn.current.abort(),[]);const[fn,Xa]=Cv(ae,S,B,dn.current,Ze),H=g.useCallback((v,D,T)=>{if(Me===void 0)return!0;const V=[v[0]-B,v[1]];return Me==null?void 0:Me(V,D,T)},[B,Me]),Q=g.useRef(At),Ce=g.useCallback((v,D)=>{D&&(v=Iv(v,fn,B,ne,dn.current)),Rn!==void 0?(Q.current=jo(v,-B),Rn(Q.current)):i(v)},[Rn,fn,B,ne]),Se=Jr(on,g.useCallback((v,D,T,V)=>{on==null||on(y[T-B],D,T-B,V)},[on,B,y])),le=Jr(Ot,g.useCallback((v,D,T,V)=>{Ot==null||Ot(y[T-B],D,T-B,V)},[Ot,B,y])),Re=Jr(zt,g.useCallback((v,D,T,V)=>{zt==null||zt(y[T-B],D,T-B,V)},[zt,B,y])),at=Jr(E,g.useCallback((v,D)=>(E==null?void 0:E({...v,columnIndex:v.columnIndex-B},D))??!1,[E,B])),st=Jr(L,g.useCallback((v,D)=>(L==null?void 0:L({...v,col:v.col-B},D))??!1,[L,B])),Te=g.useCallback(v=>{if(pe!==void 0){const D=pe(jo(v,-B));return typeof D=="boolean"?D:jo(D,B)}return!0},[pe,B]),[xt,xe,Je]=yv(U,Ce,je,ve,se,Rt,P),We=g.useMemo(()=>xr(id(),Ro),[Ro]),[ft,cn]=g.useState([0,0,0]),Dn=g.useMemo(()=>{if(Ii===void 0)return{};const v={};for(const D of Ii)v[D.kind]=D;return v},[Ii]),yt=g.useCallback(v=>v.kind!==Z.Custom?Dn[v.kind]:qe==null?void 0:qe.find(D=>D.isMatch(v)),[qe,Dn]);let{sizedColumns:Jt,nonGrowWidth:Jn}=Rp(y,Ze,Xa,ft[0]-(B===0?0:Er)-ft[2],sr,Co,We,yt,dn.current);Tn!=="none"&&(Jn+=Er);const xn=g.useMemo(()=>Jt.some(v=>v.group!==void 0),[Jt]),Tt=xn?Li+Mo:Li,On=U.rows.length,Ln=Tn==="none"?void 0:On===0?!1:On===Ze?!0:void 0,Ct=g.useMemo(()=>Tn==="none"?Jt:[{title:"",width:Er,icon:void 0,hasMenu:!1,style:"normal",themeOverride:ai,rowMarker:ar,rowMarkerChecked:Ln,headerRowMarkerTheme:vr,headerRowMarkerAlwaysVisible:br,headerRowMarkerDisabled:si},...Jt],[Tn,Jt,Er,ai,ar,Ln,vr,br,si]),nn=g.useRef({height:1,width:1,x:0,y:0}),Tr=g.useRef(!1),{setVisibleRegion:Dr,visibleRegion:Wr,scrollRef:Xt}=Wv(pn,vn,Zn,nn,()=>Tr.current=!0);nn.current=Wr;const hf=Wr.x+B,Eo=Wr.y,Pn=g.useRef(null),kn=g.useCallback(v=>{var D;v===!0?(D=Pn.current)==null||D.focus():window.requestAnimationFrame(()=>{var T;(T=Pn.current)==null||T.focus()})},[]),bn=qt?Ze+1:Ze,Wn=g.useCallback(v=>{const D=B===0?v:v.map(V=>({...V,location:[V.location[0]-B,V.location[1]]})),T=ge==null?void 0:ge(D);if(T!==!0)for(const V of D)re==null||re(V.location,V.value);return T},[re,ge,B]),[Ur,Ya]=g.useState(),Io=U.current!==void 0&&U.current.range.width*U.current.range.height>1?U.current.range:void 0,ci=Nr?(Al=U.current)==null?void 0:Al.cell:void 0,To=ci==null?void 0:ci[0],Do=ci==null?void 0:ci[1],gf=g.useMemo(()=>{if((_t===void 0||_t.length===0)&&(Io??To??Do??Ur)===void 0)return;const v=[];if(_t!==void 0)for(const D of _t){const T=Ct.length-D.range.x-B;T>0&&v.push({color:D.color,range:{...D.range,x:D.range.x+B,width:Math.min(T,D.range.width)},style:D.style})}return Ur!==void 0&&v.push({color:ti(We.accentColor,0),range:Ur,style:"dashed"}),Io!==void 0&&v.push({color:ti(We.accentColor,.5),range:Io,style:"solid-outline"}),To!==void 0&&Do!==void 0&&v.push({color:We.accentColor,range:{x:To,y:Do,width:1,height:1},style:"solid-outline"}),v.length>0?v:void 0},[Ur,Io,To,Do,_t,Ct.length,We.accentColor,B]),Sl=g.useRef(Ct);Sl.current=Ct;const Fn=g.useCallback(([v,D],T=!1)=>{var Y,W,X,j,q,be,_e;const V=qt&&D===bn-1;if(v===0&&Bn){if(V)return qo;const we=So(D);return we===void 0?qo:{kind:jn.Marker,allowOverlay:!1,checkboxStyle:ar,checked:(U==null?void 0:U.rows.hasIndex(D))===!0,markerKind:Tn==="clickable-number"?"number":Tn,row:Pi+we,drawHandle:ze!==void 0,cursor:Tn==="clickable-number"?"pointer":void 0}}else if(V){const Fe=v===B?(Pe==null?void 0:Pe.hint)??"":"",De=Sl.current[v];if(((Y=De==null?void 0:De.trailingRowOptions)==null?void 0:Y.disabled)===!0)return qo;{const mt=((W=De==null?void 0:De.trailingRowOptions)==null?void 0:W.hint)??Fe,Ue=((X=De==null?void 0:De.trailingRowOptions)==null?void 0:X.addIcon)??(Pe==null?void 0:Pe.addIcon);return{kind:jn.NewRow,hint:mt,allowOverlay:!1,icon:Ue}}}else{const we=v-B;if(T||(Wt==null?void 0:Wt.strict)===!0){const De=nn.current,mt=De.x>we||we>De.x+De.width||De.y>D||D>De.y+De.height||D>=ja.current,Ue=we===((q=(j=De.extras)==null?void 0:j.selected)==null?void 0:q[0])&&D===((be=De.extras)==null?void 0:be.selected[1]);let Le=!1;if(((_e=De.extras)==null?void 0:_e.freezeRegions)!==void 0){for(const kt of De.extras.freezeRegions)if(ei(kt,we,D)){Le=!0;break}}if(mt&&!Ue&&!Le)return qo}let Fe=S([we,D]);return B!==0&&Fe.span!==void 0&&(Fe={...Fe,span:[Fe.span[0]+B,Fe.span[1]+B]}),Fe}},[qt,bn,Bn,So,ar,U==null?void 0:U.rows,Tn,Pi,ze,B,Pe==null?void 0:Pe.hint,Pe==null?void 0:Pe.addIcon,Wt==null?void 0:Wt.strict,S]),Ga=g.useCallback(v=>{let D=(gt==null?void 0:gt(v))??{name:v};return ie!==void 0&&v!==""&&(D={icon:D.icon,name:D.name,overrideTheme:D.overrideTheme,actions:[...D.actions??[],{title:"Rename",icon:"renameIcon",onClick:T=>Ka({group:D.name,bounds:T.bounds})}]}),D},[gt,ie]),Oo=g.useCallback(v=>{var X;const[D,T]=v.cell,V=Ct[D],$=(V==null?void 0:V.group)!==void 0?(X=Ga(V.group))==null?void 0:X.overrideTheme:void 0,Y=V==null?void 0:V.themeOverride,W=Vn==null?void 0:Vn(T);o({...v,theme:xr(We,$,Y,W,v.content.themeOverride)})},[Vn,Ct,Ga,We]),di=g.useCallback((v,D,T)=>{var W;if(U.current===void 0)return;const[V,$]=U.current.cell,Y=Fn([V,$]);if(Y.kind!==Z.Boolean&&Y.allowOverlay){let X=Y;if(T!==void 0)switch(X.kind){case Z.Number:{const j=sg(()=>T==="-"?-0:Number.parseFloat(T),0);X={...X,data:Number.isNaN(j)?0:j};break}case Z.Text:case Z.Markdown:case Z.Uri:X={...X,data:T};break}Oo({target:v,content:X,initialValue:T,cell:[V,$],highlight:T===void 0,forceEditMode:T!==void 0})}else Y.kind===Z.Boolean&&D&&Y.readonly!==!0&&(Wn([{location:U.current.cell,value:{...Y,data:wd(Y.data)}}]),(W=Pn.current)==null||W.damage([{cell:U.current.cell}]))},[Fn,U,Wn,Oo]),xl=g.useCallback((v,D)=>{var $;const T=($=Pn.current)==null?void 0:$.getBounds(v,D);if(T===void 0||Xt.current===null)return;const V=Fn([v,D]);V.allowOverlay&&Oo({target:T,content:V,initialValue:void 0,highlight:!0,cell:[v,D],forceEditMode:!0})},[Fn,Xt,Oo]),an=g.useCallback((v,D,T="both",V=0,$=0,Y=void 0)=>{if(Xt.current!==null){const W=Pn.current,X=s.current,j=typeof v!="number"?v.unit==="cell"?v.amount:void 0:v,q=typeof D!="number"?D.unit==="cell"?D.amount:void 0:D,be=typeof v!="number"&&v.unit==="px"?v.amount:void 0,_e=typeof D!="number"&&D.unit==="px"?D.amount:void 0;if(W!==null&&X!==null){let we={x:0,y:0,width:0,height:0},Fe=0,De=0;if((j!==void 0||q!==void 0)&&(we=W.getBounds((j??0)+B,q??0)??we,we.width===0||we.height===0))return;const mt=X.getBoundingClientRect(),Ue=mt.width/X.offsetWidth;if(be!==void 0&&(we={...we,x:be-mt.left-Xt.current.scrollLeft,width:1}),_e!==void 0&&(we={...we,y:_e+mt.top-Xt.current.scrollTop,height:1}),we!==void 0){const Le={x:we.x-V,y:we.y-$,width:we.width+2*V,height:we.height+2*$};let kt=0;for(let rs=0;rs<Ee;rs++)kt+=Jt[rs].width;let jt=0;const sn=Ht+(Ir?1:0);sn>0&&(jt=ri(bn,sn,Zn));let tr=kt*Ue+mt.left+B*Er*Ue,ur=mt.right,nr=mt.top+Tt*Ue,cr=mt.bottom-jt*Ue;const zo=we.width+V*2;switch(Y==null?void 0:Y.hAlign){case"start":ur=tr+zo;break;case"end":tr=ur-zo;break;case"center":tr=Math.floor((tr+ur)/2)-zo/2,ur=tr+zo;break}const $o=we.height+$*2;switch(Y==null?void 0:Y.vAlign){case"start":cr=nr+$o;break;case"end":nr=cr-$o;break;case"center":nr=Math.floor((nr+cr)/2)-$o/2,cr=nr+$o;break}tr>Le.x?Fe=Le.x-tr:ur<Le.x+Le.width&&(Fe=Le.x+Le.width-ur),nr>Le.y?De=Le.y-nr:cr<Le.y+Le.height&&(De=Le.y+Le.height-cr),T==="vertical"||typeof v=="number"&&v<Ee?Fe=0:(T==="horizontal"||typeof D=="number"&&D>=bn-sn)&&(De=0),(Fe!==0||De!==0)&&(Ue!==1&&(Fe/=Ue,De/=Ue),Xt.current.scrollTo(Fe+Xt.current.scrollLeft,De+Xt.current.scrollTop))}}}},[B,Ht,Er,Xt,Tt,Ee,Jt,bn,Ir,Zn]),kl=g.useRef(xl),Ml=g.useRef(S),ja=g.useRef(Ze);kl.current=xl,Ml.current=S,ja.current=Ze;const fi=g.useCallback(async(v,D=!0)=>{var j;const T=Ct[v];if(((j=T==null?void 0:T.trailingRowOptions)==null?void 0:j.disabled)===!0)return;const V=me==null?void 0:me();let $,Y=!0;V!==void 0&&($=await V,$==="top"&&(Y=!1),typeof $=="number"&&(Y=!1));let W=0;const X=()=>{if(ja.current<=Ze){W<500&&window.setTimeout(X,W),W=50+W*2;return}const q=typeof $=="number"?$:Y?Ze:0;Ho.current(v-B,q),xt({cell:[v,q],range:{x:v,y:q,width:1,height:1}},!1,!1,"edit");const be=Ml.current([v-B,q]);be.allowOverlay&&Ki(be)&&be.readonly!==!0&&D&&window.setTimeout(()=>{kl.current(v,q)},0)};X()},[Ct,me,B,Ze,xt]),Po=g.useCallback(v=>{var T,V;const D=((V=(T=Jt[v])==null?void 0:T.trailingRowOptions)==null?void 0:V.targetColumn)??(Pe==null?void 0:Pe.targetColumn);if(typeof D=="number")return D+(Bn?1:0);if(typeof D=="object"){const $=y.indexOf(D);if($>=0)return $+(Bn?1:0)}},[Jt,y,Bn,Pe==null?void 0:Pe.targetColumn]),Or=g.useRef(),hi=g.useRef(),Hi=g.useCallback((v,D)=>{var $;const[T,V]=D;return xr(We,($=Ct[T])==null?void 0:$.themeOverride,Vn==null?void 0:Vn(V),v.themeOverride)},[Vn,Ct,We]),{mapper:Xr}=Nv(He,w),Qn=He==null?void 0:He.navigationBehavior,zi=g.useCallback(v=>{var be,_e,we;const D=wa.value?v.metaKey:v.ctrlKey,T=D&&te==="multi",V=D&&et==="multi",[$,Y]=v.location,W=U.columns,X=U.rows,[j,q]=((be=U.current)==null?void 0:be.cell)??[];if(v.kind==="cell"){if(hi.current=void 0,Yr.current=[$,Y],$===0&&Bn){if(qt===!0&&Y===Ze||Tn==="number"||te==="none")return;const Fe=Fn(v.location);if(Fe.kind!==jn.Marker)return;if(ze!==void 0){const Ue=yt(Fe);An((Ue==null?void 0:Ue.kind)===jn.Marker);const Le=(_e=Ue==null?void 0:Ue.onClick)==null?void 0:_e.call(Ue,{...v,cell:Fe,posX:v.localEventX,posY:v.localEventY,bounds:v.bounds,theme:Hi(Fe,v.location),preventDefault:()=>{}});if(Le===void 0||Le.checked===Fe.checked)return}o(void 0),kn();const De=X.hasIndex(Y),mt=Or.current;if(te==="multi"&&(v.shiftKey||v.isLongTouch===!0)&&mt!==void 0&&X.hasIndex(mt)){const Ue=[Math.min(mt,Y),Math.max(mt,Y)+1];T||Ae==="multi"?xe(void 0,Ue,!0):xe(wt.fromSingleSelection(Ue),void 0,T)}else te==="multi"&&(T||v.isTouch||Ae==="multi")?De?xe(X.remove(Y),void 0,!0):(xe(void 0,Y,!0),Or.current=Y):De&&X.length===1?xe(wt.empty(),void 0,D):(xe(wt.fromSingleSelection(Y),void 0,D),Or.current=Y)}else if($>=B&&qt&&Y===Ze){const Fe=Po($);fi(Fe??$)}else if(j!==$||q!==Y){const Fe=Fn(v.location),De=yt(Fe);if((De==null?void 0:De.onSelect)!==void 0){let Le=!1;if(De.onSelect({...v,cell:Fe,posX:v.localEventX,posY:v.localEventY,bounds:v.bounds,preventDefault:()=>Le=!0,theme:Hi(Fe,v.location)}),Le)return}if(Qn==="block"&&Xr(Y).isGroupHeader)return;const mt=Ir&&Y===Ze,Ue=Ir&&U!==void 0&&((we=U.current)==null?void 0:we.cell[1])===Ze;if((v.shiftKey||v.isLongTouch===!0)&&j!==void 0&&q!==void 0&&U.current!==void 0&&!Ue){if(mt)return;const Le=Math.min($,j),kt=Math.max($,j),jt=Math.min(Y,q),sn=Math.max(Y,q);xt({...U.current,range:{x:Le,y:jt,width:kt-Le+1,height:sn-jt+1}},!0,D,"click"),Or.current=void 0,kn()}else xt({cell:[$,Y],range:{x:$,y:Y,width:1,height:1}},!0,D,"click"),Or.current=void 0,o(void 0),kn()}}else if(v.kind==="header")if(Yr.current=[$,Y],o(void 0),Bn&&$===0)Or.current=void 0,hi.current=void 0,te==="multi"&&(X.length!==Ze?xe(wt.fromSingleSelection([0,Ze]),void 0,D):xe(wt.empty(),void 0,D),kn());else{const Fe=hi.current;if(et==="multi"&&(v.shiftKey||v.isLongTouch===!0)&&Fe!==void 0&&W.hasIndex(Fe)){const De=[Math.min(Fe,$),Math.max(Fe,$)+1];V?Je(void 0,De,D):Je(wt.fromSingleSelection(De),void 0,D)}else V?(W.hasIndex($)?Je(W.remove($),void 0,D):Je(void 0,$,D),hi.current=$):et!=="none"&&(Je(wt.fromSingleSelection($),void 0,D),hi.current=$);Or.current=void 0,kn()}else v.kind===Gn?Yr.current=[$,Y]:v.kind===ya&&!v.isMaybeScrollbar&&(Ce(Ko,!1),o(void 0),kn(),vt==null||vt(),Or.current=void 0,hi.current=void 0)},[te,et,U,Bn,B,qt,Ze,Tn,Fn,ze,kn,Ae,yt,Hi,xe,Po,fi,Qn,Xr,Ir,xt,Je,Ce,vt]),$i=g.useRef(!1),Yr=g.useRef(),Rl=g.useRef(Wr),Un=g.useRef(),mf=g.useCallback(v=>{if(gi.current=!1,Rl.current=nn.current,v.button!==0&&v.button!==1){Un.current=void 0;return}const D=performance.now();Un.current={button:v.button,time:D,location:v.location},(v==null?void 0:v.kind)==="header"&&($i.current=!0);const T=v.kind==="cell"&&v.isFillHandle;!T&&v.kind!=="cell"&&v.isEdge||(u({previousSelection:U,fillHandle:T}),Yr.current=void 0,!v.isTouch&&v.button===0&&!T?zi(v):!v.isTouch&&v.button===1&&(Yr.current=v.location))},[U,zi]),[qa,Ka]=g.useState(),El=g.useCallback(v=>{if(v.kind!==Gn||et!=="multi")return;const D=wa.value?v.metaKey:v.ctrlKey,[T]=v.location,V=U.columns;if(T<B)return;const $=Ct[T];let Y=T,W=T;for(let X=T-1;X>=B&&so($.group,Ct[X].group);X--)Y--;for(let X=T+1;X<Ct.length&&so($.group,Ct[X].group);X++)W++;if(kn(),D)if(V.hasAll([Y,W+1])){let X=V;for(let j=Y;j<=W;j++)X=X.remove(j);Je(X,void 0,D)}else Je(void 0,[Y,W+1],D);else Je(wt.fromSingleSelection([Y,W+1]),void 0,D)},[et,kn,U.columns,Ct,B,Je]),gi=g.useRef(!1),_o=g.useCallback(async v=>{if(fn!==void 0&&Se!==void 0){const D=nn.current.y,T=nn.current.height;let V=fn({x:v,y:D,width:1,height:Math.min(T,Ze-D)},dn.current.signal);typeof V!="object"&&(V=await V());const $=Jt[v-B],W=document.createElement("canvas").getContext("2d",{alpha:!1});if(W!==null){W.font=We.baseFontFull;const X=ad(W,We,$,0,V,sr,Br,!1,yt);Se==null||Se($,X.width,v,X.width)}}},[Jt,fn,Br,We,sr,Se,B,Ze,yt]),[pf,Za]=g.useState(),mi=g.useCallback(async(v,D)=>{var X,j;const T=(X=v.current)==null?void 0:X.range;if(T===void 0||fn===void 0||D.current===void 0)return;const V=D.current.range;if(x!==void 0){let q=!1;if(x({fillDestination:{...V,x:V.x-B},patternSource:{...T,x:T.x-B},preventDefault:()=>q=!0}),q)return}let $=fn(T,dn.current.signal);typeof $!="object"&&($=await $());const Y=$,W=[];for(let q=0;q<V.width;q++)for(let be=0;be<V.height;be++){const _e=[V.x+q,V.y+be];if(Gc(_e,T))continue;const we=Y[be%T.height][q%T.width];wi(we)||!Ki(we)||W.push({location:_e,value:{...we}})}Wn(W),(j=Pn.current)==null||j.damage(W.map(q=>({cell:q.location})))},[fn,Wn,x,B]),Il=g.useCallback(()=>{if(U.current===void 0||U.current.range.width<=1)return;const v={...U,current:{...U.current,range:{...U.current.range,width:1}}};mi(v,U)},[mi,U]),Tl=g.useCallback(()=>{if(U.current===void 0||U.current.range.height<=1)return;const v={...U,current:{...U.current,range:{...U.current.range,height:1}}};mi(v,U)},[mi,U]),vf=g.useCallback((v,D)=>{var be,_e;const T=l;if(u(void 0),Ya(void 0),Za(void 0),$i.current=!1,D)return;if((T==null?void 0:T.fillHandle)===!0&&U.current!==void 0&&((be=T.previousSelection)==null?void 0:be.current)!==void 0){if(Ur===void 0)return;const we={...U,current:{...U.current,range:dd(T.previousSelection.current.range,Ur)}};mi(T.previousSelection,we),Ce(we,!0);return}const[V,$]=v.location,[Y,W]=Yr.current??[],X=()=>{gi.current=!0},j=we=>{var De,mt,Ue;const Fe=we.isTouch||Y===V&&W===$;if(Fe&&(M==null||M([V-B,$],{...we,preventDefault:X})),we.button===1)return!gi.current;if(!gi.current){const Le=Fn(v.location),kt=yt(Le);if(kt!==void 0&&kt.onClick!==void 0&&Fe){const sn=kt.onClick({...we,cell:Le,posX:we.localEventX,posY:we.localEventY,bounds:we.bounds,theme:Hi(Le,v.location),preventDefault:X});sn!==void 0&&!wi(sn)&&vi(sn)&&(Wn([{location:we.location,value:sn}]),(De=Pn.current)==null||De.damage([{cell:we.location}]))}if(gi.current||U.current===void 0)return!1;let jt=!1;switch(Le.activationBehaviorOverride??lt){case"double-click":case"second-click":{if(((Ue=(mt=T==null?void 0:T.previousSelection)==null?void 0:mt.current)==null?void 0:Ue.cell)===void 0)break;const[sn,tr]=U.current.cell,[ur,nr]=T.previousSelection.current.cell;jt=V===sn&&V===ur&&$===tr&&$===nr&&(we.isDoubleClick===!0||lt==="second-click");break}case"single-click":{jt=!0;break}}if(jt)return C==null||C([V-B,$]),di(we.bounds,!1),!0}return!1},q=v.location[0]-B;if(v.isTouch){const we=nn.current,Fe=Rl.current;if(we.x!==Fe.x||we.y!==Fe.y)return;if(v.isLongTouch===!0){if(v.kind==="cell"&&no((_e=U.current)==null?void 0:_e.cell,v.location)){oe==null||oe([q,v.location[1]],{...v,preventDefault:X});return}else if(v.kind==="header"&&U.columns.hasIndex(V)){ke==null||ke(q,{...v,preventDefault:X});return}else if(v.kind===Gn){if(q<0)return;K==null||K(q,{...v,preventDefault:X});return}}v.kind==="cell"?j(v)||zi(v):v.kind===Gn?J==null||J(q,{...v,preventDefault:X}):(v.kind===Ar&&(_==null||_(q,{...v,preventDefault:X})),zi(v));return}if(v.kind==="header"){if(q<0)return;v.isEdge?v.isDoubleClick===!0&&_o(V):v.button===0&&V===Y&&$===W&&(_==null||_(q,{...v,preventDefault:X}))}if(v.kind===Gn){if(q<0)return;v.button===0&&V===Y&&$===W&&(J==null||J(q,{...v,preventDefault:X}),gi.current||El(v))}v.kind==="cell"&&(v.button===0||v.button===1)&&j(v),Yr.current=void 0},[l,U,B,Ur,mi,Ce,M,Fn,yt,lt,Hi,Wn,C,di,oe,ke,K,zi,J,_,_o,El]),bf=g.useCallback(v=>{const D={...v,location:[v.location[0]-B,v.location[1]]};Oe==null||Oe(D),l!==void 0&&v.buttons===0&&(u(void 0),Ya(void 0),Za(void 0),$i.current=!1),Za(T=>{var V;return $i.current?[v.scrollEdge[0],0]:v.scrollEdge[0]===(T==null?void 0:T[0])&&v.scrollEdge[1]===T[1]?T:l===void 0||(((V=Un.current)==null?void 0:V.location[0])??0)<B?void 0:v.scrollEdge})},[l,Oe,B]),wf=g.useCallback((v,D)=>{it==null||it(v-B,D)},[it,B]),yf=g.useCallback((v,D)=>{bt==null||bt(v-B,D)},[bt,B]),lr=(Hl=U==null?void 0:U.current)==null?void 0:Hl.cell,Cf=g.useCallback((v,D,T,V,$,Y)=>{Tr.current=!1;let W=lr;W!==void 0&&(W=[W[0]-B,W[1]]);const X=Ee===0?void 0:{x:0,y:v.y,width:Ee,height:v.height},j=[];X!==void 0&&j.push(X),Ht>0&&(j.push({x:v.x-B,y:Ze-Ht,width:v.width,height:Ht}),Ee>0&&j.push({x:0,y:Ze-Ht,width:Ee,height:Ht}));const q={x:v.x-B,y:v.y,width:v.width,height:qt&&v.y+v.height>=Ze?v.height-1:v.height,tx:$,ty:Y,extras:{selected:W,freezeRegion:X,freezeRegions:j}};nn.current=q,Dr(q),cn([D,T,V]),Kt==null||Kt(q,q.tx,q.ty,q.extras)},[lr,B,qt,Ze,Ee,Ht,Dr,Kt]),Sf=Jr(Ge,g.useCallback((v,D)=>{Ge==null||Ge(v-B,D-B),et!=="none"&&Je(wt.fromSingleSelection(D),void 0,!0)},[et,Ge,B,Je])),Ja=g.useRef(!1),xf=g.useCallback(v=>{if(v.location[0]===0&&B>0){v.preventDefault();return}Ve==null||Ve({...v,location:[v.location[0]-B,v.location[1]]}),v.defaultPrevented()||(Ja.current=!0),u(void 0)},[Ve,B]),kf=g.useCallback(()=>{Ja.current=!1},[]),Dl=He==null?void 0:He.selectionBehavior,Lo=g.useCallback(v=>{if(Dl!=="block-spanning")return;const{isGroupHeader:D,path:T,groupRows:V}=Xr(v);if(D)return[v,v];const $=T[T.length-1],Y=v-$,W=v+V-$-1;return[Y,W]},[Xr,Dl]),Qa=g.useRef(),es=g.useCallback(v=>{var D,T,V;if(!vd(v,Qa.current)&&(Qa.current=v,!(((D=Un==null?void 0:Un.current)==null?void 0:D.button)!==void 0&&Un.current.button>=1))){if(v.buttons!==0&&l!==void 0&&((T=Un.current)==null?void 0:T.location[0])===0&&v.location[0]===0&&B===1&&te==="multi"&&l.previousSelection&&!l.previousSelection.rows.hasIndex(Un.current.location[1])&&U.rows.hasIndex(Un.current.location[1])){const $=Math.min(Un.current.location[1],v.location[1]),Y=Math.max(Un.current.location[1],v.location[1])+1;xe(wt.fromSingleSelection([$,Y]),void 0,!1)}if(v.buttons!==0&&l!==void 0&&U.current!==void 0&&!Ja.current&&!$i.current&&(Rt==="rect"||Rt==="multi-rect")){const[$,Y]=U.current.cell;let[W,X]=v.location;if(X<0&&(X=nn.current.y),l.fillHandle===!0&&((V=l.previousSelection)==null?void 0:V.current)!==void 0){const j=l.previousSelection.current.range;X=Math.min(X,qt?Ze-1:Ze);const q=T0(j,W,X,hn);Ya(q)}else{if(qt&&Y===Ze)return;if(qt&&X===Ze)if(v.kind===ya)X--;else return;W=Math.max(W,B);const be=Lo(Y);X=be===void 0?X:Xn(X,be[0],be[1]);const _e=W-$,we=X-Y,Fe={x:_e>=0?$:W,y:we>=0?Y:X,width:Math.abs(_e)+1,height:Math.abs(we)+1};xt({...U.current,range:Fe},!0,!1,"drag")}}Gt==null||Gt({...v,location:[v.location[0]-B,v.location[1]]})}},[l,B,te,U,Rt,Gt,xe,qt,Ze,hn,Lo,xt]),Mf=g.useCallback(()=>{var W,X;const v=Qa.current;if(v===void 0)return;const[D,T]=v.scrollEdge;let[V,$]=v.location;const Y=nn.current;D===-1?V=((X=(W=Y.extras)==null?void 0:W.freezeRegion)==null?void 0:X.x)??Y.x:D===1&&(V=Y.x+Y.width),T===-1?$=Math.max(0,Y.y):T===1&&($=Math.min(Ze-1,Y.y+Y.height)),V=Xn(V,0,Ct.length-1),$=Xn($,0,Ze-1),es({...v,location:[V,$]})},[Ct.length,es,Ze]);Av(pf,Xt,Mf);const er=g.useCallback(v=>{if(U.current===void 0)return;const[D,T]=v,[V,$]=U.current.cell,Y=U.current.range;let W=Y.x,X=Y.x+Y.width,j=Y.y,q=Y.y+Y.height;const[be,_e]=Lo($)??[0,Ze-1],we=_e+1;if(T!==0)switch(T){case 2:{q=we,j=$,an(0,q,"vertical");break}case-2:{j=be,q=$+1,an(0,j,"vertical");break}case 1:{j<$?(j++,an(0,j,"vertical")):(q=Math.min(we,q+1),an(0,q,"vertical"));break}case-1:{q>$+1?(q--,an(0,q,"vertical")):(j=Math.max(be,j-1),an(0,j,"vertical"));break}default:ao()}if(D!==0)if(D===2)X=Ct.length,W=V,an(X-1-B,0,"horizontal");else if(D===-2)W=B,X=V+1,an(W-B,0,"horizontal");else{let Fe=[];if(fn!==void 0){const De=fn({x:W,y:j,width:X-W-B,height:q-j},dn.current.signal);typeof De=="object"&&(Fe=Yv(De))}if(D===1){let De=!1;if(W<V){if(Fe.length>0){const mt=dr(W+1,V+1).find(Ue=>!Fe.includes(Ue-B));mt!==void 0&&(W=mt,De=!0)}else W++,De=!0;De&&an(W,0,"horizontal")}De||(X=Math.min(Ct.length,X+1),an(X-1-B,0,"horizontal"))}else if(D===-1){let De=!1;if(X>V+1){if(Fe.length>0){const mt=dr(X-1,V,-1).find(Ue=>!Fe.includes(Ue-B));mt!==void 0&&(X=mt,De=!0)}else X--,De=!0;De&&an(X-B,0,"horizontal")}De||(W=Math.max(B,W-1),an(W-B,0,"horizontal"))}else ao()}xt({cell:U.current.cell,range:{x:W,y:j,width:X-W,height:q-j}},!0,!1,"keyboard-select")},[fn,Lo,U,Ct.length,B,Ze,an,xt]),ts=g.useRef(Ti);ts.current=Ti;const Pr=g.useCallback((v,D,T,V)=>{const $=bn-(T?0:1);v=Xn(v,B,Jt.length-1+B),D=Xn(D,0,$);const Y=lr==null?void 0:lr[0],W=lr==null?void 0:lr[1];if(v===Y&&D===W)return!1;if(V&&U.current!==void 0){const X=[...U.current.rangeStack];(U.current.range.width>1||U.current.range.height>1)&&X.push(U.current.range),Ce({...U,current:{cell:[v,D],range:{x:v,y:D,width:1,height:1},rangeStack:X}},!0)}else xt({cell:[v,D],range:{x:v,y:D,width:1,height:1}},!0,!1,"keyboard-nav");return c.current!==void 0&&c.current[0]===v&&c.current[1]===D&&(c.current=void 0),ts.current&&an(v-B,D),!0},[bn,B,Jt.length,lr,U,an,Ce,xt]),Rf=g.useCallback((v,D)=>{(r==null?void 0:r.cell)!==void 0&&v!==void 0&&vi(v)&&(Wn([{location:r.cell,value:v}]),window.requestAnimationFrame(()=>{var $;($=Pn.current)==null||$.damage([{cell:r.cell}])})),kn(!0),o(void 0);const[T,V]=D;if(U.current!==void 0&&(T!==0||V!==0)){const $=U.current.cell[1]===bn-1&&v!==void 0;Pr(Xn(U.current.cell[0]+T,0,Ct.length-1),Xn(U.current.cell[1]+V,0,bn-1),$,!1)}R==null||R(v,D)},[r==null?void 0:r.cell,kn,U,R,Wn,bn,Pr,Ct.length]),Ef=g.useMemo(()=>`gdg-overlay-${Xv++}`,[]),Gr=g.useCallback(v=>{var T,V,$,Y;kn();const D=[];for(let W=v.x;W<v.x+v.width;W++)for(let X=v.y;X<v.y+v.height;X++){const j=S([W-B,X]);if(!j.allowOverlay&&j.kind!==Z.Boolean)continue;let q;if(j.kind===Z.Custom){const be=yt(j),_e=(T=be==null?void 0:be.provideEditor)==null?void 0:T.call(be,j);(be==null?void 0:be.onDelete)!==void 0?q=be.onDelete(j):vg(_e)&&(q=(V=_e==null?void 0:_e.deletedValue)==null?void 0:V.call(_e,j))}else if(vi(j)&&j.allowOverlay||j.kind===Z.Boolean){const be=yt(j);q=($=be==null?void 0:be.onDelete)==null?void 0:$.call(be,j)}q!==void 0&&!wi(q)&&vi(q)&&D.push({location:[W,X],value:q})}Wn(D),(Y=Pn.current)==null||Y.damage(D.map(W=>({cell:W.location})))},[kn,S,yt,Wn,B]),Vi=r!==void 0,Ol=g.useCallback(v=>{var mt,Ue;const D=()=>{v.stopPropagation(),v.preventDefault()},T={didMatch:!1},{bounds:V}=v,$=U.columns,Y=U.rows,W=Nn;if(!Vi&&ut(W.clear,v,T))Ce(Ko,!1),vt==null||vt();else if(!Vi&&ut(W.selectAll,v,T))Ce({columns:wt.empty(),rows:wt.empty(),current:{cell:((mt=U.current)==null?void 0:mt.cell)??[B,0],range:{x:B,y:0,width:y.length,height:Ze},rangeStack:[]}},!1);else if(ut(W.search,v,T))(Ue=a==null?void 0:a.current)==null||Ue.focus({preventScroll:!0}),ui(!0);else if(ut(W.delete,v,T)){const Le=(Te==null?void 0:Te(U))??!0;if(Le!==!1){const kt=Le===!0?U:Le;if(kt.current!==void 0){Gr(kt.current.range);for(const jt of kt.current.rangeStack)Gr(jt)}for(const jt of kt.rows)Gr({x:B,y:jt,width:y.length,height:1});for(const jt of kt.columns)Gr({x:jt,y:0,width:1,height:Ze})}}if(T.didMatch)return D(),!0;if(U.current===void 0)return!1;let[X,j]=U.current.cell;const[,q]=U.current.cell;let be=!1,_e=!1;if(ut(W.scrollToSelectedCell,v,T)?Ho.current(X-B,j):et!=="none"&&ut(W.selectColumn,v,T)?$.hasIndex(X)?Je($.remove(X),void 0,!0):et==="single"?Je(wt.fromSingleSelection(X),void 0,!0):Je(void 0,X,!0):te!=="none"&&ut(W.selectRow,v,T)?Y.hasIndex(j)?xe(Y.remove(j),void 0,!0):te==="single"?xe(wt.fromSingleSelection(j),void 0,!0):xe(void 0,j,!0):!Vi&&V!==void 0&&ut(W.activateCell,v,T)?j===Ze&&qt?window.setTimeout(()=>{const Le=Po(X);fi(Le??X)},0):(C==null||C([X-B,j]),di(V,!0)):U.current.range.height>1&&ut(W.downFill,v,T)?Tl():U.current.range.width>1&&ut(W.rightFill,v,T)?Il():ut(W.goToNextPage,v,T)?j+=Math.max(1,nn.current.height-4):ut(W.goToPreviousPage,v,T)?j-=Math.max(1,nn.current.height-4):ut(W.goToFirstCell,v,T)?(o(void 0),j=0,X=0):ut(W.goToLastCell,v,T)?(o(void 0),j=Number.MAX_SAFE_INTEGER,X=Number.MAX_SAFE_INTEGER):ut(W.selectToFirstCell,v,T)?(o(void 0),er([-2,-2])):ut(W.selectToLastCell,v,T)?(o(void 0),er([2,2])):Vi?(ut(W.closeOverlay,v,T)&&o(void 0),ut(W.acceptOverlayDown,v,T)&&(o(void 0),j++),ut(W.acceptOverlayUp,v,T)&&(o(void 0),j--),ut(W.acceptOverlayLeft,v,T)&&(o(void 0),X--),ut(W.acceptOverlayRight,v,T)&&(o(void 0),X++)):(ut(W.goDownCell,v,T)?j+=1:ut(W.goUpCell,v,T)?j-=1:ut(W.goRightCell,v,T)?X+=1:ut(W.goLeftCell,v,T)?X-=1:ut(W.goDownCellRetainSelection,v,T)?(j+=1,be=!0):ut(W.goUpCellRetainSelection,v,T)?(j-=1,be=!0):ut(W.goRightCellRetainSelection,v,T)?(X+=1,be=!0):ut(W.goLeftCellRetainSelection,v,T)?(X-=1,be=!0):ut(W.goToLastRow,v,T)?j=Ze-1:ut(W.goToFirstRow,v,T)?j=Number.MIN_SAFE_INTEGER:ut(W.goToLastColumn,v,T)?X=Number.MAX_SAFE_INTEGER:ut(W.goToFirstColumn,v,T)?X=Number.MIN_SAFE_INTEGER:(Rt==="rect"||Rt==="multi-rect")&&(ut(W.selectGrowDown,v,T)?er([0,1]):ut(W.selectGrowUp,v,T)?er([0,-1]):ut(W.selectGrowRight,v,T)?er([1,0]):ut(W.selectGrowLeft,v,T)?er([-1,0]):ut(W.selectToLastRow,v,T)?er([0,2]):ut(W.selectToFirstRow,v,T)?er([0,-2]):ut(W.selectToLastColumn,v,T)?er([2,0]):ut(W.selectToFirstColumn,v,T)&&er([-2,0])),_e=T.didMatch),Qn!==void 0&&Qn!=="normal"&&j!==q){const Le=Qn==="skip-up"||Qn==="skip"||Qn==="block",kt=Qn==="skip-down"||Qn==="skip"||Qn==="block",jt=j<q;if(jt&&Le){for(;j>=0&&Xr(j).isGroupHeader;)j--;j<0&&(j=q)}else if(!jt&&kt){for(;j<Ze&&Xr(j).isGroupHeader;)j++;j>=Ze&&(j=q)}}const Fe=Pr(X,j,!1,be),De=T.didMatch;return De&&(Fe||!_e||en)&&D(),De},[Qn,Vi,U,Nn,et,te,Rt,B,Xr,Ze,Pr,Ce,vt,y.length,Te,en,Gr,Je,xe,qt,Po,fi,C,di,Tl,Il,er]),Ni=g.useCallback(v=>{let D=!1;if(N!==void 0&&N({...v,cancel:()=>{D=!0}}),D||Ol(v)||U.current===void 0)return;const[T,V]=U.current.cell,$=nn.current;if($e&&!v.metaKey&&!v.ctrlKey&&U.current!==void 0&&v.key.length===1&&/[ -~]/g.test(v.key)&&v.bounds!==void 0&&Ki(S([T-B,Math.max(0,Math.min(V,Ze-1))]))){if((!qt||V!==Ze)&&($.y>V||V>$.y+$.height||$.x>T||T>$.x+$.width))return;di(v.bounds,!0,v.key),v.stopPropagation(),v.preventDefault()}},[$e,N,Ol,U,S,B,Ze,qt,di]),If=g.useCallback((v,D)=>{const T=v.location[0]-B;if(v.kind==="header"&&(ke==null||ke(T,{...v,preventDefault:D})),v.kind===Gn){if(T<0)return;K==null||K(T,{...v,preventDefault:D})}if(v.kind==="cell"){const[V,$]=v.location;oe==null||oe([T,$],{...v,preventDefault:D}),up(U,v.location)||Pr(V,$,!1,!1)}},[U,oe,K,ke,B,Pr]),ns=g.useCallback(async v=>{var W,X,j;if(!Nn.paste)return;function D(q,be,_e,we){var De,mt;const Fe=typeof _e=="object"?(_e==null?void 0:_e.join(`
`))??"":(_e==null?void 0:_e.toString())??"";if(!wi(q)&&Ki(q)&&q.readonly!==!0){const Ue=I==null?void 0:I(Fe,q);if(Ue!==void 0&&vi(Ue))return{location:be,value:Ue};const Le=yt(q);if(Le===void 0)return;if(Le.kind===Z.Custom){An(q.kind===Z.Custom);const kt=(De=Le.onPaste)==null?void 0:De.call(Le,Fe,q.data);return kt===void 0?void 0:{location:be,value:{...q,data:kt}}}else{const kt=(mt=Le.onPaste)==null?void 0:mt.call(Le,Fe,q,{formatted:we,formattedString:typeof we=="string"?we:we==null?void 0:we.join(`
`),rawValue:_e});return kt===void 0?void 0:(An(kt.kind===q.kind),{location:be,value:kt})}}}const T=U.columns,V=U.rows,$=((W=Xt.current)==null?void 0:W.contains(document.activeElement))===!0||((X=s.current)==null?void 0:X.contains(document.activeElement))===!0;let Y;if(U.current!==void 0?Y=[U.current.range.x,U.current.range.y]:T.length===1?Y=[T.first()??0,0]:V.length===1&&(Y=[B,V.first()??0]),$&&Y!==void 0){let q,be;const _e="text/plain",we="text/html";if(navigator.clipboard.read!==void 0){const Ue=await navigator.clipboard.read();for(const Le of Ue){if(Le.types.includes(we)){const jt=await(await Le.getType(we)).text(),sn=wu(jt);if(sn!==void 0){q=sn;break}}Le.types.includes(_e)&&(be=await(await Le.getType(_e)).text())}}else if(navigator.clipboard.readText!==void 0)be=await navigator.clipboard.readText();else if(v!==void 0&&(v==null?void 0:v.clipboardData)!==null){if(v.clipboardData.types.includes(we)){const Ue=v.clipboardData.getData(we);q=wu(Ue)}q===void 0&&v.clipboardData.types.includes(_e)&&(be=v.clipboardData.getData(_e))}else return;const[Fe,De]=Y,mt=[];do{if(rt===void 0){const Ue=Fn(Y),Le=be??(q==null?void 0:q.map(jt=>jt.map(sn=>sn.rawValue).join("	")).join("	"))??"",kt=D(Ue,Y,Le,void 0);kt!==void 0&&mt.push(kt);break}if(q===void 0){if(be===void 0)return;q=Tv(be)}if(rt===!1||typeof rt=="function"&&(rt==null?void 0:rt([Y[0]-B,Y[1]],q.map(Ue=>Ue.map(Le=>{var kt;return((kt=Le.rawValue)==null?void 0:kt.toString())??""}))))!==!0)return;for(const[Ue,Le]of q.entries()){if(Ue+De>=Ze)break;for(const[kt,jt]of Le.entries()){const sn=[kt+Fe,Ue+De],[tr,ur]=sn;if(tr>=Ct.length||ur>=bn)continue;const nr=Fn(sn),cr=D(nr,sn,jt.rawValue,jt.formatted);cr!==void 0&&mt.push(cr)}}}while(!1);Wn(mt),(j=Pn.current)==null||j.damage(mt.map(Ue=>({cell:Ue.location})))}},[I,yt,Fn,U,Nn.paste,Xt,Ct.length,Wn,bn,rt,B,Ze]);gn("paste",ns,d,!1,!0);const Bi=g.useCallback(async(v,D)=>{var W,X;if(!Nn.copy)return;const T=D===!0||((W=Xt.current)==null?void 0:W.contains(document.activeElement))===!0||((X=s.current)==null?void 0:X.contains(document.activeElement))===!0,V=U.columns,$=U.rows,Y=(j,q)=>{if(!he)Cu(j,q,v);else{const be=q.map(_e=>({kind:Z.Text,data:y[_e].title,displayData:y[_e].title,allowOverlay:!1}));Cu([be,...j],q,v)}};if(T&&fn!==void 0){if(U.current!==void 0){let j=fn(U.current.range,dn.current.signal);typeof j!="object"&&(j=await j()),Y(j,dr(U.current.range.x-B,U.current.range.x+U.current.range.width-B))}else if($!==void 0&&$.length>0){const q=[...$].map(be=>{const _e=fn({x:B,y:be,width:y.length,height:1},dn.current.signal);return typeof _e=="object"?_e[0]:_e().then(we=>we[0])});if(q.some(be=>be instanceof Promise)){const be=await Promise.all(q);Y(be,dr(y.length))}else Y(q,dr(y.length))}else if(V.length>0){const j=[],q=[];for(const be of V){let _e=fn({x:be,y:0,width:1,height:Ze},dn.current.signal);typeof _e!="object"&&(_e=await _e()),j.push(_e),q.push(be-B)}if(j.length===1)Y(j[0],q);else{const be=j.reduce((_e,we)=>_e.map((Fe,De)=>[...Fe,...we[De]]));Y(be,q)}}}},[y,fn,U,Nn.copy,B,Xt,Ze,he]);gn("copy",Bi,d,!1,!1);const Tf=g.useCallback(async v=>{var T,V;if(!(!Nn.cut||!(((T=Xt.current)==null?void 0:T.contains(document.activeElement))===!0||((V=s.current)==null?void 0:V.contains(document.activeElement))===!0))&&(await Bi(v),U.current!==void 0)){let $={current:{cell:U.current.cell,range:U.current.range,rangeStack:[]},rows:wt.empty(),columns:wt.empty()};const Y=Te==null?void 0:Te($);if(Y===!1||($=Y===!0?$:Y,$.current===void 0))return;Gr($.current.range)}},[Gr,U,Nn.cut,Bi,Xt,Te]);gn("cut",Tf,d,!1,!1);const Df=g.useCallback((v,D)=>{if(ye!==void 0){B!==0&&(v=v.map($=>[$[0]-B,$[1]])),ye(v,D);return}if(v.length===0||D===-1)return;const[T,V]=v[D];c.current!==void 0&&c.current[0]===T&&c.current[1]===V||(c.current=[T,V],Pr(T,V,!1,!1))},[ye,B,Pr]),[Fo,Ao]=((zl=At==null?void 0:At.current)==null?void 0:zl.cell)??[],Ho=g.useRef(an);Ho.current=an,g.useLayoutEffect(()=>{var v,D,T,V;ts.current&&!Tr.current&&Fo!==void 0&&Ao!==void 0&&(Fo!==((D=(v=Q.current)==null?void 0:v.current)==null?void 0:D.cell[0])||Ao!==((V=(T=Q.current)==null?void 0:T.current)==null?void 0:V.cell[1]))&&Ho.current(Fo,Ao),Tr.current=!1},[Fo,Ao]);const Pl=U.current!==void 0&&(U.current.cell[0]>=Ct.length||U.current.cell[1]>=bn);g.useLayoutEffect(()=>{Pl&&Ce(Ko,!1)},[Pl,Ce]);const Of=g.useMemo(()=>qt===!0&&(Pe==null?void 0:Pe.tint)===!0?wt.fromSingleSelection(bn-1):wt.empty(),[bn,qt,Pe==null?void 0:Pe.tint]),Pf=g.useCallback(v=>typeof ot=="boolean"?ot:(ot==null?void 0:ot(v-B))??!0,[B,ot]),_f=g.useMemo(()=>{if(qa===void 0||s.current===null)return null;const{bounds:v,group:D}=qa,T=s.current.getBoundingClientRect();return g.createElement(bv,{bounds:v,group:D,canvasBounds:T,onClose:()=>Ka(void 0),onFinish:V=>{Ka(void 0),ie==null||ie(D,V)}})},[ie,qa]),Lf=Math.min(Ct.length,Ee+(Bn?1:0));g.useImperativeHandle(t,()=>({appendRow:(v,D)=>fi(v+B,D),updateCells:v=>{var D;return B!==0&&(v=v.map(T=>({cell:[T.cell[0]+B,T.cell[1]]}))),(D=Pn.current)==null?void 0:D.damage(v)},getBounds:(v,D)=>{var T;if(!((s==null?void 0:s.current)===null||(Xt==null?void 0:Xt.current)===null)){if(v===void 0&&D===void 0){const V=s.current.getBoundingClientRect(),$=V.width/Xt.current.clientWidth;return{x:V.x-Xt.current.scrollLeft*$,y:V.y-Xt.current.scrollTop*$,width:Xt.current.scrollWidth*$,height:Xt.current.scrollHeight*$}}return(T=Pn.current)==null?void 0:T.getBounds((v??0)+B,D)}},focus:()=>{var v;return(v=Pn.current)==null?void 0:v.focus()},emit:async v=>{switch(v){case"delete":Ni({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!1,key:"Delete",keyCode:46,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-right":Ni({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"r",keyCode:82,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-down":Ni({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"d",keyCode:68,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"copy":await Bi(void 0,!0);break;case"paste":await ns();break}},scrollTo:an,remeasureColumns:v=>{for(const D of v)_o(D+B)}}),[fi,_o,Xt,Bi,Ni,ns,B,an]);const[_l,Ll]=lr??[],Ff=g.useCallback(v=>{const[D,T]=v;if(T===-1){et!=="none"&&(Je(wt.fromSingleSelection(D),void 0,!1),kn());return}_l===D&&Ll===T||(xt({cell:v,range:{x:D,y:T,width:1,height:1}},!0,!1,"keyboard-nav"),an(D,T))},[et,kn,an,_l,Ll,xt,Je]),[Af,Hf]=g.useState(!1),Fl=g.useRef(Lc(v=>{Hf(v)},5)),zf=g.useCallback(()=>{Fl.current(!0),U.current===void 0&&U.columns.length===0&&U.rows.length===0&&l===void 0&&xt({cell:[B,Eo],range:{x:B,y:Eo,width:1,height:1}},!0,!1,"keyboard-select")},[Eo,U,l,B,xt]),$f=g.useCallback(()=>{Fl.current(!1)},[]),[Vf,Nf]=g.useMemo(()=>{let v;const D=(Wt==null?void 0:Wt.scrollbarWidthOverride)??Os(),T=Ze+(qt?1:0);if(typeof Zn=="number")v=Tt+T*Zn;else{let $=0;const Y=Math.min(T,10);for(let W=0;W<Y;W++)$+=Zn(W);$=Math.floor($/Y),v=Tt+T*$}v+=D;const V=Ct.reduce(($,Y)=>Y.width+$,0)+D;return[`${Math.min(1e5,V)}px`,`${Math.min(1e5,v)}px`]},[Ct,Wt==null?void 0:Wt.scrollbarWidthOverride,Zn,Ze,qt,Tt]),Bf=g.useMemo(()=>xp(We),[We]);return g.createElement(od.Provider,{value:We},g.createElement(_v,{style:Bf,className:ce,inWidth:p??Vf,inHeight:b??Nf},g.createElement(gv,{fillHandle:Bt,drawFocusRing:Nr,experimental:Wt,fixedShadowX:de,fixedShadowY:Ne,getRowThemeOverride:Vn,headerIcons:Zt,imageWindowLoader:In,initialSize:ln,isDraggable:A,onDragLeave:Ke,onRowMoved:ze,overscrollX:Ba,overscrollY:Wa,preventDiagonalScrolling:Sn,rightElement:qn,rightElementProps:_n,smoothScrollX:$n,smoothScrollY:Kn,className:ce,enableGroups:xn,onCanvasFocused:zf,onCanvasBlur:$f,canvasRef:s,onContextMenu:If,theme:We,cellXOffset:hf,cellYOffset:Eo,accessibilityHeight:Wr.height,onDragEnd:kf,columns:Ct,nonGrowWidth:Jn,drawHeader:at,onColumnProposeMove:F,drawCell:st,disabledRows:Of,freezeColumns:Lf,lockColumns:B,firstColAccessible:B===0,getCellContent:Fn,minColumnWidth:sr,maxColumnWidth:Br,searchInputRef:a,showSearch:Fi,onSearchClose:Ua,highlightRegions:gf,getCellsForSelection:fn,getGroupDetails:Ga,headerHeight:Li,isFocused:Af,groupHeaderHeight:xn?Mo:0,freezeTrailingRows:Ht+(qt&&(Pe==null?void 0:Pe.sticky)===!0?1:0),hasAppendRow:qt,onColumnResize:Se,onColumnResizeEnd:le,onColumnResizeStart:Re,onCellFocused:Ff,onColumnMoved:Sf,onDragStart:xf,onHeaderMenuClick:wf,onHeaderIndicatorClick:yf,onItemHovered:es,isFilling:(l==null?void 0:l.fillHandle)===!0,onMouseMove:bf,onKeyDown:Ni,onKeyUp:ue,onMouseDown:mf,onMouseUp:vf,onDragOverCell:Nt,onDrop:Lt,onSearchResultsChanged:Df,onVisibleRegionChanged:Cf,clientSize:ft,rowHeight:Zn,searchResults:G,searchValue:k,onSearchValueChange:O,rows:bn,scrollRef:Xt,selection:U,translateX:Wr.tx,translateY:Wr.ty,verticalBorder:Pf,gridRef:Pn,getCellRenderer:yt,resizeIndicator:Na}),_f,r!==void 0&&g.createElement(g.Suspense,{fallback:null},g.createElement(Uv,{...r,validateCell:H,bloom:z,id:Ef,getCellRenderer:yt,className:(Wt==null?void 0:Wt.isSubGrid)===!0?"click-outside-ignore":void 0,provideEditor:Cn,imageEditorOverride:f,onFinishEditing:Rf,markdownDivCreateNode:m,isOutsideClick:Rr}))))},jv=g.forwardRef(Gv),Sd=20;function ku(e){const{cell:t,posX:n,posY:i,bounds:r,theme:o}=e,{width:a,height:s,x:l,y:u}=r,c=t.maxSize??Sd,d=Math.floor(r.y+s/2),f=Hc(c,s,o.cellVerticalPadding),h=Ac(t.contentAlign??"center",l,a,o.cellHorizontalPadding,f),m=Fc(h,d,f),p=zc(l+n,u+i,m);return Ys(t)&&p}const qv={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??"false"},kind:Z.Boolean,needsHover:!0,useLabel:!1,needsHoverPosition:!0,measure:()=>50,draw:e=>Kv(e,e.cell.data,Ys(e.cell),e.cell.maxSize??Sd,e.cell.hoverEffectIntensity??.35),onDelete:e=>({...e,data:!1}),onSelect:e=>{ku(e)&&e.preventDefault()},onClick:e=>{if(ku(e))return{...e.cell,data:wd(e.cell.data)}},onPaste:(e,t)=>{let n=ca;return e.toLowerCase()==="true"?n=!0:e.toLowerCase()==="false"?n=!1:e.toLowerCase()==="indeterminate"&&(n=Xs),n===t.data?void 0:{...t,data:n}}};function Kv(e,t,n,i,r){if(!n&&t===ca)return;const{ctx:o,hoverAmount:a,theme:s,rect:l,highlighted:u,hoverX:c,hoverY:d,cell:{contentAlign:f}}=e,{x:h,y:m,width:p,height:b}=l;let y=!1;if(r>0){let w=n?1-r+r*a:.4;if(t===ca&&(w*=a),w===0)return;w<1&&(y=!0,o.globalAlpha=w)}rl(o,s,t,h,m,p,b,u,c,d,i,f),y&&(o.globalAlpha=1)}const Zv=mn("div")({name:"BubblesOverlayEditorStyle",class:"gdg-b1ygi5by",propsAsIs:!1}),Jv=e=>{const{bubbles:t}=e;return g.createElement(Zv,null,t.map((n,i)=>g.createElement("div",{key:i,className:"boe-bubble"},n)),g.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},Qv={getAccessibilityString:e=>$c(e.data),kind:Z.Bubble,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((i,r)=>e.measureText(r).width+i+20,0)+2*n.cellHorizontalPadding-4,draw:e=>t1(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return g.createElement(Jv,{bubbles:t.data})},onPaste:()=>{}},e1=4;function t1(e,t){const{rect:n,theme:i,ctx:r,highlighted:o}=e,{x:a,y:s,width:l,height:u}=n,c=20,d=8,f=e1;let h=a+i.cellHorizontalPadding;const m=[];for(const p of t){if(h>a+l)break;const b=ii(p,r,i.baseFontFull).width;m.push({x:h,width:b}),h+=b+d*2+f}r.beginPath();for(const p of m)mr(r,p.x,s+(u-c)/2,p.width+d*2,c,i.roundingRadius??c/2);r.fillStyle=o?i.bgBubbleSelected:i.bgBubble,r.fill();for(const[p,b]of m.entries())r.beginPath(),r.fillStyle=i.textBubble,r.fillText(t[p],b.x+d,s+u/2+pr(r,i))}const n1=mn("div")({name:"DrilldownOverlayEditorStyle",class:"gdg-d4zsq0x",propsAsIs:!1}),r1=e=>{const{drilldowns:t}=e;return g.createElement(n1,null,t.map((n,i)=>g.createElement("div",{key:i,className:"doe-bubble"},n.img!==void 0&&g.createElement("img",{src:n.img}),g.createElement("div",null,n.text))))},i1={getAccessibilityString:e=>$c(e.data.map(t=>t.text)),kind:Z.Drilldown,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((i,r)=>e.measureText(r.text).width+i+20+(r.img!==void 0?18:0),0)+2*n.cellHorizontalPadding-4,draw:e=>s1(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return g.createElement(r1,{drilldowns:t.data})},onPaste:()=>{}},o1=4,ms={};function a1(e,t,n,i){const r=Math.ceil(window.devicePixelRatio),o=5,a=n-o*2,s=4,l=n*r,u=i+o,c=i*3,d=(c+o*2)*r,f=`${e},${t},${r},${n}`;if(ms[f]!==void 0)return{el:ms[f],height:l,width:d,middleWidth:s*r,sideWidth:u*r,padding:o*r,dpr:r};const h=document.createElement("canvas"),m=h.getContext("2d");return m===null?null:(h.width=d,h.height=l,m.scale(r,r),ms[f]=h,m.beginPath(),mr(m,o,o,c,a,i),m.shadowColor="rgba(24, 25, 34, 0.4)",m.shadowBlur=1,m.fillStyle=e,m.fill(),m.shadowColor="rgba(24, 25, 34, 0.3)",m.shadowOffsetY=1,m.shadowBlur=5,m.fillStyle=e,m.fill(),m.shadowOffsetY=0,m.shadowBlur=0,m.shadowBlur=0,m.beginPath(),mr(m,o+.5,o+.5,c,a,i),m.strokeStyle=t,m.lineWidth=1,m.stroke(),{el:h,height:l,width:d,sideWidth:u*r,middleWidth:i*r,padding:o*r,dpr:r})}function s1(e,t){const{rect:n,theme:i,ctx:r,imageLoader:o,col:a,row:s}=e,{x:l,width:u}=n,c=i.baseFontFull,d=ed(r,c),f=Math.min(n.height,Math.max(16,Math.ceil(d*i.lineHeight)*2)),h=Math.floor(n.y+(n.height-f)/2),m=f-10,p=8,b=o1;let y=l+i.cellHorizontalPadding;const w=i.roundingRadius??6,S=a1(i.bgCell,i.drilldownBorder,f,w),M=[];for(const C of t){if(y>l+u)break;const R=ii(C.text,r,c).width;let I=0;C.img!==void 0&&o.loadOrGetImage(C.img,a,s)!==void 0&&(I=m-8+4);const E=R+I+p*2;M.push({x:y,width:E}),y+=E+b}if(S!==null){const{el:C,height:x,middleWidth:R,sideWidth:I,width:E,dpr:L,padding:z}=S,_=I/L,F=z/L;for(const P of M){const ne=Math.floor(P.x),J=Math.floor(P.width),oe=J-(_-F)*2;r.imageSmoothingEnabled=!1,r.drawImage(C,0,0,I,x,ne-F,h,_,f),oe>0&&r.drawImage(C,I,0,R,x,ne+(_-F),h,oe,f),r.drawImage(C,E-I,0,I,x,ne+J-(_-F),h,_,f),r.imageSmoothingEnabled=!0}}r.beginPath();for(const[C,x]of M.entries()){const R=t[C];let I=x.x+p;if(R.img!==void 0){const E=o.loadOrGetImage(R.img,a,s);if(E!==void 0){const L=m-8;let z=0,_=0,F=E.width,P=E.height;F>P?(z+=(F-P)/2,F=P):P>F&&(_+=(P-F)/2,P=F),r.beginPath(),mr(r,I,h+f/2-L/2,L,L,i.roundingRadius??3),r.save(),r.clip(),r.drawImage(E,z,_,F,P,I,h+f/2-L/2,L,L),r.restore(),I+=L+4}}r.beginPath(),r.fillStyle=i.textBubble,r.fillText(R.text,I,h+f/2+pr(r,i))}}const l1={getAccessibilityString:e=>e.data.join(", "),kind:Z.Image,needsHover:!1,useLabel:!1,needsHoverPosition:!1,draw:e=>u1(e,e.cell.displayData??e.cell.data,e.cell.rounding??e.theme.roundingRadius??4,e.cell.contentAlign),measure:(e,t)=>t.data.length*50,onDelete:e=>({...e,data:[]}),provideEditor:()=>e=>{const{value:t,onFinishedEditing:n,imageEditorOverride:i}=e,r=i??_m;return g.createElement(r,{urls:t.data,canWrite:t.readonly!==!0,onCancel:n,onChange:o=>{n({...t,data:[o]})}})},onPaste:(e,t)=>{e=e.trim();const i=e.split(",").map(r=>{try{return new URL(r),r}catch{return}}).filter(r=>r!==void 0);if(!(i.length===t.data.length&&i.every((r,o)=>r===t.data[o])))return{...t,data:i}}},ps=4;function u1(e,t,n,i){const{rect:r,col:o,row:a,theme:s,ctx:l,imageLoader:u}=e,{x:c,y:d,height:f,width:h}=r,m=f-s.cellVerticalPadding*2,p=[];let b=0;for(let w=0;w<t.length;w++){const S=t[w];if(S.length===0)continue;const M=u.loadOrGetImage(S,o,a);if(M!==void 0){p[w]=M;const C=M.width*(m/M.height);b+=C+ps}}if(b===0)return;b-=ps;let y=c+s.cellHorizontalPadding;i==="right"?y=Math.floor(c+h-s.cellHorizontalPadding-b):i==="center"&&(y=Math.floor(c+h/2-b/2));for(const w of p){if(w===void 0)continue;const S=w.width*(m/w.height);n>0&&(l.beginPath(),mr(l,y,d+s.cellVerticalPadding,S,m,n),l.save(),l.clip()),l.drawImage(w,y,d+s.cellVerticalPadding,S,m),n>0&&l.restore(),y+=S+ps}}function c1(e,t){let n=e*49632+t*325176;return n^=n<<13,n^=n>>17,n^=n<<5,n/4294967295*2}const d1={getAccessibilityString:()=>"",kind:Z.Loading,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:()=>120,draw:e=>{const{cell:t,col:n,row:i,ctx:r,rect:o,theme:a}=e;if(t.skeletonWidth===void 0||t.skeletonWidth===0)return;let s=t.skeletonWidth;t.skeletonWidthVariability!==void 0&&t.skeletonWidthVariability>0&&(s+=Math.round(c1(n,i)*t.skeletonWidthVariability));const l=a.cellHorizontalPadding;s+l*2>=o.width&&(s=o.width-l*2-1);const u=t.skeletonHeight??Math.min(18,o.height-2*a.cellVerticalPadding);mr(r,o.x+l,o.y+(o.height-u)/2,s,u,a.roundingRadius??3),r.fillStyle=ti(a.textDark,.1),r.fill()},onPaste:()=>{}},f1=()=>e=>e.targetWidth,Mu=mn("div")({name:"MarkdownOverlayEditorStyle",class:"gdg-m1pnx84e",propsAsIs:!1,vars:{"m1pnx84e-0":[f1(),"px"]}}),h1=e=>{const{value:t,onChange:n,forceEditMode:i,createNode:r,targetRect:o,onFinish:a,validatedSelection:s}=e,l=t.data,u=t.readonly===!0,[c,d]=g.useState(l===""||i),f=g.useCallback(()=>{d(m=>!m)},[]),h=l?"gdg-ml-6":"";return c?g.createElement(Mu,{targetWidth:o.width-20},g.createElement(Ei,{autoFocus:!0,highlight:!1,validatedSelection:s,value:l,onKeyDown:m=>{m.key==="Enter"&&m.stopPropagation()},onChange:n}),g.createElement("div",{className:`gdg-edit-icon gdg-checkmark-hover ${h}`,onClick:()=>a(t)},g.createElement(Rm,null))):g.createElement(Mu,{targetWidth:o.width},g.createElement(Jm,{contents:l,createNode:r}),!u&&g.createElement(g.Fragment,null,g.createElement("div",{className:"spacer"}),g.createElement("div",{className:`gdg-edit-icon gdg-edit-hover ${h}`,onClick:f},g.createElement(Ks,null))),g.createElement("textarea",{className:"gdg-md-edit-textarea gdg-input",autoFocus:!0}))},g1={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:Z.Markdown,needsHover:!1,needsHoverPosition:!1,drawPrep:vo,measure:(e,t,n)=>{const i=t.data.split(`
`)[0];return e.measureText(i).width+2*n.cellHorizontalPadding},draw:e=>fr(e,e.cell.data,e.cell.contentAlign),onDelete:e=>({...e,data:""}),provideEditor:()=>e=>{const{onChange:t,value:n,target:i,onFinishedEditing:r,markdownDivCreateNode:o,forceEditMode:a,validatedSelection:s}=e;return g.createElement(h1,{onFinish:r,targetRect:i,value:n,validatedSelection:s,onChange:l=>t({...n,data:l.target.value}),forceEditMode:a,createNode:o})},onPaste:(e,t)=>e===t.data?void 0:{...t,data:e}},m1={getAccessibilityString:e=>e.row.toString(),kind:jn.Marker,needsHover:!0,needsHoverPosition:!1,drawPrep:p1,measure:()=>44,draw:e=>b1(e,e.cell.row,e.cell.checked,e.cell.markerKind,e.cell.drawHandle,e.cell.checkboxStyle),onClick:e=>{const{bounds:t,cell:n,posX:i,posY:r}=e,{width:o,height:a}=t,s=n.drawHandle?7+(o-7)/2:o/2,l=a/2;if(Math.abs(i-s)<=10&&Math.abs(r-l)<=10)return{...n,checked:!n.checked}},onPaste:()=>{}};function p1(e,t){const{ctx:n,theme:i}=e,r=i.markerFontFull,o=t??{};return(o==null?void 0:o.font)!==r&&(n.font=r,o.font=r),o.deprep=v1,n.textAlign="center",o}function v1(e){const{ctx:t}=e;t.textAlign="start"}function b1(e,t,n,i,r,o){const{ctx:a,rect:s,hoverAmount:l,theme:u}=e,{x:c,y:d,width:f,height:h}=s,m=n?1:i==="checkbox-visible"?.6+.4*l:l;if(i!=="number"&&m>0){a.globalAlpha=m;const p=7*(n?l:1);if(rl(a,u,n,r?c+p:c,d,r?f-p:f,h,!0,void 0,void 0,18,"center",o),r){a.globalAlpha=l,a.beginPath();for(const b of[3,6])for(const y of[-5,-1,3])a.rect(c+b,d+h/2+y,2,2);a.fillStyle=u.textLight,a.fill(),a.beginPath()}a.globalAlpha=1}if(i==="number"||i==="both"&&!n){const p=t.toString(),b=u.markerFontFull,y=c+f/2;i==="both"&&l!==0&&(a.globalAlpha=1-l),a.fillStyle=u.textLight,a.font=b,a.fillText(p,y,d+h/2+pr(a,b)),l!==0&&(a.globalAlpha=1)}}const w1={getAccessibilityString:()=>"",kind:jn.NewRow,needsHover:!0,needsHoverPosition:!1,measure:()=>200,draw:e=>y1(e,e.cell.hint,e.cell.icon),onPaste:()=>{}};function y1(e,t,n){const{ctx:i,rect:r,hoverAmount:o,theme:a,spriteManager:s}=e,{x:l,y:u,width:c,height:d}=r;i.beginPath(),i.globalAlpha=o,i.rect(l+1,u+1,c,d-2),i.fillStyle=a.bgHeaderHovered,i.fill(),i.globalAlpha=1,i.beginPath();const f=t!=="";let h=0;if(n!==void 0){const p=d-8,b=l+8/2,y=u+8/2;s.drawSprite(n,"normal",i,b,y,p,a,f?1:o),h=p}else{h=24;const m=12,p=f?m:o*m,b=f?0:(1-o)*m*.5,y=a.cellHorizontalPadding+4;p>0&&(i.moveTo(l+y+b,u+d/2),i.lineTo(l+y+b+p,u+d/2),i.moveTo(l+y+b+p*.5,u+d/2-p*.5),i.lineTo(l+y+b+p*.5,u+d/2+p*.5),i.lineWidth=2,i.strokeStyle=a.bgIconHeader,i.lineCap="round",i.stroke())}i.fillStyle=a.textMedium,i.fillText(t,h+l+a.cellHorizontalPadding+.5,u+d/2+pr(i,a)),i.beginPath()}function xd(e,t,n,i,r,o,a){e.textBaseline="alphabetic";const s=C1(e,r,i,t,(n==null?void 0:n.fullSize)??!1);e.beginPath(),mr(e,s.x,s.y,s.width,s.height,t.roundingRadius??4),e.globalAlpha=o,e.fillStyle=(n==null?void 0:n.bgColor)??ti(t.textDark,.1),e.fill(),e.globalAlpha=1,e.fillStyle=t.textDark,e.textBaseline="middle",a==null||a("text")}function C1(e,t,n,i,r){const o=i.cellHorizontalPadding,a=i.cellVerticalPadding;if(r)return{x:t.x+o/2,y:t.y+a/2+1,width:t.width-o,height:t.height-a-1};const s=ii(n,e,i.baseFontFull,"alphabetic"),l=t.height-a,u=Math.min(l,s.actualBoundingBoxAscent*2.5);return{x:t.x+o/2,y:t.y+(t.height-u)/2+1,width:s.width+o*3,height:u-1}}const S1=g.lazy(async()=>await Ws(()=>import("./number-overlay-editor.Gl04bci-.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10,11,12]),import.meta.url)),x1={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:Z.Number,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,useLabel:!0,drawPrep:vo,draw:e=>{const{hoverAmount:t,cell:n,ctx:i,theme:r,rect:o,overrideCursor:a}=e,{hoverEffect:s,displayData:l,hoverEffectTheme:u}=n;s===!0&&t>0&&xd(i,r,u,l,o,t,a),fr(e,e.cell.displayData,e.cell.contentAlign)},measure:(e,t,n)=>e.measureText(t.displayData).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:void 0}),provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:i,validatedSelection:r}=e;return g.createElement(g.Suspense,{fallback:null},g.createElement(S1,{highlight:t,disabled:i.readonly===!0,value:i.data,fixedDecimals:i.fixedDecimals,allowNegative:i.allowNegative,thousandSeparator:i.thousandSeparator,decimalSeparator:i.decimalSeparator,validatedSelection:r,onChange:o=>n({...i,data:Number.isNaN(o.floatValue??0)?0:o.floatValue})}))},onPaste:(e,t,n)=>{const i=typeof n.rawValue=="number"?n.rawValue:Number.parseFloat(typeof n.rawValue=="string"?n.rawValue:e);if(!(Number.isNaN(i)||t.data===i))return{...t,data:i,displayData:n.formattedString??t.displayData}}},k1={getAccessibilityString:()=>"",measure:()=>108,kind:Z.Protected,needsHover:!1,needsHoverPosition:!1,draw:M1,onPaste:()=>{}};function M1(e){const{ctx:t,theme:n,rect:i}=e,{x:r,y:o,height:a}=i;t.beginPath();const s=2.5;let l=r+n.cellHorizontalPadding+s;const u=o+a/2,c=Math.cos(Zl(30))*s,d=Math.sin(Zl(30))*s;for(let f=0;f<12;f++)t.moveTo(l,u-s),t.lineTo(l,u+s),t.moveTo(l+c,u-d),t.lineTo(l-c,u+d),t.moveTo(l-c,u-d),t.lineTo(l+c,u+d),l+=8;t.lineWidth=1.1,t.lineCap="square",t.strokeStyle=n.textLight,t.stroke()}const R1={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:Z.RowID,needsHover:!1,needsHoverPosition:!1,drawPrep:(e,t)=>vo(e,t,e.theme.textLight),draw:e=>fr(e,e.cell.data,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.data).width+n.cellHorizontalPadding*2,provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:i,validatedSelection:r}=e;return ee.createElement(Ei,{highlight:t,autoFocus:i.readonly!==!0,disabled:i.readonly!==!1,value:i.data,validatedSelection:r,onChange:o=>n({...i,data:o.target.value})})},onPaste:()=>{}},E1={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:Z.Text,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,drawPrep:vo,useLabel:!0,draw:e=>{const{cell:t,hoverAmount:n,hyperWrapping:i,ctx:r,rect:o,theme:a,overrideCursor:s}=e,{displayData:l,contentAlign:u,hoverEffect:c,allowWrapping:d,hoverEffectTheme:f}=t;c===!0&&n>0&&xd(r,a,f,l,o,n,s),fr(e,l,u,d,i)},measure:(e,t,n)=>{const i=t.displayData.split(`
`,t.allowWrapping===!0?void 0:1);let r=0;for(const o of i)r=Math.max(r,e.measureText(o).width);return r+2*n.cellHorizontalPadding},onDelete:e=>({...e,data:""}),provideEditor:e=>({disablePadding:e.allowWrapping===!0,editor:t=>{const{isHighlighted:n,onChange:i,value:r,validatedSelection:o}=t;return g.createElement(Ei,{style:e.allowWrapping===!0?{padding:"3px 8.5px"}:void 0,highlight:n,autoFocus:r.readonly!==!0,disabled:r.readonly===!0,altNewline:!0,value:r.data,validatedSelection:o,onChange:a=>i({...r,data:a.target.value})})}}),onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},I1=mn("div")({name:"UriOverlayEditorStyle",class:"gdg-u1rrojo",propsAsIs:!1}),T1=e=>{const{uri:t,onChange:n,forceEditMode:i,readonly:r,validatedSelection:o,preview:a}=e,[s,l]=g.useState(!r&&(t===""||i)),u=g.useCallback(()=>{l(!0)},[]);return s?g.createElement(Ei,{validatedSelection:o,highlight:!0,autoFocus:!0,value:t,onChange:n}):g.createElement(I1,null,g.createElement("a",{className:"gdg-link-area",href:t,target:"_blank",rel:"noopener noreferrer"},a),!r&&g.createElement("div",{className:"gdg-edit-icon",onClick:u},g.createElement(Ks,null)),g.createElement("textarea",{className:"gdg-input",autoFocus:!0}))};function kd(e,t,n,i){let r=n.cellHorizontalPadding;const o=t.height/2-e.actualBoundingBoxAscent/2,a=e.width,s=e.actualBoundingBoxAscent;return i==="right"?r=t.width-a-n.cellHorizontalPadding:i==="center"&&(r=t.width/2-a/2),{x:r,y:o,width:a,height:s}}function Ru(e){const{cell:t,bounds:n,posX:i,posY:r,theme:o}=e,a=t.displayData??t.data;if(t.hoverEffect!==!0||t.onClickUri===void 0)return!1;const s=Zc(a,o.baseFontFull);if(s===void 0)return!1;const l=kd(s,n,o,t.contentAlign);return ei({x:l.x-4,y:l.y-4,width:l.width+8,height:l.height+8},i,r)}const D1={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:Z.Uri,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!0,useLabel:!0,drawPrep:vo,draw:e=>{const{cell:t,theme:n,overrideCursor:i,hoverX:r,hoverY:o,rect:a,ctx:s}=e,l=t.displayData??t.data,u=t.hoverEffect===!0;if(i!==void 0&&u&&r!==void 0&&o!==void 0){const c=ii(l,s,n.baseFontFull),d=kd(c,a,n,t.contentAlign),{x:f,y:h,width:m,height:p}=d;if(r>=f-4&&r<=f-4+m+8&&o>=h-4&&o<=h-4+p+8){const b=pr(s,n.baseFontFull);i("pointer");const y=5,w=h-b;s.beginPath(),s.moveTo(a.x+f,Math.floor(a.y+w+p+y)+.5),s.lineTo(a.x+f+m,Math.floor(a.y+w+p+y)+.5),s.strokeStyle=n.linkColor,s.stroke(),s.save(),s.fillStyle=e.cellFillColor,fr({...e,rect:{...a,x:a.x-1}},l,t.contentAlign),fr({...e,rect:{...a,x:a.x-2}},l,t.contentAlign),fr({...e,rect:{...a,x:a.x+1}},l,t.contentAlign),fr({...e,rect:{...a,x:a.x+2}},l,t.contentAlign),s.restore()}}s.fillStyle=u?n.linkColor:n.textDark,fr(e,l,t.contentAlign)},onSelect:e=>{Ru(e)&&e.preventDefault()},onClick:e=>{var i;const{cell:t}=e;Ru(e)&&((i=t.onClickUri)==null||i.call(t,e))},measure:(e,t,n)=>e.measureText(t.displayData??t.data).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:""}),provideEditor:e=>t=>{const{onChange:n,value:i,forceEditMode:r,validatedSelection:o}=t;return g.createElement(T1,{forceEditMode:i.readonly!==!0&&(r||e.hoverEffect===!0&&e.onClickUri!==void 0),uri:i.data,preview:i.displayData??i.data,validatedSelection:o,readonly:i.readonly===!0,onChange:a=>n({...i,data:a.target.value})})},onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},O1=[m1,w1,qv,Qv,i1,l1,d1,g1,x1,k1,R1,E1,D1];var P1=_c,_1=cc,L1="Expected a function";function F1(e,t,n){var i=!0,r=!0;if(typeof e!="function")throw new TypeError(L1);return _1(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),P1(e,t,{leading:i,maxWait:t,trailing:r})}var A1=F1;const H1=Mi(A1),vs=[];class z1 extends nd{constructor(){super(...arguments);dt(this,"imageLoaded",()=>{});dt(this,"loadedLocations",[]);dt(this,"cache",{});dt(this,"sendLoaded",H1(()=>{this.imageLoaded(new io(this.loadedLocations)),this.loadedLocations=[]},20));dt(this,"clearOutOfWindow",()=>{const n=Object.keys(this.cache);for(const i of n){const r=this.cache[i];let o=!1;for(let a=0;a<r.cells.length;a++){const s=r.cells[a];if(this.isInWindow(s)){o=!0;break}}o?r.cells=r.cells.filter(this.isInWindow):(r.cancel(),delete this.cache[i])}})}setCallback(n){this.imageLoaded=n}loadImage(n,i,r,o){let a=!1;const s=vs.pop()??new Image;let l=!1;const u={img:void 0,cells:[or(i,r)],url:n,cancel:()=>{l||(l=!0,vs.length<12?vs.unshift(s):a||(s.src=""))}},c=new Promise(d=>s.addEventListener("load",()=>d(null)));requestAnimationFrame(async()=>{try{s.src=n,await c,await s.decode();const d=this.cache[o];if(d!==void 0&&!l){d.img=s;for(const f of d.cells)this.loadedLocations.push(nl(f));a=!0,this.sendLoaded()}}catch{u.cancel()}}),this.cache[o]=u}loadOrGetImage(n,i,r){const o=n,a=this.cache[o];if(a!==void 0){const s=or(i,r);return a.cells.includes(s)||a.cells.push(s),a.img}else this.loadImage(n,i,r,o)}}const $1=(e,t)=>{const n=g.useMemo(()=>({...R0,...e.headerIcons}),[e.headerIcons]),i=g.useMemo(()=>e.imageWindowLoader??new z1,[e.imageWindowLoader]);return g.createElement(jv,{...e,renderers:O1,headerIcons:n,ref:t,imageWindowLoader:i})},V1=g.forwardRef($1);function Eu(e,t){const n=g.useRef(null),i=g.useRef(),r=g.useCallback(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]);return g.useEffect(()=>r,[r]),{debouncedCallback:g.useCallback((...a)=>{i.current=a,r(),n.current=setTimeout(()=>{i.current&&(e(...i.current),i.current=void 0)},t)},[e,t,r]),cancel:r}}const Iu=fo("div",{target:"eau1w2s0"})(({hasCustomizedScrollbars:e,theme:t})=>({position:"relative",display:"inline-block","& .stDataFrameGlideDataEditor":{height:"100%",minWidth:"100%",borderRadius:t.radii.default},"& .dvn-scroller":{...!e&&{scrollbarWidth:"thin"},overflowX:"auto !important",overflowY:"auto !important"}})),N1=fo("div",{target:"eau1w2s1"})(({theme:e})=>({paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs})),Zo=fo("div",{target:"eau1w2s2"})(({theme:e})=>({display:"flex",alignItems:"center",gap:e.spacing.sm,paddingLeft:e.spacing.sm,paddingRight:e.spacing.sm,paddingTop:e.spacing.twoXS,paddingBottom:e.spacing.twoXS,cursor:"pointer","&:hover":{backgroundColor:e.colors.darkenedBgMix15},minWidth:e.sizes.minMenuWidth})),B1=fo("div",{target:"eau1w2s3"})(({theme:e})=>({height:e.sizes.borderWidth,backgroundColor:e.colors.borderColor,marginTop:e.spacing.xs,marginBottom:e.spacing.xs}));function W1({top:e,left:t,isColumnPinned:n,onPinColumn:i,onUnpinColumn:r,onCloseMenu:o,onSortColumn:a}){const s=Da(),{colors:l,fontSizes:u,radii:c,fontWeights:d}=s;g.useEffect(()=>{function h(p){p.preventDefault()}const m=()=>{document.removeEventListener("wheel",h),document.removeEventListener("touchmove",h)};return document.addEventListener("wheel",h,{passive:!1}),document.addEventListener("touchmove",h,{passive:!1}),()=>{m()}},[]);const f=ee.useCallback(()=>{o()},[o]);return Qt(pc,{autoFocus:!0,"aria-label":"Dataframe column menu",content:Hr(N1,{children:[a&&Hr(th,{children:[Hr(Zo,{onClick:()=>{a("asc"),f()},role:"menuitem",children:[Qt(Vo,{size:"base",margin:"0",color:"inherit",iconValue:":material/arrow_upward:"}),"Sort ascending"]}),Hr(Zo,{onClick:()=>{a("desc"),f()},role:"menuitem",children:[Qt(Vo,{size:"base",margin:"0",color:"inherit",iconValue:":material/arrow_downward:"}),"Sort descending"]}),Qt(B1,{})]}),n&&Hr(Zo,{onClick:()=>{r(),f()},children:[Qt(Vo,{size:"base",margin:"0",color:"inherit",iconValue:":material/keep_off:"}),"Unpin column"]}),!n&&Hr(Zo,{onClick:()=>{i(),f()},children:[Qt(Vo,{size:"base",margin:"0",color:"inherit",iconValue:":material/keep:"}),"Pin column"]})]}),placement:hc.bottomRight,accessibilityType:gc.menu,showArrow:!1,popoverMargin:wr("0.375rem"),onClickOutside:f,onEsc:f,overrides:{Body:{props:{"data-testid":"stDataFrameColumnMenu"},style:{paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"transparent"}},Inner:{style:{border:`${s.sizes.borderWidth} solid ${s.colors.borderColor}`,backgroundColor:mc(s)?l.bgColor:l.secondaryBg,color:l.bodyText,fontSize:u.sm,fontWeight:d.normal,borderTopLeftRadius:c.default,borderTopRightRadius:c.default,borderBottomLeftRadius:c.default,borderBottomRightRadius:c.default,overflow:"auto",paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important"}}},isOpen:!0,children:Qt("div",{"data-testid":"stDataFrameColumnMenuTarget",style:{position:"fixed",top:e,left:t,visibility:"hidden",transform:"unset"}})})}const U1=g.memo(W1);var X1={exports:{}};/*! Moment Duration Format v2.2.2
 *  https://github.com/jsmreese/moment-duration-format
 *  Date: 2018-02-16
 *
 *  Duration format plugin function for the Moment.js library
 *  http://momentjs.com/
 *
 *  Copyright 2018 John Madhavan-Reese
 *  Released under the MIT license
 */(function(e,t){(function(n,i){try{e.exports=i(nh)}catch{e.exports=i}n&&(n.momentDurationFormatSetup=n.moment?i(n.moment):i)})(Bs,function(n){var i=!1,r=!1,o=!1,a=!1,s="escape years months weeks days hours minutes seconds milliseconds general".split(" "),l=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function u(O,k){return k.length>O.length?!1:O.indexOf(k)!==-1}function c(O){for(var k="";O;)k+="0",O-=1;return k}function d(O){for(var k=O.split("").reverse(),N=0,ue=!0;ue&&N<k.length;)N?k[N]==="9"?k[N]="0":(k[N]=(parseInt(k[N],10)+1).toString(),ue=!1):(parseInt(k[N],10)<5&&(ue=!1),k[N]="0"),N+=1;return ue&&k.push("1"),k.reverse().join("")}function f(O,k){var N=R(ne(k).sort(),function(fe){return fe+":"+k[fe]}).join(","),ue=O+"+"+N;return f.cache[ue]||(f.cache[ue]=Intl.NumberFormat(O,k)),f.cache[ue]}f.cache={};function h(O,k,N){var ue=k.useToLocaleString,fe=k.useGrouping,$e=fe&&k.grouping.slice(),me=k.maximumSignificantDigits,Ge=k.minimumIntegerDigits||1,Me=k.fractionDigits||0,_t=k.groupingSeparator,Rt=k.decimalSeparator;if(ue&&N){var et={minimumIntegerDigits:Ge,useGrouping:fe};if(Me&&(et.maximumFractionDigits=Me,et.minimumFractionDigits=Me),me&&O>0&&(et.maximumSignificantDigits=me),o){if(!a){var te=P({},k);te.useGrouping=!1,te.decimalSeparator=".",O=parseFloat(h(O,te),10)}return f(N,et).format(O)}else{if(!r){var te=P({},k);te.useGrouping=!1,te.decimalSeparator=".",O=parseFloat(h(O,te),10)}return O.toLocaleString(N,et)}}var je;me?je=O.toPrecision(me+1):je=O.toFixed(Me+1);var ve,se,pe,Ve=je.split("e");pe=Ve[1]||"",Ve=Ve[0].split("."),se=Ve[1]||"",ve=Ve[0]||"";var Oe=ve.length,rt=se.length,he=Oe+rt,Ee=ve+se;(me&&he===me+1||!me&&rt===Me+1)&&(Ee=d(Ee),Ee.length===he+1&&(Oe=Oe+1),rt&&(Ee=Ee.slice(0,-1)),ve=Ee.slice(0,Oe),se=Ee.slice(Oe)),me&&(se=se.replace(/0*$/,""));var lt=parseInt(pe,10);lt>0?se.length<=lt?(se=se+c(lt-se.length),ve=ve+se,se=""):(ve=ve+se.slice(0,lt),se=se.slice(lt)):lt<0&&(se=c(Math.abs(lt)-ve.length)+ve+se,ve="0"),me||(se=se.slice(0,Me),se.length<Me&&(se=se+c(Me-se.length)),ve.length<Ge&&(ve=c(Ge-ve.length)+ve));var Ae="";if(fe){Ve=ve;for(var it;Ve.length;)$e.length&&(it=$e.shift()),Ae&&(Ae=_t+Ae),Ae=Ve.slice(-it)+Ae,Ve=Ve.slice(0,-it)}else Ae=ve;return se&&(Ae=Ae+Rt+se),Ae}function m(O,k){return O.label.length>k.label.length?-1:O.label.length<k.label.length?1:0}function p(O,k){var N=[];return x(ne(k),function(ue){if(ue.slice(0,15)==="_durationLabels"){var fe=ue.slice(15).toLowerCase();x(ne(k[ue]),function($e){$e.slice(0,1)===O&&N.push({type:fe,key:$e,label:k[ue][$e]})})}}),N}function b(O,k,N){return k===1&&N===null?O:O+O}var y={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:b};function w(O){return Object.prototype.toString.call(O)==="[object Array]"}function S(O){return Object.prototype.toString.call(O)==="[object Object]"}function M(O,k){for(var N=O.length;N-=1;)if(k(O[N]))return O[N]}function C(O,k){var N=0,ue=O&&O.length||0,fe;for(typeof k!="function"&&(fe=k,k=function($e){return $e===fe});N<ue;){if(k(O[N]))return O[N];N+=1}}function x(O,k){var N=0,ue=O.length;if(!(!O||!ue))for(;N<ue;){if(k(O[N],N)===!1)return;N+=1}}function R(O,k){var N=0,ue=O.length,fe=[];if(!O||!ue)return fe;for(;N<ue;)fe[N]=k(O[N],N),N+=1;return fe}function I(O,k){return R(O,function(N){return N[k]})}function E(O){var k=[];return x(O,function(N){N&&k.push(N)}),k}function L(O){var k=[];return x(O,function(N){C(k,N)||k.push(N)}),k}function z(O,k){var N=[];return x(O,function(ue){x(k,function(fe){ue===fe&&N.push(ue)})}),L(N)}function _(O,k){var N=[];return x(O,function(ue,fe){if(!k(ue))return N=O.slice(fe),!1}),N}function F(O,k){var N=O.slice().reverse();return _(N,k).reverse()}function P(O,k){for(var N in k)k.hasOwnProperty(N)&&(O[N]=k[N]);return O}function ne(O){var k=[];for(var N in O)O.hasOwnProperty(N)&&k.push(N);return k}function J(O,k){var N=0,ue=O.length;if(!O||!ue)return!1;for(;N<ue;){if(k(O[N],N)===!0)return!0;N+=1}return!1}function oe(O){var k=[];return x(O,function(N){k=k.concat(N)}),k}function ce(){var O=0;try{O.toLocaleString("i")}catch(k){return k.name==="RangeError"}return!1}function ke(O){return O(3.55,"en",{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})==="3.6"}function ae(O){var k=!0;return k=k&&O(1,"en",{minimumIntegerDigits:1})==="1",k=k&&O(1,"en",{minimumIntegerDigits:2})==="01",k=k&&O(1,"en",{minimumIntegerDigits:3})==="001",!(!k||(k=k&&O(99.99,"en",{maximumFractionDigits:0,minimumFractionDigits:0})==="100",k=k&&O(99.99,"en",{maximumFractionDigits:1,minimumFractionDigits:1})==="100.0",k=k&&O(99.99,"en",{maximumFractionDigits:2,minimumFractionDigits:2})==="99.99",k=k&&O(99.99,"en",{maximumFractionDigits:3,minimumFractionDigits:3})==="99.990",!k)||(k=k&&O(99.99,"en",{maximumSignificantDigits:1})==="100",k=k&&O(99.99,"en",{maximumSignificantDigits:2})==="100",k=k&&O(99.99,"en",{maximumSignificantDigits:3})==="100",k=k&&O(99.99,"en",{maximumSignificantDigits:4})==="99.99",k=k&&O(99.99,"en",{maximumSignificantDigits:5})==="99.99",!k)||(k=k&&O(1e3,"en",{useGrouping:!0})==="1,000",k=k&&O(1e3,"en",{useGrouping:!1})==="1000",!k))}function K(){var O=[].slice.call(arguments),k={},N;if(x(O,function(me,Ge){if(!Ge){if(!w(me))throw"Expected array as the first argument to durationsFormat.";N=me}if(typeof me=="string"||typeof me=="function"){k.template=me;return}if(typeof me=="number"){k.precision=me;return}S(me)&&P(k,me)}),!N||!N.length)return[];k.returnMomentTypes=!0;var ue=R(N,function(me){return me.format(k)}),fe=z(s,L(I(oe(ue),"type"))),$e=k.largest;return $e&&(fe=fe.slice(0,$e)),k.returnMomentTypes=!1,k.outputTypes=fe,R(N,function(me){return me.format(k)})}function ie(){var O=[].slice.call(arguments),k=P({},this.format.defaults),N=this.asMilliseconds(),ue=this.asMonths();typeof this.isValid=="function"&&this.isValid()===!1&&(N=0,ue=0);var fe=N<0,$e=n.duration(Math.abs(N),"milliseconds"),me=n.duration(Math.abs(ue),"months");x(O,function(A){if(typeof A=="string"||typeof A=="function"){k.template=A;return}if(typeof A=="number"){k.precision=A;return}S(A)&&P(k,A)});var Ge={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},Me={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};k.types=s;var _t=function(A){return C(s,function(Ke){return Me[Ke].test(A)})},Rt=new RegExp(R(s,function(A){return Me[A].source}).join("|"),"g");k.duration=this;var et=typeof k.template=="function"?k.template.apply(k):k.template,te=k.outputTypes,je=k.returnMomentTypes,ve=k.largest,se=[];te||(w(k.stopTrim)&&(k.stopTrim=k.stopTrim.join("")),k.stopTrim&&x(k.stopTrim.match(Rt),function(A){var Ke=_t(A);Ke==="escape"||Ke==="general"||se.push(Ke)}));var pe=n.localeData();pe||(pe={}),x(ne(y),function(A){if(typeof y[A]=="function"){pe[A]||(pe[A]=y[A]);return}pe["_"+A]||(pe["_"+A]=y[A])}),x(ne(pe._durationTimeTemplates),function(A){et=et.replace("_"+A+"_",pe._durationTimeTemplates[A])});var Ve=k.userLocale||n.locale(),Oe=k.useLeftUnits,rt=k.usePlural,he=k.precision,Ee=k.forceLength,lt=k.useGrouping,Ae=k.trunc,it=k.useSignificantDigits&&he>0,bt=it?k.precision:0,gt=bt,He=k.minValue,Dt=!1,Gt=k.maxValue,vt=!1,Et=k.useToLocaleString,Kt=k.groupingSeparator,At=k.decimalSeparator,Rn=k.grouping;Et=Et&&(i||o);var Vt=k.trim;w(Vt)&&(Vt=Vt.join(" ")),Vt===null&&(ve||Gt||it)&&(Vt="all"),(Vt===null||Vt===!0||Vt==="left"||Vt==="right")&&(Vt="large"),Vt===!1&&(Vt="");var It=function(A){return A.test(Vt)},En=/large/,Cn=/small/,Pe=/both/,Ht=/mid/,hn=/^all|[^sm]all/,pn=/final/,vn=ve>0||J([En,Pe,hn],It),ot=J([Cn,Pe,hn],It),Nt=J([Ht,hn],It),Lt=J([pn,hn],It),on=R(et.match(Rt),function(A,Ke){var ze=_t(A);return A.slice(0,1)==="*"&&(A=A.slice(1),ze!=="escape"&&ze!=="general"&&se.push(ze)),{index:Ke,length:A.length,text:"",token:ze==="escape"?A.replace(Me.escape,"$1"):A,type:ze==="escape"||ze==="general"?null:ze}}),Ot={index:0,length:0,token:"",text:"",type:null},zt=[];Oe&&on.reverse(),x(on,function(A){if(A.type){(Ot.type||Ot.text)&&zt.push(Ot),Ot=A;return}Oe?Ot.text=A.token+Ot.text:Ot.text+=A.token}),(Ot.type||Ot.text)&&zt.push(Ot),Oe&&zt.reverse();var qe=z(s,L(E(I(zt,"type"))));if(!qe.length)return I(zt,"text").join("");qe=R(qe,function(A,Ke){var ze=Ke+1===qe.length,Pt=!Ke,un;A==="years"||A==="months"?un=me.as(A):un=$e.as(A);var Sn=Math.floor(un),qn=un-Sn,_n=C(zt,function(en){return A===en.type});return Pt&&Gt&&un>Gt&&(vt=!0),ze&&He&&Math.abs(k.duration.as(A))<He&&(Dt=!0),Pt&&Ee===null&&_n.length>1&&(Ee=!0),$e.subtract(Sn,A),me.subtract(Sn,A),{rawValue:un,wholeValue:Sn,decimalValue:ze?qn:0,isSmallest:ze,isLargest:Pt,type:A,tokenLength:_n.length}});var Bt=Ae?Math.floor:Math.round,Wt=function(A,Ke){var ze=Math.pow(10,Ke);return Bt(A*ze)/ze},de=!1,Ne=!1,Zt=function(A,Ke){var ze={useGrouping:lt,groupingSeparator:Kt,decimalSeparator:At,grouping:Rn,useToLocaleString:Et};return it&&(bt<=0?(A.rawValue=0,A.wholeValue=0,A.decimalValue=0):(ze.maximumSignificantDigits=bt,A.significantDigits=bt)),vt&&!Ne&&(A.isLargest?(A.wholeValue=Gt,A.decimalValue=0):(A.wholeValue=0,A.decimalValue=0)),Dt&&!Ne&&(A.isSmallest?(A.wholeValue=He,A.decimalValue=0):(A.wholeValue=0,A.decimalValue=0)),A.isSmallest||A.significantDigits&&A.significantDigits-A.wholeValue.toString().length<=0?he<0?A.value=Wt(A.wholeValue,he):he===0?A.value=Bt(A.wholeValue+A.decimalValue):it?(Ae?A.value=Wt(A.rawValue,bt-A.wholeValue.toString().length):A.value=A.rawValue,A.wholeValue&&(bt-=A.wholeValue.toString().length)):(ze.fractionDigits=he,Ae?A.value=A.wholeValue+Wt(A.decimalValue,he):A.value=A.wholeValue+A.decimalValue):it&&A.wholeValue?(A.value=Math.round(Wt(A.wholeValue,A.significantDigits-A.wholeValue.toString().length)),bt-=A.wholeValue.toString().length):A.value=A.wholeValue,A.tokenLength>1&&(Ee||de)&&(ze.minimumIntegerDigits=A.tokenLength,Ne&&ze.maximumSignificantDigits<A.tokenLength&&delete ze.maximumSignificantDigits),!de&&(A.value>0||Vt===""||C(se,A.type)||C(te,A.type))&&(de=!0),A.formattedValue=h(A.value,ze,Ve),ze.useGrouping=!1,ze.decimalSeparator=".",A.formattedValueEn=h(A.value,ze,"en"),A.tokenLength===2&&A.type==="milliseconds"&&(A.formattedValueMS=h(A.value,{minimumIntegerDigits:3,useGrouping:!1},"en").slice(0,2)),A};if(qe=R(qe,Zt),qe=E(qe),qe.length>1){var In=function(A){return C(qe,function(Ke){return Ke.type===A})},ln=function(A){var Ke=In(A.type);Ke&&x(A.targets,function(ze){var Pt=In(ze.type);Pt&&parseInt(Ke.formattedValueEn,10)===ze.value&&(Ke.rawValue=0,Ke.wholeValue=0,Ke.decimalValue=0,Pt.rawValue+=1,Pt.wholeValue+=1,Pt.decimalValue=0,Pt.formattedValueEn=Pt.wholeValue.toString(),Ne=!0)})};x(l,ln)}return Ne&&(de=!1,bt=gt,qe=R(qe,Zt),qe=E(qe)),te&&!(vt&&!k.trim)?(qe=R(qe,function(A){return C(te,function(Ke){return A.type===Ke})?A:null}),qe=E(qe)):(vn&&(qe=_(qe,function(A){return!A.isSmallest&&!A.wholeValue&&!C(se,A.type)})),ve&&qe.length&&(qe=qe.slice(0,ve)),ot&&qe.length>1&&(qe=F(qe,function(A){return!A.wholeValue&&!C(se,A.type)&&!A.isLargest})),Nt&&(qe=R(qe,function(A,Ke){return Ke>0&&Ke<qe.length-1&&!A.wholeValue?null:A}),qe=E(qe)),Lt&&qe.length===1&&!qe[0].wholeValue&&!(!Ae&&qe[0].isSmallest&&qe[0].rawValue<He)&&(qe=[])),je?qe:(x(zt,function(A){var Ke=Ge[A.type],ze=C(qe,function(en){return en.type===A.type});if(!(!Ke||!ze)){var Pt=ze.formattedValueEn.split(".");Pt[0]=parseInt(Pt[0],10),Pt[1]?Pt[1]=parseFloat("0."+Pt[1],10):Pt[1]=null;var un=pe.durationPluralKey(Ke,Pt[0],Pt[1]),Sn=p(Ke,pe),qn=!1,_n={};x(pe._durationLabelTypes,function(en){var $n=C(Sn,function(Kn){return Kn.type===en.type&&Kn.key===un});$n&&(_n[$n.type]=$n.label,u(A.text,en.string)&&(A.text=A.text.replace(en.string,$n.label),qn=!0))}),rt&&!qn&&(Sn.sort(m),x(Sn,function(en){if(_n[en.type]===en.label)return u(A.text,en.label)?!1:void 0;if(u(A.text,en.label))return A.text=A.text.replace(en.label,_n[en.type]),!1}))}}),zt=R(zt,function(A){if(!A.type)return A.text;var Ke=C(qe,function(Pt){return Pt.type===A.type});if(!Ke)return"";var ze="";return Oe&&(ze+=A.text),(fe&&vt||!fe&&Dt)&&(ze+="< ",vt=!1,Dt=!1),(fe&&Dt||!fe&&vt)&&(ze+="> ",vt=!1,Dt=!1),fe&&(Ke.value>0||Vt===""||C(se,Ke.type)||C(te,Ke.type))&&(ze+="-",fe=!1),A.type==="milliseconds"&&Ke.formattedValueMS?ze+=Ke.formattedValueMS:ze+=Ke.formattedValue,Oe||(ze+=A.text),ze}),zt.join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function re(){var O=this.duration,k=function($e){return O._data[$e]},N=C(this.types,k),ue=M(this.types,k);switch(N){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(N===ue)return"d __";case"weeks":return N===ue?"w __":(this.trim===null&&(this.trim="both"),"w __, d __, h __");case"months":if(N===ue)return"M __";case"years":return N===ue?"y __":(this.trim===null&&(this.trim="both"),"y __, M __, d __");default:return this.trim===null&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function ge(O){if(!O)throw"Moment Duration Format init cannot find moment instance.";O.duration.format=K,O.duration.fn.format=ie,O.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:re,useToLocaleString:!0,groupingSeparator:",",decimalSeparator:".",grouping:[3]},O.updateLocale("en",y)}var ye=function(O,k,N){return O.toLocaleString(k,N)};i=ce()&&ae(ye),r=i&&ke(ye);var G=function(O,k,N){if(typeof window<"u"&&window&&window.Intl&&window.Intl.NumberFormat)return window.Intl.NumberFormat(k,N).format(O)};return o=ae(G),a=o&&ke(G),ge(n),ge})})(X1);const Y1=["true","t","yes","y","on","1"],G1=["false","f","no","n","off","0"];function $t(e,t=""){return{kind:Z.Text,readonly:!0,allowOverlay:!0,data:e,displayData:e,errorDetails:t,isError:!0,style:"faded"}}function Si(e){return e.hasOwnProperty("isError")&&e.isError}function j1(e){return e.hasOwnProperty("tooltip")&&e.tooltip!==""}function Aa(e){return e.hasOwnProperty("isMissingValue")&&e.isMissingValue}function Hs(e=!1){return e?{kind:Z.Loading,allowOverlay:!1,isMissingValue:!0}:{kind:Z.Loading,allowOverlay:!1}}function q1(e,t){const n=t?"faded":"normal";return{kind:Z.Text,data:"",displayData:"",allowOverlay:!0,readonly:e,style:n}}function zs(e){return{id:e.id,title:e.title,hasMenu:!1,menuIcon:"dots",themeOverride:e.themeOverride,icon:e.icon,group:e.group,...e.isStretched&&{grow:e.isIndex?1:3},...e.width&&{width:e.width}}}function bo(e,t){return nt(e)?t||{}:nt(t)?e||{}:vc(e,t)}function Md(e){if(nt(e))return[];if(typeof e=="number"||typeof e=="boolean")return[e];if(typeof e=="string"){if(e==="")return[];if(e.trim().startsWith("[")&&e.trim().endsWith("]"))try{return JSON.parse(e)}catch{return[e]}else return e.split(",")}try{const t=JSON.parse(JSON.stringify(e,(n,i)=>typeof i=="bigint"?Number(i):i));return Array.isArray(t)?t.map(n=>["string","number","boolean","null"].includes(typeof n)?n:Mt(n)):[Mt(t)]}catch{return[Mt(e)]}}function Mt(e){try{try{return rh(e)}catch{return JSON.stringify(e,(n,i)=>typeof i=="bigint"?Number(i):i)}}catch{return`[${typeof e}]`}}function Rd(e){if(nt(e))return null;if(typeof e=="boolean")return e;const t=Mt(e).toLowerCase().trim();if(t==="")return null;if(Y1.includes(t))return!0;if(G1.includes(t))return!1}function uo(e){if(nt(e))return null;if(Array.isArray(e))return NaN;if(typeof e=="string"){if(e.trim().length===0)return null;try{const t=Ms.unformat(e.trim());if(St(t))return t}catch{}}else if(e instanceof Int32Array)return Number(e[0]);return Number(e)}function K1(e){if(e===0||Math.abs(e)>=1e-4)return 4;const n=e.toExponential().split("e");return Math.abs(parseInt(n[1],10))}function Sa(e,t,n){return Number.isNaN(e)||!Number.isFinite(e)?"":nt(t)||t===""?St(n)?(n===0&&(e=Math.round(e)),Ms(e).format({thousandSeparated:!0,mantissa:n,trimMantissa:!1})):Ms(e).format({thousandSeparated:!0,mantissa:K1(e),trimMantissa:!0}):t==="percent"?new Intl.NumberFormat(void 0,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(e):["compact","scientific","engineering"].includes(t)?new Intl.NumberFormat(void 0,{notation:t}).format(e):Jh.sprintf(t,e)}function Tu(e,t){return t==="locale"?new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"medium"}).format(e.toDate()):t==="distance"?e.fromNow():t==="relative"?e.calendar():e.format(t)}function Jo(e){if(nt(e))return null;if(e instanceof Date)return isNaN(e.getTime())?void 0:e;if(typeof e=="string"&&e.trim().length===0)return null;try{const t=Number(e);if(!isNaN(t)){let n=t;t>=10**18?n=t/1e3**3:t>=10**15?n=t/1e3**2:t>=10**12&&(n=t/1e3);const i=Zr.unix(n).utc();if(i.isValid())return i.toDate()}if(typeof e=="string"){const n=Zr.utc(e);if(n.isValid())return n.toDate();const i=Zr.utc(e,[Zr.HTML5_FMT.TIME_MS,Zr.HTML5_FMT.TIME_SECONDS,Zr.HTML5_FMT.TIME]);if(i.isValid())return i.toDate()}}catch{return}}function Ed(e){if(e%1===0)return 0;let t=e.toString();return t.indexOf("e")!==-1&&(t=e.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20})),t.indexOf(".")===-1?0:t.split(".")[1].length}function Z1(e,t){return t===0?Math.trunc(e):Math.trunc(e*10**t)/10**t}const J1=new RegExp(/(\r\n|\n|\r)/gm);function xa(e){return e.indexOf(`
`)!==-1?e.replace(J1," "):e}function Q1(e,t){if(nt(t))return"";try{const n=t.match(e);return n&&n[1]!==void 0?decodeURIComponent(n[1].replace(/\+/g,"%20")):t}catch{return t}}const eb="line_chart",tb="area_chart",nb="bar_chart";function al(e,t,n){const i=bo({y_min:0,y_max:1},t.columnTypeOptions),r={kind:Z.Custom,allowOverlay:!1,copyData:"",contentAlign:t.contentAlignment,data:{kind:"sparkline-cell",values:[],displayValues:[],graphKind:n,yAxis:[i.y_min,i.y_max]}};return{...t,kind:e,sortMode:"default",isEditable:!1,getCell(o){if(nt(i.y_min)||nt(i.y_max)||Number.isNaN(i.y_min)||Number.isNaN(i.y_max)||i.y_min>=i.y_max)return $t("Invalid min/max y-axis configuration",`The y_min (${i.y_min}) and y_max (${i.y_max}) configuration options must be valid numbers.`);if(nt(o))return Hs();const a=Md(o),s=[];let l=[];if(a.length===0)return Hs();let u=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER;for(let d=0;d<a.length;d++){const f=uo(a[d]);if(Number.isNaN(f)||nt(f))return $t(Mt(a),`The value cannot be interpreted as a numeric array. ${Mt(f)} is not a number.`);f>u&&(u=f),f<c&&(c=f),s.push(f)}return s.length>0&&(u>i.y_max||c<i.y_min)?l=s.map(d=>u-c===0?u>(i.y_max||1)?i.y_max||1:i.y_min||0:((i.y_max||1)-(i.y_min||0))*((d-c)/(u-c))+(i.y_min||0)):l=s,{...r,copyData:s.join(","),data:{...r.data,values:l,displayValues:s.map(d=>Sa(d))},isMissingValue:nt(o)}},getCellValue(o){var a,s;return o.kind===Z.Loading||((a=o.data)==null?void 0:a.values)===void 0?null:(s=o.data)==null?void 0:s.values}}}function Id(e){return al(eb,e,"line")}Id.isEditableType=!1;function Td(e){return al(nb,e,"bar")}Td.isEditableType=!1;function Dd(e){return al(tb,e,"area")}Dd.isEditableType=!1;function sl(e){const t={kind:Z.Boolean,data:!1,allowOverlay:!1,contentAlign:e.contentAlignment,readonly:!e.isEditable,style:"normal"};return{...e,kind:"checkbox",sortMode:"default",getCell(n){let i=null;return i=Rd(n),i===void 0?$t(Mt(n),"The value cannot be interpreted as boolean."):{...t,data:i,isMissingValue:nt(i)}},getCellValue(n){return n.data===void 0?null:n.data}}}sl.isEditableType=!0;function Du(e,t){return t.startsWith("+")||t.startsWith("-")?e=e.utcOffset(t,!1):e=e.tz(t),e}function ll(e,t,n,i,r,o,a){var h,m;const s=bo({format:n,step:i,timezone:a},t.columnTypeOptions);let l;if(St(s.timezone))try{l=((h=Du(Vl(),s.timezone))==null?void 0:h.utcOffset())||void 0}catch{}let u;St(s.min_value)&&(u=Jo(s.min_value)||void 0);let c;St(s.max_value)&&(c=Jo(s.max_value)||void 0);const d={kind:Z.Custom,allowOverlay:!0,copyData:"",readonly:!t.isEditable,contentAlign:t.contentAlignment,style:t.isPinned?"faded":"normal",data:{kind:"date-picker-cell",date:void 0,displayDate:"",step:((m=s.step)==null?void 0:m.toString())||"1",format:r,min:u,max:c}},f=p=>{const b=Jo(p);return b===null?!t.isRequired:!(b===void 0||St(u)&&o(b)<o(u)||St(c)&&o(b)>o(c))};return{...t,kind:e,sortMode:"default",validateInput:f,getCell(p,b){if(b===!0){const C=f(p);if(C===!1)return $t(Mt(p),"Invalid input.");C instanceof Date&&(p=C)}const y=Jo(p);let w="",S="",M=l;if(y===void 0)return $t(Mt(p),"The value cannot be interpreted as a datetime object.");if(y!==null){let C=Vl.utc(y);if(!C.isValid())return $t(Mt(y),`Invalid moment date. This should never happen. Please report this bug. 
Error: ${C.toString()}`);if(s.timezone){try{C=Du(C,s.timezone)}catch(x){return $t(C.toISOString(),`Failed to adjust to the provided timezone: ${s.timezone}. 
Error: ${x}`)}M=C.utcOffset()}try{S=Tu(C,s.format||n)}catch(x){return $t(C.toISOString(),`Failed to format the date for rendering with: ${s.format}. 
Error: ${x}`)}w=Tu(C,n)}return{...d,copyData:w,isMissingValue:nt(y),data:{...d.data,date:y,displayDate:S,timezoneOffset:M}}},getCellValue(p){var b;return nt((b=p==null?void 0:p.data)==null?void 0:b.date)?null:o(p.data.date)}}}function ul(e){var r,o,a;let t="YYYY-MM-DD HH:mm:ss";((r=e.columnTypeOptions)==null?void 0:r.step)>=60?t="YYYY-MM-DD HH:mm":((o=e.columnTypeOptions)==null?void 0:o.step)<1&&(t="YYYY-MM-DD HH:mm:ss.SSS");const n=ih(e.arrowType),i=St(n)||St((a=e==null?void 0:e.columnTypeOptions)==null?void 0:a.timezone);return ll("datetime",e,i?t+"Z":t,1,"datetime-local",s=>i?s.toISOString():s.toISOString().replace("Z",""),n)}ul.isEditableType=!0;function cl(e){var n,i;let t="HH:mm:ss";return((n=e.columnTypeOptions)==null?void 0:n.step)>=60?t="HH:mm":((i=e.columnTypeOptions)==null?void 0:i.step)<1&&(t="HH:mm:ss.SSS"),ll("time",e,t,1,"time",r=>r.toISOString().split("T")[1].replace("Z",""))}cl.isEditableType=!0;function dl(e){return ll("date",e,"YYYY-MM-DD",1,"date",t=>t.toISOString().split("T")[0])}dl.isEditableType=!0;function Od(e){const t={kind:Z.Image,data:[],displayData:[],readonly:!0,allowOverlay:!0,contentAlign:e.contentAlignment||"center",style:"normal"};return{...e,kind:"image",sortMode:"default",isEditable:!1,getCell(n){const i=St(n)?[Mt(n)]:[];return{...t,data:i,isMissingValue:!St(n),displayData:i}},getCellValue(n){return n.data===void 0||n.data.length===0?null:n.data[0]}}}Od.isEditableType=!1;function Pd(e){const t=e.columnTypeOptions||{};let n;if(t.validate)try{n=new RegExp(t.validate,"us")}catch(a){n=`Invalid validate regex: ${t.validate}.
Error: ${a}`}let i;if(!nt(t.display_text)&&t.display_text.includes("(")&&t.display_text.includes(")"))try{i=new RegExp(t.display_text,"us")}catch{i=void 0}const r={kind:Z.Uri,readonly:!e.isEditable,allowOverlay:!0,contentAlign:e.contentAlignment,style:"normal",hoverEffect:!0,data:"",displayData:"",copyData:""},o=a=>{if(nt(a))return!e.isRequired;const s=Mt(a);return!(t.max_chars&&s.length>t.max_chars||n instanceof RegExp&&n.test(s)===!1)};return{...e,kind:"link",sortMode:"default",validateInput:o,getCell(a,s){if(nt(a))return{...r,data:null,isMissingValue:!0,onClickUri:()=>{}};const l=a;if(typeof n=="string")return $t(Mt(l),n);if(s&&o(l)===!1)return $t(Mt(l),"Invalid input.");let u="";return l&&(i!==void 0?u=Q1(i,l):u=t.display_text||l),{...r,data:l,displayData:u,isMissingValue:nt(l),onClickUri:c=>{window.open(l.startsWith("www.")?`https://${l}`:l,"_blank","noopener,noreferrer"),c.preventDefault()},copyData:l}},getCellValue(a){return nt(a.data)?null:a.data}}}Pd.isEditableType=!0;function fl(e){const t={kind:Z.Bubble,data:[],allowOverlay:!0,contentAlign:e.contentAlignment,style:"normal"};return{...e,kind:"list",sortMode:"default",isEditable:!1,getCell(n){const i=nt(n)?[]:Md(n);return{...t,data:i,isMissingValue:nt(n),copyData:nt(n)?"":Mt(i.map(r=>typeof r=="string"&&r.includes(",")?r.replace(/,/g," "):r))}},getCellValue(n){return nt(n.data)||Aa(n)?null:n.data}}}fl.isEditableType=!1;function hl(e){const t=bo({step:bc(e.arrowType)?1:void 0,min_value:oh(e.arrowType)?0:void 0},e.columnTypeOptions),n=!t.format&&(ah(e.arrowType)||sh(e.arrowType)),i=nt(t.min_value)||t.min_value<0,r=St(t.step)&&!Number.isNaN(t.step)?Ed(t.step):void 0,o={kind:Z.Number,data:void 0,displayData:"",readonly:!e.isEditable,allowOverlay:!0,contentAlign:e.contentAlignment||n?"left":"right",style:e.isPinned?"faded":"normal",allowNegative:i,fixedDecimals:r,thousandSeparator:""},a=s=>{let l=uo(s);if(nt(l))return!e.isRequired;if(Number.isNaN(l))return!1;let u=!1;return St(t.max_value)&&l>t.max_value&&(l=t.max_value,u=!0),St(t.min_value)&&l<t.min_value?!1:u?l:!0};return{...e,kind:"number",sortMode:"smart",validateInput:a,getCell(s,l){if(l===!0){const d=a(s);if(d===!1)return $t(Mt(s),"Invalid input.");typeof d=="number"&&(s=d)}let u=uo(s),c="";if(St(u)){if(Number.isNaN(u))return $t(Mt(s),"The value cannot be interpreted as a number.");if(St(r)&&(u=Z1(u,r)),Number.isInteger(u)&&!Number.isSafeInteger(u))return $t(Mt(s),"The value is larger than the maximum supported integer values in number columns (2^53).");try{n?c=Rs(u,e.arrowType):c=Sa(u,t.format,r)}catch(d){return $t(Mt(u),St(t.format)?`Failed to format the number based on the provided format configuration: (${t.format}). Error: ${d}`:`Failed to format the number. Error: ${d}`)}}return{...o,data:u,displayData:c,isMissingValue:nt(u),copyData:nt(u)?"":Mt(u)}},getCellValue(s){return s.data===void 0?null:s.data}}}hl.isEditableType=!0;function co(e){const t={kind:Z.Text,data:"",displayData:"",allowOverlay:!0,contentAlignment:e.contentAlignment,readonly:!0,style:e.isPinned?"faded":"normal"};return{...e,kind:"object",sortMode:"default",isEditable:!1,getCell(n){try{const i=St(n)?Mt(n):null,r=St(i)?xa(i):"";return{...t,data:i,displayData:r,isMissingValue:nt(n)}}catch(i){return $t(Mt(n),`The value cannot be interpreted as a string. Error: ${i}`)}},getCellValue(n){return n.data===void 0?null:n.data}}}co.isEditableType=!1;function _d(e){const t=bc(e.arrowType),n=bo({min_value:0,max_value:t?100:1,step:t?1:.01,format:t?"%3d%%":"percent"},e.columnTypeOptions);let i;try{i=Sa(n.max_value,n.format)}catch{i=Mt(n.max_value)}const r=nt(n.step)||Number.isNaN(n.step)?void 0:Ed(n.step),o={kind:Z.Custom,allowOverlay:!1,copyData:"",contentAlign:e.contentAlignment,data:{kind:"range-cell",min:n.min_value,max:n.max_value,step:n.step,value:n.min_value,label:String(n.min_value),measureLabel:i,readonly:!0}};return{...e,kind:"progress",sortMode:"smart",isEditable:!1,getCell(a){if(nt(a))return Hs();if(nt(n.min_value)||nt(n.max_value)||Number.isNaN(n.min_value)||Number.isNaN(n.max_value)||n.min_value>=n.max_value)return $t("Invalid min/max parameters",`The min_value (${n.min_value}) and max_value (${n.max_value}) parameters must be valid numbers.`);if(nt(n.step)||Number.isNaN(n.step))return $t("Invalid step parameter",`The step parameter (${n.step}) must be a valid number.`);const s=uo(a);if(Number.isNaN(s)||nt(s))return $t(Mt(a),"The value cannot be interpreted as a number.");if(Number.isInteger(s)&&!Number.isSafeInteger(s))return $t(Mt(a),"The value is larger than the maximum supported integer values in number columns (2^53).");let l="";try{l=Sa(s,n.format,r)}catch(c){return $t(Mt(s),St(n.format)?`Failed to format the number based on the provided format configuration: (${n.format}). Error: ${c}`:`Failed to format the number. Error: ${c}`)}const u=Math.min(n.max_value,Math.max(n.min_value,s));return{...o,isMissingValue:nt(a),copyData:String(s),data:{...o.data,value:u,label:l}}},getCellValue(a){var s,l;return a.kind===Z.Loading||((s=a.data)==null?void 0:s.value)===void 0?null:(l=a.data)==null?void 0:l.value}}}_d.isEditableType=!1;function gl(e){let t="string";const n=bo({options:wc(e.arrowType)?[!0,!1]:e.arrowType.categoricalOptions??[]},e.columnTypeOptions),i=new Set(n.options.map(o=>typeof o));i.size===1&&(i.has("number")||i.has("bigint")?t="number":i.has("boolean")&&(t="boolean"));const r={kind:Z.Custom,allowOverlay:!0,copyData:"",contentAlign:e.contentAlignment,readonly:!e.isEditable,style:e.isPinned?"faded":"normal",data:{kind:"dropdown-cell",allowedValues:[...e.isRequired!==!0?[null]:[],...n.options.filter(o=>o!==null&&o!=="").map(o=>Mt(o))],value:""}};return{...e,kind:"selectbox",sortMode:"default",getCell(o,a){let s=null;return St(o)&&o!==""&&(s=Mt(o)),a&&!r.data.allowedValues.includes(s)?$t(Mt(s),"The value is not part of the allowed options."):{...r,isMissingValue:s===null,copyData:s||"",data:{...r.data,value:s}}},getCellValue(o){var a,s,l,u,c;return nt((a=o.data)==null?void 0:a.value)||((s=o.data)==null?void 0:s.value)===""?null:t==="number"?uo((l=o.data)==null?void 0:l.value)??null:t==="boolean"?Rd((u=o.data)==null?void 0:u.value)??null:(c=o.data)==null?void 0:c.value}}}gl.isEditableType=!0;function ml(e){const t=e.columnTypeOptions||{};let n;if(t.validate)try{n=new RegExp(t.validate,"us")}catch(o){n=`Invalid validate regex: ${t.validate}.
Error: ${o}`}const i={kind:Z.Text,data:"",displayData:"",allowOverlay:!0,contentAlignment:e.contentAlignment,readonly:!e.isEditable,style:e.isPinned?"faded":"normal"},r=o=>{if(nt(o))return!e.isRequired;let a=Mt(o),s=!1;return t.max_chars&&a.length>t.max_chars&&(a=a.slice(0,t.max_chars),s=!0),n instanceof RegExp&&n.test(a)===!1?!1:s?a:!0};return{...e,kind:"text",sortMode:"default",validateInput:r,getCell(o,a){if(typeof n=="string")return $t(Mt(o),n);if(a){const s=r(o);if(s===!1)return $t(Mt(o),"Invalid input.");typeof s=="string"&&(o=s)}try{const s=St(o)?Mt(o):null,l=St(s)?xa(s):"";return{...i,isMissingValue:nt(s),data:s,displayData:l}}catch(s){return $t("Incompatible value",`The value cannot be interpreted as string. Error: ${s}`)}},getCellValue(o){return o.data===void 0?null:o.data}}}ml.isEditableType=!0;const Ou=fo("img",{target:"e17fx5ar0"})({maxWidth:"100%",maxHeight:"37.5rem",objectFit:"scale-down"}),rb=({urls:e})=>{const t=e&&e.length>0?e[0]:"";return t.startsWith("http")?Qt("a",{href:t,target:"_blank",rel:"noreferrer noopener",children:Qt(Ou,{src:t})}):Qt(Ou,{src:t})},Pu=new Map(Object.entries({object:co,text:ml,checkbox:sl,selectbox:gl,list:fl,number:hl,link:Pd,datetime:ul,date:dl,time:cl,line_chart:Id,bar_chart:Td,area_chart:Dd,image:Od,progress:_d})),ib=[];var ob=lh,ab=uh,sb=ch,lb=dh,ub=fh,cb=hh,db=gh,fb=mh,hb="[object Map]",gb="[object Set]",mb=Object.prototype,pb=mb.hasOwnProperty;function vb(e){if(e==null)return!0;if(ub(e)&&(lb(e)||typeof e=="string"||typeof e.splice=="function"||cb(e)||fb(e)||sb(e)))return!e.length;var t=ab(e);if(t==hb||t==gb)return!e.size;if(db(e))return!ob(e).length;for(var n in e)if(pb.call(e,n))return!1;return!0}var bb=vb;const wb=Mi(bb);function _u(e,t,n){const i=new RegExp(`${e}[,\\s].*{(?:[^}]*[\\s;]{1})?${t}:\\s*([^;}]+)[;]?.*}`,"gm");n=n.replace(/{/g," {");const r=i.exec(n);if(r)return r[1].trim()}function yb(e,t,n){const i={},r=_u(t,"color",n);r&&(i.textDark=r);const o=_u(t,"background-color",n);return o&&(i.bgCell=o),o==="yellow"&&r===void 0&&(i.textDark="#31333F"),i?{...e,themeOverride:i}:e}function Cb(e){return Ch(e)||Sh(e)?ml:xh(e)?ul:yc(e)?cl:kh(e)?dl:Mh(e)||Rh(e)?co:wc(e)?sl:Eh(e)?hl:Ih(e)?gl:Th(e)?fl:co}function Ld(e){const t=e.length>0?e[e.length-1]:"",n=e.length>1?e.slice(0,-1).filter(i=>i!=="").join(" / "):void 0;return{title:t,group:n}}function pl(e){return{group:void 0,isEditable:!1,isIndex:!1,isPinned:!1,isHidden:!1,isStretched:!1,...e}}function Sb(e,t){const n=e.columnNames.map(s=>s[t]),{title:i,group:r}=Ld(n),o=e.columnTypes[t];let a=!0;return Dh(o)&&(a=!1),pl({id:`_index-${t}`,indexNumber:t,name:i,title:i,group:r,isEditable:a,arrowType:o,isIndex:!0,isPinned:!0})}function xb(e,t){const n=e.columnNames.map(a=>a[t]),{title:i,group:r}=Ld(n),o=e.columnTypes[t];return pl({id:`_column-${i}-${t}`,indexNumber:t,name:i,isEditable:!0,title:i,arrowType:o,group:r})}function Fd(){return pl({id:"_empty-index",indexNumber:0,title:"",name:"",isEditable:!1,isIndex:!0,isPinned:!0,arrowType:{type:ph.INDEX,arrowField:new vh("",new bh,!0),pandasType:void 0}})}function kb(e){const t=[],{dimensions:n}=e,i=n.numIndexColumns,r=n.numDataColumns;if(i===0&&r===0)return t.push(Fd()),t;for(let o=0;o<i;o++)t.push(Sb(e,o));for(let o=0;o<r;o++)t.push(xb(e,o+i));return t}function Mb(e,t,n,i=void 0){var o,a,s,l,u,c;let r;if(e.kind==="object")r=e.getCell(St(t.content)?xa(Rs(t.content,t.contentType)):null);else if(["time","date","datetime"].includes(e.kind)&&St(t.content)&&(typeof t.content=="number"||typeof t.content=="bigint")){let d;yc(e.arrowType)&&St((a=(o=t.field)==null?void 0:o.type)==null?void 0:a.unit)?d=wh(t.content,t.field):d=Zr.utc(Number(t.content)).toDate(),r=e.getCell(d)}else if(yh(e.arrowType)){const d=nt(t.content)?null:Rs(t.content,t.contentType);r=e.getCell(d)}else r=e.getCell(t.content);if(Si(r))return r;if(!e.isEditable){if(n&&St(n==null?void 0:n.displayContent)){const d=xa(n.displayContent);r.kind===Z.Text?r={...r,displayData:d}:r.kind===Z.Number&&nt((s=e.columnTypeOptions)==null?void 0:s.format)?r={...r,displayData:d}:r.kind===Z.Uri&&nt((l=e.columnTypeOptions)==null?void 0:l.display_text)?r={...r,displayData:d}:r.kind===Z.Custom&&((u=r.data)==null?void 0:u.kind)==="date-picker-cell"&&nt((c=e.columnTypeOptions)==null?void 0:c.format)&&(r={...r,data:{...r.data,displayDate:d}})}i&&(n!=null&&n.cssId)&&(r=yb(r,n.cssId,i))}return r}const la="_index",Lu="_pos:",Fu={small:75,medium:200,large:400};function Rb(e){if(!nt(e)){if(typeof e=="number")return e;if(e in Fu)return Fu[e]}}const Qo=(e,t)=>Zh(e,t,(i,r)=>{if(Oh(r))return r});function Eb(e,t){if(!t)return e;let n={};return e.isIndex&&t.has(la)&&(n=Qo(n,t.get(la)??{})),t.has(`${Lu}${e.indexNumber}`)&&(n=Qo(n,t.get(`${Lu}${e.indexNumber}`)??{})),t.has(e.name)&&e.name!==la&&(n=Qo(n,t.get(e.name)??{})),t.has(e.id)&&(n=Qo(n,t.get(e.id)??{})),wb(n)?e:vc({...e},{title:n.label,width:Rb(n.width),isEditable:St(n.disabled)?!n.disabled:void 0,isHidden:n.hidden,isPinned:n.pinned,isRequired:n.required,columnTypeOptions:n.type_config,contentAlignment:n.alignment,defaultValue:n.default,help:n.help})}function Ib(e){if(!e)return new Map;try{return new Map(Object.entries(JSON.parse(e)))}catch(t){return Cc(t),new Map}}function Tb(e){var i;const t=(i=e.columnTypeOptions)==null?void 0:i.type;let n;return St(t)&&Pu.has(t)&&(n=Pu.get(t)),nt(n)&&(n=Cb(e.arrowType)),n}function Db(e,t,n,i){const r=Da(),o=ee.useMemo(()=>Ib(e.columns),[e.columns]),[a,s]=ee.useState(o);ee.useEffect(()=>{s(o)},[o]);const l=e.useContainerWidth||St(e.width)&&e.width>0;return{columns:ee.useMemo(()=>{const c=kb(t).map(m=>{let p={...m,...Eb(m,a),isStretched:l};const b=Tb(p);return(e.editingMode===Yn.EditingMode.READ_ONLY||n||b.isEditableType===!1)&&(p={...p,isEditable:!1}),e.editingMode!==Yn.EditingMode.READ_ONLY&&p.isEditable==!0&&(p={...p,icon:"editable"},p.isRequired&&e.editingMode===Yn.EditingMode.DYNAMIC&&(p={...p,isHidden:!1})),b(p,r)}).filter(m=>!m.isHidden),d=[],f=[];i!=null&&i.length?(c.forEach(m=>{m.isIndex&&!i.includes(m.name)&&!i.includes(m.id)&&m.isPinned!==!1&&d.push(m)}),i.forEach(m=>{const p=c.find(b=>b.name===m||b.id===m);p&&(p.isPinned?d.push(p):f.push(p))})):c.forEach(m=>{m.isPinned?d.push(m):f.push(m)});const h=[...d,...f];return h.length>0?h:[co(Fd())]},[t,a,l,n,e.editingMode,i,r]),setColumnConfigMapping:s}}function oo(e){return e.isIndex?la:nt(e.name)?"":e.name}class ea{constructor(t){this.editedCells=new Map,this.addedRows=[],this.deletedRows=[],this.numRows=0,this.numRows=t}toJson(t){const n=new Map;t.forEach(o=>{n.set(o.indexNumber,o)});const i={edited_rows:{},added_rows:[],deleted_rows:[]};return this.editedCells.forEach((o,a,s)=>{const l={};o.forEach((u,c,d)=>{const f=n.get(c);f&&(l[oo(f)]=f.getCellValue(u))}),i.edited_rows[a]=l}),this.addedRows.forEach(o=>{const a={};let s=!1;o.forEach((l,u,c)=>{const d=n.get(u);if(d){const f=d.getCellValue(l);d.isRequired&&d.isEditable&&Aa(l)&&(s=!0),St(f)&&(a[oo(d)]=f)}}),s||i.added_rows.push(a)}),i.deleted_rows=this.deletedRows,JSON.stringify(i,(o,a)=>a===void 0?null:a)}fromJson(t,n){this.editedCells=new Map,this.addedRows=[],this.deletedRows=[];const i=JSON.parse(t),r=new Map;n.forEach(a=>{r.set(a.indexNumber,a)});const o=new Map;n.forEach(a=>{o.set(oo(a),a)}),Object.keys(i.edited_rows).forEach(a=>{const s=Number(a),l=i.edited_rows[a];Object.keys(l).forEach(u=>{var f;const c=l[u],d=o.get(u);if(d){const h=d.getCell(c);h&&(this.editedCells.has(s)||this.editedCells.set(s,new Map),(f=this.editedCells.get(s))==null||f.set(d.indexNumber,h))}})}),i.added_rows.forEach(a=>{const s=new Map;n.forEach(l=>{s.set(l.indexNumber,l.getCell(null))}),Object.keys(a).forEach(l=>{const u=a[l],c=o.get(l);if(c){const d=c.getCell(u);d&&s.set(c.indexNumber,d)}}),this.addedRows.push(s)}),this.deletedRows=i.deleted_rows}isAddedRow(t){return t>=this.numRows}getCell(t,n){if(this.isAddedRow(n))return this.addedRows[n-this.numRows].get(t);const i=this.editedCells.get(n);if(i!==void 0)return i.get(t)}setCell(t,n,i){if(this.isAddedRow(n)){if(n-this.numRows>=this.addedRows.length)return;this.addedRows[n-this.numRows].set(t,i)}else this.editedCells.get(n)===void 0&&this.editedCells.set(n,new Map),this.editedCells.get(n).set(t,i)}addRow(t){this.addedRows.push(t)}deleteRows(t){t.sort((n,i)=>i-n).forEach(n=>{this.deleteRow(n)})}deleteRow(t){if(!(nt(t)||t<0)){if(this.isAddedRow(t)){this.addedRows.splice(t-this.numRows,1);return}this.deletedRows.includes(t)||(this.deletedRows.push(t),this.deletedRows=this.deletedRows.sort((n,i)=>n-i)),this.editedCells.delete(t)}}getOriginalRowIndex(t){let n=t;for(let i=0;i<this.deletedRows.length&&!(this.deletedRows[i]>n);i++)n+=1;return n}getNumRows(){return this.numRows+this.addedRows.length-this.deletedRows.length}}function Ob(e,t,n,i,r,o){const a=ee.useMemo(()=>e.filter(c=>c.isPinned).reduce((c,d)=>c+(d.width??i*2),0)>n*.6,[e,n,i]),s=t||a?0:e.filter(c=>c.isPinned).length,l=ee.useCallback(c=>{o(d=>{const f=new Map(d),h=f.get(c);return f.set(c,{...h||{},pinned:!1}),f}),r(!0,!1)},[r,o]);return{pinColumn:ee.useCallback(c=>{o(d=>{const f=new Map(d),h=f.get(c);return f.set(c,{...h||{},pinned:!0}),f}),r(!0,!1)},[r,o]),unpinColumn:l,freezeColumns:s}}function Pb(e,t,n,i,r){return{onColumnMoved:ee.useCallback((a,s)=>{const l=[...e],[u]=l.splice(a,1);l.splice(s,0,u),s<t&&!u.isPinned?n(u.id):s>=t&&u.isPinned&&i(u.id),r(l.map(c=>c.id))},[e,t,n,i,r])}}function _b(e){const[t,n]=g.useState(()=>new Map),i=ee.useCallback((o,a,s,l)=>{o.id&&n(new Map(t).set(o.id,l))},[t]);return{columns:ee.useMemo(()=>e.map(o=>o.id&&t.has(o.id)&&t.get(o.id)!==void 0?{...o,width:t.get(o.id),grow:0}:o),[e,t]),onColumnResize:i}}function Lb(e){var t,n;switch(e.kind){case Z.Number:return((t=e.data)==null?void 0:t.toString())??"";case Z.Boolean:return((n=e.data)==null?void 0:n.toString())??"";case Z.Markdown:case Z.RowID:case Z.Text:case Z.Uri:return e.data??"";case Z.Bubble:case Z.Image:return e.data.join("");case Z.Drilldown:return e.data.map(i=>i.text).join("");case Z.Protected:case Z.Loading:return"";case Z.Custom:return e.copyData}}function Au(e){if(typeof e=="number")return e;if(e.length>0){const t=Number(e);isNaN(t)||(e=t)}return e}function Fb(e,t){return e=Au(e),t=Au(t),typeof e=="string"&&typeof t=="string"?e.localeCompare(t):typeof e=="number"&&typeof t=="number"?e===t?0:e>t?1:-1:e==t?0:e>t?1:-1}function Ab(e,t){return e>t?1:e===t?0:-1}function Hb(e){const{sort:t,rows:n,getCellContent:i}=e;let r=t===void 0?void 0:e.columns.findIndex(u=>t.column===u||u.id!==void 0&&t.column.id===u.id);r===-1&&(r=void 0);const o=(t==null?void 0:t.direction)??"asc",a=g.useMemo(()=>{if(r===void 0)return;const u=new Array(n),c=[r,0];for(let f=0;f<n;f++)c[1]=f,u[f]=Lb(i(c));let d;return(t==null?void 0:t.mode)==="raw"?d=dr(n).sort((f,h)=>Ab(u[f],u[h])):(t==null?void 0:t.mode)==="smart"?d=dr(n).sort((f,h)=>Fb(u[f],u[h])):d=dr(n).sort((f,h)=>u[f].localeCompare(u[h])),o==="desc"&&d.reverse(),d},[i,n,t==null?void 0:t.mode,o,r]),s=g.useCallback(u=>a===void 0?u:a[u],[a]),l=g.useCallback(([u,c])=>a===void 0?i([u,c]):(c=a[c],i([u,c])),[i,a]);return a===void 0?{getCellContent:e.getCellContent,getOriginalIndex:s}:{getOriginalIndex:s,getCellContent:l}}function zb(e,t){return t===void 0?e:e.map(n=>n.id===t.column.id?{...n,title:t.direction==="asc"?`↑ ${n.title}`:`↓ ${n.title}`}:n)}function $b(e,t,n){const[i,r]=ee.useState(),{getCellContent:o,getOriginalIndex:a}=Hb({columns:t.map(u=>zs(u)),getCellContent:n,rows:e,sort:i}),s=ee.useMemo(()=>zb(t,i),[t,i]),l=ee.useCallback((u,c,d)=>{const f=s[u];let h;c==="auto"?(h="asc",i&&i.column.id===f.id&&(i.direction==="asc"?h="desc":h=void 0)):h=c,h===void 0||d&&h===(i==null?void 0:i.direction)?r(void 0):r({column:zs(f),direction:h,mode:f.sortMode})},[i,s]);return{columns:s,sortColumn:l,getOriginalIndex:a,getCellContent:o}}const Vb={kind:Z.Custom,isMatch:e=>e.data.kind==="sparkline-cell",needsHover:!0,needsHoverPosition:!0,draw:(e,t)=>{const{ctx:n,theme:i,rect:r,hoverAmount:o,hoverX:a}=e;let{values:s,yAxis:l,color:u,graphKind:c="area",displayValues:d,hideAxis:f}=t.data;const[h,m]=l;if(s.length===0)return!0;s=s.map(x=>Math.min(1,Math.max(0,(x-h)/(m-h))));const p=i.cellHorizontalPadding,b=p+r.x,y=r.y+3,w=r.height-6,S=r.width-p*2,M=m-h,C=m<=0?y:h>=0?y+w:y+w*(m/M);if(!f&&h<=0&&m>=0&&(n.beginPath(),n.moveTo(b,C),n.lineTo(b+S,C),n.globalAlpha=.4,n.lineWidth=1,n.strokeStyle=i.textLight,n.stroke(),n.globalAlpha=1),c==="bar"){n.beginPath();const x=2,R=(s.length-1)*x,I=(S-R)/s.length;let E=b;for(const L of s){const z=y+w-L*w;n.moveTo(E,C),n.lineTo(E+I,C),n.lineTo(E+I,z),n.lineTo(E,z),E+=I+x}n.fillStyle=t.data.color??i.accentColor,n.fill()}else{s.length===1&&(s=[s[0],s[0]],d&&(d=[d[0],d[0]])),n.beginPath();const x=(r.width-16)/(s.length-1),R=s.map((E,L)=>({x:b+x*L,y:y+w-E*w}));n.moveTo(R[0].x,R[0].y);let I=0;if(R.length>2)for(I=1;I<R.length-2;I++){const E=(R[I].x+R[I+1].x)/2,L=(R[I].y+R[I+1].y)/2;n.quadraticCurveTo(R[I].x,R[I].y,E,L)}if(n.quadraticCurveTo(R[I].x,R[I].y,R[I+1].x,R[I+1].y),n.strokeStyle=u??i.accentColor,n.lineWidth=1+o*.5,n.stroke(),n.lineTo(r.x+r.width-p,C),n.lineTo(r.x+p,C),n.closePath(),c==="area"){n.globalAlpha=.2+.2*o;const E=n.createLinearGradient(0,y,0,y+w*1.4);E.addColorStop(0,u??i.accentColor);const[L,z,_]=va(u??i.accentColor);E.addColorStop(1,`rgba(${L}, ${z}, ${_}, 0)`),n.fillStyle=E,n.fill(),n.globalAlpha=1}if(a!==void 0&&(c==="line"||c==="area")&&d!==void 0){n.beginPath();const E=Math.min(s.length-1,Math.max(0,Math.round((a-p)/x)));n.moveTo(b+E*x,r.y+1),n.lineTo(b+E*x,r.y+r.height),n.lineWidth=1,n.strokeStyle=i.textLight,n.stroke(),n.save(),n.font=`8px ${i.fontFamily}`,n.fillStyle=i.textMedium,n.textBaseline="top",n.fillText(d[E],b,r.y+i.cellVerticalPadding),n.restore()}}return!0},provideEditor:()=>{},onPaste:(e,t)=>t};function Hu(e,t,n,i,r,o){if(!(i<=0||r<=0)){if(typeof o=="number"&&o<=0){e.rect(t,n,i,r);return}typeof o=="number"&&(o={tl:o,tr:o,br:o,bl:o}),o={tl:Math.min(o.tl,r/2,i/2),tr:Math.min(o.tr,r/2,i/2),bl:Math.min(o.bl,r/2,i/2),br:Math.min(o.br,r/2,i/2)},o.tl=Math.max(0,o.tl),o.tr=Math.max(0,o.tr),o.br=Math.max(0,o.br),o.bl=Math.max(0,o.bl),e.moveTo(t+o.tl,n),e.arcTo(t+i,n,t+i,n+o.tr,o.tr),e.arcTo(t+i,n+r,t+i-o.br,n+r,o.br),e.arcTo(t,n+r,t,n+r-o.bl,o.bl),e.arcTo(t,n,t+o.tl,n,o.tl)}}function zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zu(Object(n),!0).forEach(function(i){qi(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zu(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Mr(e,t){if(e==null)return{};var n,i,r=Ph(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Nb=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Bb(e){var t=e.defaultInputValue,n=t===void 0?"":t,i=e.defaultMenuIsOpen,r=i===void 0?!1:i,o=e.defaultValue,a=o===void 0?null:o,s=e.inputValue,l=e.menuIsOpen,u=e.onChange,c=e.onInputChange,d=e.onMenuClose,f=e.onMenuOpen,h=e.value,m=Mr(e,Nb),p=g.useState(s!==void 0?s:n),b=Sr(p,2),y=b[0],w=b[1],S=g.useState(l!==void 0?l:r),M=Sr(S,2),C=M[0],x=M[1],R=g.useState(h!==void 0?h:a),I=Sr(R,2),E=I[0],L=I[1],z=g.useCallback(function(ce,ke){typeof u=="function"&&u(ce,ke),L(ce)},[u]),_=g.useCallback(function(ce,ke){var ae;typeof c=="function"&&(ae=c(ce,ke)),w(ae!==void 0?ae:ce)},[c]),F=g.useCallback(function(){typeof f=="function"&&f(),x(!0)},[f]),P=g.useCallback(function(){typeof d=="function"&&d(),x(!1)},[d]),ne=s!==void 0?s:y,J=l!==void 0?l:C,oe=h!==void 0?h:E;return Xe(Xe({},m),{},{inputValue:ne,menuIsOpen:J,onChange:z,onInputChange:_,onMenuClose:P,onMenuOpen:F,value:oe})}function Wb(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Ub=Math.min,Xb=Math.max,ka=Math.round,ta=Math.floor,Ma=e=>({x:e,y:e});function Yb(e){const{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function Ha(){return typeof window<"u"}function Ad(e){return zd(e)?(e.nodeName||"").toLowerCase():"#document"}function kr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hd(e){var t;return(t=(zd(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zd(e){return Ha()?e instanceof Node||e instanceof kr(e).Node:!1}function Gb(e){return Ha()?e instanceof Element||e instanceof kr(e).Element:!1}function vl(e){return Ha()?e instanceof HTMLElement||e instanceof kr(e).HTMLElement:!1}function $u(e){return!Ha()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kr(e).ShadowRoot}function $d(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=bl(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(r)}function jb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qb(e){return["html","body","#document"].includes(Ad(e))}function bl(e){return kr(e).getComputedStyle(e)}function Kb(e){if(Ad(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$u(e)&&e.host||Hd(e);return $u(t)?t.host:t}function Vd(e){const t=Kb(e);return qb(t)?e.ownerDocument?e.ownerDocument.body:e.body:vl(t)&&$d(t)?t:Vd(t)}function Ra(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=Vd(e),o=r===((i=e.ownerDocument)==null?void 0:i.body),a=kr(r);if(o){const s=$s(a);return t.concat(a,a.visualViewport||[],$d(r)?r:[],s&&n?Ra(s):[])}return t.concat(r,Ra(r,[],n))}function $s(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Zb(e){const t=bl(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=vl(e),o=r?e.offsetWidth:n,a=r?e.offsetHeight:i,s=ka(n)!==o||ka(i)!==a;return s&&(n=o,i=a),{width:n,height:i,$:s}}function wl(e){return Gb(e)?e:e.contextElement}function Vu(e){const t=wl(e);if(!vl(t))return Ma(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:o}=Zb(t);let a=(o?ka(n.width):n.width)/i,s=(o?ka(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const Jb=Ma(0);function Qb(e){const t=kr(e);return!jb()||!t.visualViewport?Jb:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ew(e,t,n){return!1}function Nu(e,t,n,i){t===void 0&&(t=!1);const r=e.getBoundingClientRect(),o=wl(e);let a=Ma(1);t&&(a=Vu(e));const s=ew()?Qb(o):Ma(0);let l=(r.left+s.x)/a.x,u=(r.top+s.y)/a.y,c=r.width/a.x,d=r.height/a.y;if(o){const f=kr(o),h=i;let m=f,p=$s(m);for(;p&&i&&h!==m;){const b=Vu(p),y=p.getBoundingClientRect(),w=bl(p),S=y.left+(p.clientLeft+parseFloat(w.paddingLeft))*b.x,M=y.top+(p.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,u*=b.y,c*=b.x,d*=b.y,l+=S,u+=M,m=kr(p),p=$s(m)}}return Yb({width:c,height:d,x:l,y:u})}function tw(e,t){let n=null,i;const r=Hd(e);function o(){var s;clearTimeout(i),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(s||t(),!d||!f)return;const h=ta(c),m=ta(r.clientWidth-(u+d)),p=ta(r.clientHeight-(c+f)),b=ta(u),w={rootMargin:-h+"px "+-m+"px "+-p+"px "+-b+"px",threshold:Xb(0,Ub(1,l))||1};let S=!0;function M(C){const x=C[0].intersectionRatio;if(x!==l){if(!S)return a();x?a(!1,x):i=setTimeout(()=>{a(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(M,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(M,w)}n.observe(e)}return a(!0),o}function nw(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=wl(e),c=r||o?[...u?Ra(u):[],...Ra(t)]:[];c.forEach(y=>{r&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=u&&s?tw(u,n):null;let f=-1,h=null;a&&(h=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=h)==null||S.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let m,p=l?Nu(e):null;l&&b();function b(){const y=Nu(e);p&&(y.x!==p.x||y.y!==p.y||y.width!==p.width||y.height!==p.height)&&n(),p=y,m=requestAnimationFrame(b)}return n(),()=>{var y;c.forEach(w=>{r&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(m)}}var Vs=g.useLayoutEffect,rw=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ea=function(){};function iw(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function ow(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o=[].concat(i);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(iw(e,a)));return o.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var Bu=function(t){return gw(t)?t.filter(Boolean):Lh(t)==="object"&&t!==null?[t]:[]},Nd=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=Mr(t,rw);return Xe({},n)},rn=function(t,n,i){var r=t.cx,o=t.getStyles,a=t.getClassNames,s=t.className;return{css:o(n,t),className:r(i??{},a(n,t),s)}};function za(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function aw(e){return za(e)?window.innerHeight:e.clientHeight}function Bd(e){return za(e)?window.pageYOffset:e.scrollTop}function Ia(e,t){if(za(e)){window.scrollTo(0,t);return}e.scrollTop=t}function sw(e){var t=getComputedStyle(e),n=t.position==="absolute",i=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var r=e;r=r.parentElement;)if(t=getComputedStyle(r),!(n&&t.position==="static")&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return document.documentElement}function lw(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t}function na(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ea,r=Bd(e),o=t-r,a=10,s=0;function l(){s+=a;var u=lw(s,r,o,n);Ia(e,u),s<n?window.requestAnimationFrame(l):i(e)}l()}function Wu(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=t.offsetHeight/3;i.bottom+r>n.bottom?Ia(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):i.top-r<n.top&&Ia(e,Math.max(t.offsetTop-r,0))}function uw(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Uu(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function cw(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Wd=!1,dw={get passive(){return Wd=!0}},ra=typeof window<"u"?window:{};ra.addEventListener&&ra.removeEventListener&&(ra.addEventListener("p",Ea,dw),ra.removeEventListener("p",Ea,!1));var fw=Wd;function hw(e){return e!=null}function gw(e){return Array.isArray(e)}function ia(e,t,n){return e?t:n}var mw=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=Object.entries(t).filter(function(a){var s=Sr(a,1),l=s[0];return!i.includes(l)});return o.reduce(function(a,s){var l=Sr(s,2),u=l[0],c=l[1];return a[u]=c,a},{})},pw=["children","innerProps"],vw=["children","innerProps"];function bw(e){var t=e.maxHeight,n=e.menuEl,i=e.minHeight,r=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.controlHeight,l=sw(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var c=l.getBoundingClientRect(),d=c.height,f=n.getBoundingClientRect(),h=f.bottom,m=f.height,p=f.top,b=n.offsetParent.getBoundingClientRect(),y=b.top,w=a?window.innerHeight:aw(l),S=Bd(l),M=parseInt(getComputedStyle(n).marginBottom,10),C=parseInt(getComputedStyle(n).marginTop,10),x=y-C,R=w-p,I=x+S,E=d-S-p,L=h-w+S+M,z=S+p-C,_=160;switch(r){case"auto":case"bottom":if(R>=m)return{placement:"bottom",maxHeight:t};if(E>=m&&!a)return o&&na(l,L,_),{placement:"bottom",maxHeight:t};if(!a&&E>=i||a&&R>=i){o&&na(l,L,_);var F=a?R-M:E-M;return{placement:"bottom",maxHeight:F}}if(r==="auto"||a){var P=t,ne=a?x:I;return ne>=i&&(P=Math.min(ne-M-s,t)),{placement:"top",maxHeight:P}}if(r==="bottom")return o&&Ia(l,L),{placement:"bottom",maxHeight:t};break;case"top":if(x>=m)return{placement:"top",maxHeight:t};if(I>=m&&!a)return o&&na(l,z,_),{placement:"top",maxHeight:t};if(!a&&I>=i||a&&x>=i){var J=t;return(!a&&I>=i||a&&x>=i)&&(J=a?x-C:I-C),o&&na(l,z,_),{placement:"top",maxHeight:J}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return u}function ww(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var Ud=function(t){return t==="auto"?"bottom":t},yw=function(t,n){var i,r=t.placement,o=t.theme,a=o.borderRadius,s=o.spacing,l=o.colors;return Xe((i={label:"menu"},qi(i,ww(r),"100%"),qi(i,"position","absolute"),qi(i,"width","100%"),qi(i,"zIndex",1),i),n?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},Xd=g.createContext(null),Cw=function(t){var n=t.children,i=t.minMenuHeight,r=t.maxMenuHeight,o=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,u=g.useContext(Xd)||{},c=u.setPortalPlacement,d=g.useRef(null),f=g.useState(r),h=Sr(f,2),m=h[0],p=h[1],b=g.useState(null),y=Sr(b,2),w=y[0],S=y[1],M=l.spacing.controlHeight;return Vs(function(){var C=d.current;if(C){var x=a==="fixed",R=s&&!x,I=bw({maxHeight:r,menuEl:C,minHeight:i,placement:o,shouldScroll:R,isFixedPosition:x,controlHeight:M});p(I.maxHeight),S(I.placement),c==null||c(I.placement)}},[r,o,a,s,i,c,M]),n({ref:d,placerProps:Xe(Xe({},t),{},{placement:w||Ud(o),maxHeight:m})})},Sw=function(t){var n=t.children,i=t.innerRef,r=t.innerProps;return Be("div",tt({},rn(t,"menu",{menu:!0}),{ref:i},r),n)},xw=Sw,kw=function(t,n){var i=t.maxHeight,r=t.theme.spacing.baseUnit;return Xe({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:r,paddingTop:r})},Mw=function(t){var n=t.children,i=t.innerProps,r=t.innerRef,o=t.isMulti;return Be("div",tt({},rn(t,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:r},i),n)},Yd=function(t,n){var i=t.theme,r=i.spacing.baseUnit,o=i.colors;return Xe({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},Rw=Yd,Ew=Yd,Iw=function(t){var n=t.children,i=n===void 0?"No options":n,r=t.innerProps,o=Mr(t,pw);return Be("div",tt({},rn(Xe(Xe({},o),{},{children:i,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),i)},Tw=function(t){var n=t.children,i=n===void 0?"Loading...":n,r=t.innerProps,o=Mr(t,vw);return Be("div",tt({},rn(Xe(Xe({},o),{},{children:i,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),i)},Dw=function(t){var n=t.rect,i=t.offset,r=t.position;return{left:n.left,position:r,top:i,width:n.width,zIndex:1}},Ow=function(t){var n=t.appendTo,i=t.children,r=t.controlElement,o=t.innerProps,a=t.menuPlacement,s=t.menuPosition,l=g.useRef(null),u=g.useRef(null),c=g.useState(Ud(a)),d=Sr(c,2),f=d[0],h=d[1],m=g.useMemo(function(){return{setPortalPlacement:h}},[]),p=g.useState(null),b=Sr(p,2),y=b[0],w=b[1],S=g.useCallback(function(){if(r){var R=uw(r),I=s==="fixed"?0:window.pageYOffset,E=R[f]+I;(E!==(y==null?void 0:y.offset)||R.left!==(y==null?void 0:y.rect.left)||R.width!==(y==null?void 0:y.rect.width))&&w({offset:E,rect:R})}},[r,s,f,y==null?void 0:y.offset,y==null?void 0:y.rect.left,y==null?void 0:y.rect.width]);Vs(function(){S()},[S]);var M=g.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),r&&l.current&&(u.current=nw(r,l.current,S,{elementResize:"ResizeObserver"in window}))},[r,S]);Vs(function(){M()},[M]);var C=g.useCallback(function(R){l.current=R,M()},[M]);if(!n&&s!=="fixed"||!y)return null;var x=Be("div",tt({ref:C},rn(Xe(Xe({},t),{},{offset:y.offset,position:s,rect:y.rect}),"menuPortal",{"menu-portal":!0}),o),i);return Be(Xd.Provider,{value:m},n?Sc.createPortal(x,n):x)},Pw=function(t){var n=t.isDisabled,i=t.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},_w=function(t){var n=t.children,i=t.innerProps,r=t.isDisabled,o=t.isRtl;return Be("div",tt({},rn(t,"container",{"--is-disabled":r,"--is-rtl":o}),i),n)},Lw=function(t,n){var i=t.theme.spacing,r=t.isMulti,o=t.hasValue,a=t.selectProps.controlShouldRenderValue;return Xe({alignItems:"center",display:r&&o&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},Fw=function(t){var n=t.children,i=t.innerProps,r=t.isMulti,o=t.hasValue;return Be("div",tt({},rn(t,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":o}),i),n)},Aw=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Hw=function(t){var n=t.children,i=t.innerProps;return Be("div",tt({},rn(t,"indicatorsContainer",{indicators:!0}),i),n)},Xu,zw=["size"],$w=["innerProps","isRtl","size"],Vw={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Gd=function(t){var n=t.size,i=Mr(t,zw);return Be("svg",tt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Vw},i))},yl=function(t){return Be(Gd,tt({size:20},t),Be("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},jd=function(t){return Be(Gd,tt({size:20},t),Be("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},qd=function(t,n){var i=t.isFocused,r=t.theme,o=r.spacing.baseUnit,a=r.colors;return Xe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:i?a.neutral60:a.neutral20,padding:o*2,":hover":{color:i?a.neutral80:a.neutral40}})},Nw=qd,Bw=function(t){var n=t.children,i=t.innerProps;return Be("div",tt({},rn(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),n||Be(jd,null))},Ww=qd,Uw=function(t){var n=t.children,i=t.innerProps;return Be("div",tt({},rn(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),n||Be(yl,null))},Xw=function(t,n){var i=t.isDisabled,r=t.theme,o=r.spacing.baseUnit,a=r.colors;return Xe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:i?a.neutral10:a.neutral20,marginBottom:o*2,marginTop:o*2})},Yw=function(t){var n=t.innerProps;return Be("span",tt({},n,rn(t,"indicatorSeparator",{"indicator-separator":!0})))},Gw=_h(Xu||(Xu=Wb([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),jw=function(t,n){var i=t.isFocused,r=t.size,o=t.theme,a=o.colors,s=o.spacing.baseUnit;return Xe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},n?{}:{color:i?a.neutral60:a.neutral20,padding:s*2})},bs=function(t){var n=t.delay,i=t.offset;return Be("span",{css:xc({animation:"".concat(Gw," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},qw=function(t){var n=t.innerProps,i=t.isRtl,r=t.size,o=r===void 0?4:r,a=Mr(t,$w);return Be("div",tt({},rn(Xe(Xe({},a),{},{innerProps:n,isRtl:i,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Be(bs,{delay:0,offset:i}),Be(bs,{delay:160,offset:!0}),Be(bs,{delay:320,offset:!i}))},Kw=function(t,n){var i=t.isDisabled,r=t.isFocused,o=t.theme,a=o.colors,s=o.borderRadius,l=o.spacing;return Xe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:i?a.neutral5:a.neutral0,borderColor:i?a.neutral10:r?a.primary:a.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:r?a.primary:a.neutral30}})},Zw=function(t){var n=t.children,i=t.isDisabled,r=t.isFocused,o=t.innerRef,a=t.innerProps,s=t.menuIsOpen;return Be("div",tt({ref:o},rn(t,"control",{control:!0,"control--is-disabled":i,"control--is-focused":r,"control--menu-is-open":s}),a,{"aria-disabled":i||void 0}),n)},Jw=Zw,Qw=["data"],ey=function(t,n){var i=t.theme.spacing;return n?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},ty=function(t){var n=t.children,i=t.cx,r=t.getStyles,o=t.getClassNames,a=t.Heading,s=t.headingProps,l=t.innerProps,u=t.label,c=t.theme,d=t.selectProps;return Be("div",tt({},rn(t,"group",{group:!0}),l),Be(a,tt({},s,{selectProps:d,theme:c,getStyles:r,getClassNames:o,cx:i}),u),Be("div",null,n))},ny=function(t,n){var i=t.theme,r=i.colors,o=i.spacing;return Xe({label:"group",cursor:"default",display:"block"},n?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},ry=function(t){var n=Nd(t);n.data;var i=Mr(n,Qw);return Be("div",tt({},rn(t,"groupHeading",{"group-heading":!0}),i))},iy=ty,oy=["innerRef","isDisabled","isHidden","inputClassName"],ay=function(t,n){var i=t.isDisabled,r=t.value,o=t.theme,a=o.spacing,s=o.colors;return Xe(Xe({visibility:i?"hidden":"visible",transform:r?"translateZ(0)":""},sy),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:s.neutral80})},Kd={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},sy={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Xe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Kd)},ly=function(t){return Xe({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},Kd)},uy=function(t){var n=t.cx,i=t.value,r=Nd(t),o=r.innerRef,a=r.isDisabled,s=r.isHidden,l=r.inputClassName,u=Mr(r,oy);return Be("div",tt({},rn(t,"input",{"input-container":!0}),{"data-value":i||""}),Be("input",tt({className:n({input:!0},l),ref:o,style:ly(s),disabled:a},u)))},cy=uy,dy=function(t,n){var i=t.theme,r=i.spacing,o=i.borderRadius,a=i.colors;return Xe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:o/2,margin:r.baseUnit/2})},fy=function(t,n){var i=t.theme,r=i.borderRadius,o=i.colors,a=t.cropWithEllipsis;return Xe({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:r/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},hy=function(t,n){var i=t.theme,r=i.spacing,o=i.borderRadius,a=i.colors,s=t.isFocused;return Xe({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:s?a.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},Zd=function(t){var n=t.children,i=t.innerProps;return Be("div",i,n)},gy=Zd,my=Zd;function py(e){var t=e.children,n=e.innerProps;return Be("div",tt({role:"button"},n),t||Be(yl,{size:14}))}var vy=function(t){var n=t.children,i=t.components,r=t.data,o=t.innerProps,a=t.isDisabled,s=t.removeProps,l=t.selectProps,u=i.Container,c=i.Label,d=i.Remove;return Be(u,{data:r,innerProps:Xe(Xe({},rn(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),o),selectProps:l},Be(c,{data:r,innerProps:Xe({},rn(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Be(d,{data:r,innerProps:Xe(Xe({},rn(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:l}))},by=vy,wy=function(t,n){var i=t.isDisabled,r=t.isFocused,o=t.isSelected,a=t.theme,s=a.spacing,l=a.colors;return Xe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?l.primary:r?l.primary25:"transparent",color:i?l.neutral20:o?l.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:o?l.primary:l.primary50}})},yy=function(t){var n=t.children,i=t.isDisabled,r=t.isFocused,o=t.isSelected,a=t.innerRef,s=t.innerProps;return Be("div",tt({},rn(t,"option",{option:!0,"option--is-disabled":i,"option--is-focused":r,"option--is-selected":o}),{ref:a,"aria-disabled":i},s),n)},Cy=yy,Sy=function(t,n){var i=t.theme,r=i.spacing,o=i.colors;return Xe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},xy=function(t){var n=t.children,i=t.innerProps;return Be("div",tt({},rn(t,"placeholder",{placeholder:!0}),i),n)},ky=xy,My=function(t,n){var i=t.isDisabled,r=t.theme,o=r.spacing,a=r.colors;return Xe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:i?a.neutral40:a.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},Ry=function(t){var n=t.children,i=t.isDisabled,r=t.innerProps;return Be("div",tt({},rn(t,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),r),n)},Ey=Ry,Jd={ClearIndicator:Uw,Control:Jw,DropdownIndicator:Bw,DownChevron:jd,CrossIcon:yl,Group:iy,GroupHeading:ry,IndicatorsContainer:Hw,IndicatorSeparator:Yw,Input:cy,LoadingIndicator:qw,Menu:xw,MenuList:Mw,MenuPortal:Ow,LoadingMessage:Tw,NoOptionsMessage:Iw,MultiValue:by,MultiValueContainer:gy,MultiValueLabel:my,MultiValueRemove:py,Option:Cy,Placeholder:ky,SelectContainer:_w,SingleValue:Ey,ValueContainer:Fw},Iy=function(t){return Xe(Xe({},Jd),t.components)},Yu=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ty(e,t){return!!(e===t||Yu(e)&&Yu(t))}function Dy(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ty(e[n],t[n]))return!1;return!0}function Oy(e,t){t===void 0&&(t=Dy);var n=null;function i(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return i.clear=function(){n=null},i}var Py={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},_y=function(t){return Be("span",tt({css:Py},t))},Gu=_y,Ly={guidance:function(t){var n=t.isSearchable,i=t.isMulti,r=t.tabSelectsValue,o=t.context,a=t.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,i=t.label,r=i===void 0?"":i,o=t.labels,a=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return a?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(t){var n=t.context,i=t.focused,r=t.options,o=t.label,a=o===void 0?"":o,s=t.selectValue,l=t.isDisabled,u=t.isSelected,c=t.isAppleDevice,d=function(p,b){return p&&p.length?"".concat(p.indexOf(b)+1," of ").concat(p.length):""};if(n==="value"&&s)return"value ".concat(a," focused, ").concat(d(s,i),".");if(n==="menu"&&c){var f=l?" disabled":"",h="".concat(u?" selected":"").concat(f);return"".concat(a).concat(h,", ").concat(d(r,i),".")}return""},onFilter:function(t){var n=t.inputValue,i=t.resultsMessage;return"".concat(i).concat(n?" for search term "+n:"",".")}},Fy=function(t){var n=t.ariaSelection,i=t.focusedOption,r=t.focusedValue,o=t.focusableOptions,a=t.isFocused,s=t.selectValue,l=t.selectProps,u=t.id,c=t.isAppleDevice,d=l.ariaLiveMessages,f=l.getOptionLabel,h=l.inputValue,m=l.isMulti,p=l.isOptionDisabled,b=l.isSearchable,y=l.menuIsOpen,w=l.options,S=l.screenReaderStatus,M=l.tabSelectsValue,C=l.isLoading,x=l["aria-label"],R=l["aria-live"],I=g.useMemo(function(){return Xe(Xe({},Ly),d||{})},[d]),E=g.useMemo(function(){var ne="";if(n&&I.onChange){var J=n.option,oe=n.options,ce=n.removedValue,ke=n.removedValues,ae=n.value,K=function(k){return Array.isArray(k)?null:k},ie=ce||J||K(ae),re=ie?f(ie):"",ge=oe||ke||void 0,ye=ge?ge.map(f):[],G=Xe({isDisabled:ie&&p(ie,s),label:re,labels:ye},n);ne=I.onChange(G)}return ne},[n,I,p,s,f]),L=g.useMemo(function(){var ne="",J=i||r,oe=!!(i&&s&&s.includes(i));if(J&&I.onFocus){var ce={focused:J,label:f(J),isDisabled:p(J,s),isSelected:oe,options:o,context:J===i?"menu":"value",selectValue:s,isAppleDevice:c};ne=I.onFocus(ce)}return ne},[i,r,f,p,I,o,s,c]),z=g.useMemo(function(){var ne="";if(y&&w.length&&!C&&I.onFilter){var J=S({count:o.length});ne=I.onFilter({inputValue:h,resultsMessage:J})}return ne},[o,h,y,I,w,S,C]),_=(n==null?void 0:n.action)==="initial-input-focus",F=g.useMemo(function(){var ne="";if(I.guidance){var J=r?"value":y?"menu":"input";ne=I.guidance({"aria-label":x,context:J,isDisabled:i&&p(i,s),isMulti:m,isSearchable:b,tabSelectsValue:M,isInitialFocus:_})}return ne},[x,i,r,m,p,b,y,I,s,M,_]),P=Be(g.Fragment,null,Be("span",{id:"aria-selection"},E),Be("span",{id:"aria-focused"},L),Be("span",{id:"aria-results"},z),Be("span",{id:"aria-guidance"},F));return Be(g.Fragment,null,Be(Gu,{id:u},_&&P),Be(Gu,{"aria-live":R,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!_&&P))},Ay=Fy,Ns=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Hy=new RegExp("["+Ns.map(function(e){return e.letters}).join("")+"]","g"),Qd={};for(var ws=0;ws<Ns.length;ws++)for(var ys=Ns[ws],Cs=0;Cs<ys.letters.length;Cs++)Qd[ys.letters[Cs]]=ys.base;var ef=function(t){return t.replace(Hy,function(n){return Qd[n]})},zy=Oy(ef),ju=function(t){return t.replace(/^\s+|\s+$/g,"")},$y=function(t){return"".concat(t.label," ").concat(t.value)},Vy=function(t){return function(n,i){if(n.data.__isNew__)return!0;var r=Xe({ignoreCase:!0,ignoreAccents:!0,stringify:$y,trim:!0,matchFrom:"any"},t),o=r.ignoreCase,a=r.ignoreAccents,s=r.stringify,l=r.trim,u=r.matchFrom,c=l?ju(i):i,d=l?ju(s(n)):s(n);return o&&(c=c.toLowerCase(),d=d.toLowerCase()),a&&(c=zy(c),d=ef(d)),u==="start"?d.substr(0,c.length)===c:d.indexOf(c)>-1}},Ny=["innerRef"];function By(e){var t=e.innerRef,n=Mr(e,Ny),i=mw(n,"onExited","in","enter","exit","appear");return Be("input",tt({ref:t},i,{css:xc({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Wy=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function Uy(e){var t=e.isEnabled,n=e.onBottomArrive,i=e.onBottomLeave,r=e.onTopArrive,o=e.onTopLeave,a=g.useRef(!1),s=g.useRef(!1),l=g.useRef(0),u=g.useRef(null),c=g.useCallback(function(b,y){if(u.current!==null){var w=u.current,S=w.scrollTop,M=w.scrollHeight,C=w.clientHeight,x=u.current,R=y>0,I=M-C-S,E=!1;I>y&&a.current&&(i&&i(b),a.current=!1),R&&s.current&&(o&&o(b),s.current=!1),R&&y>I?(n&&!a.current&&n(b),x.scrollTop=M,E=!0,a.current=!0):!R&&-y>S&&(r&&!s.current&&r(b),x.scrollTop=0,E=!0,s.current=!0),E&&Wy(b)}},[n,i,r,o]),d=g.useCallback(function(b){c(b,b.deltaY)},[c]),f=g.useCallback(function(b){l.current=b.changedTouches[0].clientY},[]),h=g.useCallback(function(b){var y=l.current-b.changedTouches[0].clientY;c(b,y)},[c]),m=g.useCallback(function(b){if(b){var y=fw?{passive:!1}:!1;b.addEventListener("wheel",d,y),b.addEventListener("touchstart",f,y),b.addEventListener("touchmove",h,y)}},[h,f,d]),p=g.useCallback(function(b){b&&(b.removeEventListener("wheel",d,!1),b.removeEventListener("touchstart",f,!1),b.removeEventListener("touchmove",h,!1))},[h,f,d]);return g.useEffect(function(){if(t){var b=u.current;return m(b),function(){p(b)}}},[t,m,p]),function(b){u.current=b}}var qu=["boxSizing","height","overflow","paddingRight","position"],Ku={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Zu(e){e.preventDefault()}function Ju(e){e.stopPropagation()}function Qu(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function ec(){return"ontouchstart"in window||navigator.maxTouchPoints}var tc=!!(typeof window<"u"&&window.document&&window.document.createElement),ji=0,pi={capture:!1,passive:!1};function Xy(e){var t=e.isEnabled,n=e.accountForScrollbars,i=n===void 0?!0:n,r=g.useRef({}),o=g.useRef(null),a=g.useCallback(function(l){if(tc){var u=document.body,c=u&&u.style;if(i&&qu.forEach(function(m){var p=c&&c[m];r.current[m]=p}),i&&ji<1){var d=parseInt(r.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,h=window.innerWidth-f+d||0;Object.keys(Ku).forEach(function(m){var p=Ku[m];c&&(c[m]=p)}),c&&(c.paddingRight="".concat(h,"px"))}u&&ec()&&(u.addEventListener("touchmove",Zu,pi),l&&(l.addEventListener("touchstart",Qu,pi),l.addEventListener("touchmove",Ju,pi))),ji+=1}},[i]),s=g.useCallback(function(l){if(tc){var u=document.body,c=u&&u.style;ji=Math.max(ji-1,0),i&&ji<1&&qu.forEach(function(d){var f=r.current[d];c&&(c[d]=f)}),u&&ec()&&(u.removeEventListener("touchmove",Zu,pi),l&&(l.removeEventListener("touchstart",Qu,pi),l.removeEventListener("touchmove",Ju,pi)))}},[i]);return g.useEffect(function(){if(t){var l=o.current;return a(l),function(){s(l)}}},[t,a,s]),function(l){o.current=l}}var Yy=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Gy={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function jy(e){var t=e.children,n=e.lockEnabled,i=e.captureEnabled,r=i===void 0?!0:i,o=e.onBottomArrive,a=e.onBottomLeave,s=e.onTopArrive,l=e.onTopLeave,u=Uy({isEnabled:r,onBottomArrive:o,onBottomLeave:a,onTopArrive:s,onTopLeave:l}),c=Xy({isEnabled:n}),d=function(h){u(h),c(h)};return Be(g.Fragment,null,n&&Be("div",{onClick:Yy,css:Gy}),t(d))}var qy={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Ky=function(t){var n=t.name,i=t.onFocus;return Be("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:qy,value:"",onChange:function(){}})},Zy=Ky;function Cl(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Jy(){return Cl(/^iPhone/i)}function tf(){return Cl(/^Mac/i)}function Qy(){return Cl(/^iPad/i)||tf()&&navigator.maxTouchPoints>1}function eC(){return Jy()||Qy()}function tC(){return tf()||eC()}var nC=function(t){return t.label},rC=function(t){return t.label},iC=function(t){return t.value},oC=function(t){return!!t.isDisabled},aC={clearIndicator:Ww,container:Pw,control:Kw,dropdownIndicator:Nw,group:ey,groupHeading:ny,indicatorsContainer:Aw,indicatorSeparator:Xw,input:ay,loadingIndicator:jw,loadingMessage:Ew,menu:yw,menuList:kw,menuPortal:Dw,multiValue:dy,multiValueLabel:fy,multiValueRemove:hy,noOptionsMessage:Rw,option:wy,placeholder:Sy,singleValue:My,valueContainer:Lw},sC={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},lC=4,nf=4,uC=38,cC=nf*2,dC={baseUnit:nf,controlHeight:uC,menuGutter:cC},Ss={borderRadius:lC,colors:sC,spacing:dC},fC={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Uu(),captureMenuScroll:!Uu(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Vy(),formatGroupLabel:nC,getOptionLabel:rC,getOptionValue:iC,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:oC,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!cw(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function nc(e,t,n,i){var r=af(e,t,n),o=sf(e,t,n),a=of(e,t),s=Ta(e,t);return{type:"option",data:t,isDisabled:r,isSelected:o,label:a,value:s,index:i}}function ua(e,t){return e.options.map(function(n,i){if("options"in n){var r=n.options.map(function(a,s){return nc(e,a,t,s)}).filter(function(a){return ic(e,a)});return r.length>0?{type:"group",data:n,options:r,index:i}:void 0}var o=nc(e,n,t,i);return ic(e,o)?o:void 0}).filter(hw)}function rf(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,Us(n.options.map(function(i){return i.data}))):t.push(n.data),t},[])}function rc(e,t){return e.reduce(function(n,i){return i.type==="group"?n.push.apply(n,Us(i.options.map(function(r){return{data:r.data,id:"".concat(t,"-").concat(i.index,"-").concat(r.index)}}))):n.push({data:i.data,id:"".concat(t,"-").concat(i.index)}),n},[])}function hC(e,t){return rf(ua(e,t))}function ic(e,t){var n=e.inputValue,i=n===void 0?"":n,r=t.data,o=t.isSelected,a=t.label,s=t.value;return(!uf(e)||!o)&&lf(e,{label:a,value:s,data:r},i)}function gC(e,t){var n=e.focusedValue,i=e.selectValue,r=i.indexOf(n);if(r>-1){var o=t.indexOf(n);if(o>-1)return n;if(r<t.length)return t[r]}return null}function mC(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var xs=function(t,n){var i,r=(i=t.find(function(o){return o.data===n}))===null||i===void 0?void 0:i.id;return r||null},of=function(t,n){return t.getOptionLabel(n)},Ta=function(t,n){return t.getOptionValue(n)};function af(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function sf(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var i=Ta(e,t);return n.some(function(r){return Ta(e,r)===i})}function lf(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var uf=function(t){var n=t.hideSelectedOptions,i=t.isMulti;return n===void 0?i:n},pC=1,cf=function(e){tg(n,e);var t=ig(n);function n(i){var r;if(ng(this,n),r=t.call(this,i),r.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.isAppleDevice=tC(),r.controlRef=null,r.getControlRef=function(l){r.controlRef=l},r.focusedOptionRef=null,r.getFocusedOptionRef=function(l){r.focusedOptionRef=l},r.menuListRef=null,r.getMenuListRef=function(l){r.menuListRef=l},r.inputRef=null,r.getInputRef=function(l){r.inputRef=l},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(l,u){var c=r.props,d=c.onChange,f=c.name;u.name=f,r.ariaOnChange(l,u),d(l,u)},r.setValue=function(l,u,c){var d=r.props,f=d.closeMenuOnSelect,h=d.isMulti,m=d.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:m}),f&&(r.setState({inputIsHiddenAfterUpdate:!h}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(l,{action:u,option:c})},r.selectOption=function(l){var u=r.props,c=u.blurInputOnSelect,d=u.isMulti,f=u.name,h=r.state.selectValue,m=d&&r.isOptionSelected(l,h),p=r.isOptionDisabled(l,h);if(m){var b=r.getOptionValue(l);r.setValue(h.filter(function(y){return r.getOptionValue(y)!==b}),"deselect-option",l)}else if(!p)d?r.setValue([].concat(Us(h),[l]),"select-option",l):r.setValue(l,"select-option");else{r.ariaOnChange(l,{action:"select-option",option:l,name:f});return}c&&r.blurInput()},r.removeValue=function(l){var u=r.props.isMulti,c=r.state.selectValue,d=r.getOptionValue(l),f=c.filter(function(m){return r.getOptionValue(m)!==d}),h=ia(u,f,f[0]||null);r.onChange(h,{action:"remove-value",removedValue:l}),r.focusInput()},r.clearValue=function(){var l=r.state.selectValue;r.onChange(ia(r.props.isMulti,[],null),{action:"clear",removedValues:l})},r.popValue=function(){var l=r.props.isMulti,u=r.state.selectValue,c=u[u.length-1],d=u.slice(0,u.length-1),f=ia(l,d,d[0]||null);c&&r.onChange(f,{action:"pop-value",removedValue:c})},r.getFocusedOptionId=function(l){return xs(r.state.focusableOptionsWithIds,l)},r.getFocusableOptionsWithIds=function(){return rc(ua(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return ow.apply(void 0,[r.props.classNamePrefix].concat(u))},r.getOptionLabel=function(l){return of(r.props,l)},r.getOptionValue=function(l){return Ta(r.props,l)},r.getStyles=function(l,u){var c=r.props.unstyled,d=aC[l](u,c);d.boxSizing="border-box";var f=r.props.styles[l];return f?f(d,u):d},r.getClassNames=function(l,u){var c,d;return(c=(d=r.props.classNames)[l])===null||c===void 0?void 0:c.call(d,u)},r.getElementId=function(l){return"".concat(r.state.instancePrefix,"-").concat(l)},r.getComponents=function(){return Iy(r.props)},r.buildCategorizedOptions=function(){return ua(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return rf(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(l,u){r.setState({ariaSelection:Xe({value:l},u)})},r.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(l){r.blockOptionHover=!1},r.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&r.onMenuClose():u&&r.openMenu("first"):(u&&(r.openAfterFocus=!0),r.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},r.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!r.props.isDisabled){var u=r.props,c=u.isMulti,d=u.menuIsOpen;r.focusInput(),d?(r.setState({inputIsHiddenAfterUpdate:!c}),r.onMenuClose()):r.openMenu("first"),l.preventDefault()}},r.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(r.clearValue(),l.preventDefault(),r.openAfterFocus=!1,l.type==="touchend"?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(l){typeof r.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&za(l.target)&&r.props.onMenuClose():typeof r.props.closeMenuOnScroll=="function"&&r.props.closeMenuOnScroll(l)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(l){var u=l.touches,c=u&&u.item(0);c&&(r.initialTouchX=c.clientX,r.initialTouchY=c.clientY,r.userIsDragging=!1)},r.onTouchMove=function(l){var u=l.touches,c=u&&u.item(0);if(c){var d=Math.abs(c.clientX-r.initialTouchX),f=Math.abs(c.clientY-r.initialTouchY),h=5;r.userIsDragging=d>h||f>h}},r.onTouchEnd=function(l){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(l.target)&&r.menuListRef&&!r.menuListRef.contains(l.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(l){r.userIsDragging||r.onControlMouseDown(l)},r.onClearIndicatorTouchEnd=function(l){r.userIsDragging||r.onClearIndicatorMouseDown(l)},r.onDropdownIndicatorTouchEnd=function(l){r.userIsDragging||r.onDropdownIndicatorMouseDown(l)},r.handleInputChange=function(l){var u=r.props.inputValue,c=l.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(c,{action:"input-change",prevInputValue:u}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(l){r.props.onFocus&&r.props.onFocus(l),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(l){var u=r.props.inputValue;if(r.menuListRef&&r.menuListRef.contains(document.activeElement)){r.inputRef.focus();return}r.props.onBlur&&r.props.onBlur(l),r.onInputChange("",{action:"input-blur",prevInputValue:u}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1})},r.onOptionHover=function(l){if(!(r.blockOptionHover||r.state.focusedOption===l)){var u=r.getFocusableOptions(),c=u.indexOf(l);r.setState({focusedOption:l,focusedOptionId:c>-1?r.getFocusedOptionId(l):null})}},r.shouldHideSelectedOptions=function(){return uf(r.props)},r.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),r.focus()},r.onKeyDown=function(l){var u=r.props,c=u.isMulti,d=u.backspaceRemovesValue,f=u.escapeClearsValue,h=u.inputValue,m=u.isClearable,p=u.isDisabled,b=u.menuIsOpen,y=u.onKeyDown,w=u.tabSelectsValue,S=u.openMenuOnFocus,M=r.state,C=M.focusedOption,x=M.focusedValue,R=M.selectValue;if(!p&&!(typeof y=="function"&&(y(l),l.defaultPrevented))){switch(r.blockOptionHover=!0,l.key){case"ArrowLeft":if(!c||h)return;r.focusValue("previous");break;case"ArrowRight":if(!c||h)return;r.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(x)r.removeValue(x);else{if(!d)return;c?r.popValue():m&&r.clearValue()}break;case"Tab":if(r.isComposing||l.shiftKey||!b||!w||!C||S&&r.isOptionSelected(C,R))return;r.selectOption(C);break;case"Enter":if(l.keyCode===229)break;if(b){if(!C||r.isComposing)return;r.selectOption(C);break}return;case"Escape":b?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:h}),r.onMenuClose()):m&&f&&r.clearValue();break;case" ":if(h)return;if(!b){r.openMenu("first");break}if(!C)return;r.selectOption(C);break;case"ArrowUp":b?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":b?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!b)return;r.focusOption("pageup");break;case"PageDown":if(!b)return;r.focusOption("pagedown");break;case"Home":if(!b)return;r.focusOption("first");break;case"End":if(!b)return;r.focusOption("last");break;default:return}l.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++pC),r.state.selectValue=Bu(i.value),i.menuIsOpen&&r.state.selectValue.length){var o=r.getFocusableOptionsWithIds(),a=r.buildFocusableOptions(),s=a.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=o,r.state.focusedOption=a[s],r.state.focusedOptionId=xs(o,a[s])}return r}return rg(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Wu(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(r){var o=this.props,a=o.isDisabled,s=o.menuIsOpen,l=this.state.isFocused;(l&&!a&&r.isDisabled||l&&s&&!r.menuIsOpen)&&this.focusInput(),l&&a&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Wu(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,o){this.props.onInputChange(r,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var o=this,a=this.state,s=a.selectValue,l=a.isFocused,u=this.buildFocusableOptions(),c=r==="first"?0:u.length-1;if(!this.props.isMulti){var d=u.indexOf(s[0]);d>-1&&(c=d)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c],focusedOptionId:this.getFocusedOptionId(u[c])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(r){var o=this.state,a=o.selectValue,s=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(s);s||(l=-1);var u=a.length-1,c=-1;if(a.length){switch(r){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:a[c]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,a=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,u=s.indexOf(a);a||(u=-1),r==="up"?l=u>0?u-1:s.length-1:r==="down"?l=(u+1)%s.length:r==="pageup"?(l=u-o,l<0&&(l=0)):r==="pagedown"?(l=u+o,l>s.length-1&&(l=s.length-1)):r==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Ss):Xe(Xe({},Ss),this.props.theme):Ss}},{key:"getCommonProps",value:function(){var r=this.clearValue,o=this.cx,a=this.getStyles,s=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,d=this.props,f=d.isMulti,h=d.isRtl,m=d.options,p=this.hasValue();return{clearValue:r,cx:o,getStyles:a,getClassNames:s,getValue:l,hasValue:p,isMulti:f,isRtl:h,options:m,selectOption:u,selectProps:d,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,o=r.isClearable,a=r.isMulti;return o===void 0?a:o}},{key:"isOptionDisabled",value:function(r,o){return af(this.props,r,o)}},{key:"isOptionSelected",value:function(r,o){return sf(this.props,r,o)}},{key:"filterOption",value:function(r,o){return lf(this.props,r,o)}},{key:"formatOptionLabel",value:function(r,o){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(r,{context:o,inputValue:a,selectValue:s})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,o=r.isDisabled,a=r.isSearchable,s=r.inputId,l=r.inputValue,u=r.tabIndex,c=r.form,d=r.menuIsOpen,f=r.required,h=this.getComponents(),m=h.Input,p=this.state,b=p.inputIsHidden,y=p.ariaSelection,w=this.commonProps,S=s||this.getElementId("input"),M=Xe(Xe(Xe({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(y==null?void 0:y.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?g.createElement(m,tt({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:o,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},M)):g.createElement(By,tt({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ea,onFocus:this.onInputFocus,disabled:o,tabIndex:u,inputMode:"none",form:c,value:""},M))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,o=this.getComponents(),a=o.MultiValue,s=o.MultiValueContainer,l=o.MultiValueLabel,u=o.MultiValueRemove,c=o.SingleValue,d=o.Placeholder,f=this.commonProps,h=this.props,m=h.controlShouldRenderValue,p=h.isDisabled,b=h.isMulti,y=h.inputValue,w=h.placeholder,S=this.state,M=S.selectValue,C=S.focusedValue,x=S.isFocused;if(!this.hasValue()||!m)return y?null:g.createElement(d,tt({},f,{key:"placeholder",isDisabled:p,isFocused:x,innerProps:{id:this.getElementId("placeholder")}}),w);if(b)return M.map(function(I,E){var L=I===C,z="".concat(r.getOptionLabel(I),"-").concat(r.getOptionValue(I));return g.createElement(a,tt({},f,{components:{Container:s,Label:l,Remove:u},isFocused:L,isDisabled:p,key:z,index:E,removeProps:{onClick:function(){return r.removeValue(I)},onTouchEnd:function(){return r.removeValue(I)},onMouseDown:function(F){F.preventDefault()}},data:I}),r.formatOptionLabel(I,"value"))});if(y)return null;var R=M[0];return g.createElement(c,tt({},f,{data:R,isDisabled:p}),this.formatOptionLabel(R,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),o=r.ClearIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||u)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return g.createElement(o,tt({},a,{innerProps:d,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),o=r.LoadingIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!o||!u)return null;var d={"aria-hidden":"true"};return g.createElement(o,tt({},a,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),o=r.DropdownIndicator,a=r.IndicatorSeparator;if(!o||!a)return null;var s=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return g.createElement(a,tt({},s,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),o=r.DropdownIndicator;if(!o)return null;var a=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return g.createElement(o,tt({},a,{innerProps:u,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var r=this,o=this.getComponents(),a=o.Group,s=o.GroupHeading,l=o.Menu,u=o.MenuList,c=o.MenuPortal,d=o.LoadingMessage,f=o.NoOptionsMessage,h=o.Option,m=this.commonProps,p=this.state.focusedOption,b=this.props,y=b.captureMenuScroll,w=b.inputValue,S=b.isLoading,M=b.loadingMessage,C=b.minMenuHeight,x=b.maxMenuHeight,R=b.menuIsOpen,I=b.menuPlacement,E=b.menuPosition,L=b.menuPortalTarget,z=b.menuShouldBlockScroll,_=b.menuShouldScrollIntoView,F=b.noOptionsMessage,P=b.onMenuScrollToTop,ne=b.onMenuScrollToBottom;if(!R)return null;var J=function(re,ge){var ye=re.type,G=re.data,O=re.isDisabled,k=re.isSelected,N=re.label,ue=re.value,fe=p===G,$e=O?void 0:function(){return r.onOptionHover(G)},me=O?void 0:function(){return r.selectOption(G)},Ge="".concat(r.getElementId("option"),"-").concat(ge),Me={id:Ge,onClick:me,onMouseMove:$e,onMouseOver:$e,tabIndex:-1,role:"option","aria-selected":r.isAppleDevice?void 0:k};return g.createElement(h,tt({},m,{innerProps:Me,data:G,isDisabled:O,isSelected:k,key:Ge,label:N,type:ye,value:ue,isFocused:fe,innerRef:fe?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(re.data,"menu"))},oe;if(this.hasOptions())oe=this.getCategorizedOptions().map(function(ie){if(ie.type==="group"){var re=ie.data,ge=ie.options,ye=ie.index,G="".concat(r.getElementId("group"),"-").concat(ye),O="".concat(G,"-heading");return g.createElement(a,tt({},m,{key:G,data:re,options:ge,Heading:s,headingProps:{id:O,data:ie.data},label:r.formatGroupLabel(ie.data)}),ie.options.map(function(k){return J(k,"".concat(ye,"-").concat(k.index))}))}else if(ie.type==="option")return J(ie,"".concat(ie.index))});else if(S){var ce=M({inputValue:w});if(ce===null)return null;oe=g.createElement(d,m,ce)}else{var ke=F({inputValue:w});if(ke===null)return null;oe=g.createElement(f,m,ke)}var ae={minMenuHeight:C,maxMenuHeight:x,menuPlacement:I,menuPosition:E,menuShouldScrollIntoView:_},K=g.createElement(Cw,tt({},m,ae),function(ie){var re=ie.ref,ge=ie.placerProps,ye=ge.placement,G=ge.maxHeight;return g.createElement(l,tt({},m,ae,{innerRef:re,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:S,placement:ye}),g.createElement(jy,{captureEnabled:y,onTopArrive:P,onBottomArrive:ne,lockEnabled:z},function(O){return g.createElement(u,tt({},m,{innerRef:function(N){r.getMenuListRef(N),O(N)},innerProps:{role:"listbox","aria-multiselectable":m.isMulti,id:r.getElementId("listbox")},isLoading:S,maxHeight:G,focusedOption:p}),oe)}))});return L||E==="fixed"?g.createElement(c,tt({},m,{appendTo:L,controlElement:this.controlRef,menuPlacement:I,menuPosition:E}),K):K}},{key:"renderFormField",value:function(){var r=this,o=this.props,a=o.delimiter,s=o.isDisabled,l=o.isMulti,u=o.name,c=o.required,d=this.state.selectValue;if(c&&!this.hasValue()&&!s)return g.createElement(Zy,{name:u,onFocus:this.onValueInputFocus});if(!(!u||s))if(l)if(a){var f=d.map(function(p){return r.getOptionValue(p)}).join(a);return g.createElement("input",{name:u,type:"hidden",value:f})}else{var h=d.length>0?d.map(function(p,b){return g.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:r.getOptionValue(p)})}):g.createElement("input",{name:u,type:"hidden",value:""});return g.createElement("div",null,h)}else{var m=d[0]?this.getOptionValue(d[0]):"";return g.createElement("input",{name:u,type:"hidden",value:m})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,o=this.state,a=o.ariaSelection,s=o.focusedOption,l=o.focusedValue,u=o.isFocused,c=o.selectValue,d=this.getFocusableOptions();return g.createElement(Ay,tt({},r,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:s,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),o=r.Control,a=r.IndicatorsContainer,s=r.SelectContainer,l=r.ValueContainer,u=this.props,c=u.className,d=u.id,f=u.isDisabled,h=u.menuIsOpen,m=this.state.isFocused,p=this.commonProps=this.getCommonProps();return g.createElement(s,tt({},p,{className:c,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:m}),this.renderLiveRegion(),g.createElement(o,tt({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:m,menuIsOpen:h}),g.createElement(l,tt({},p,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),g.createElement(a,tt({},p,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,o){var a=o.prevProps,s=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,u=o.ariaSelection,c=o.isFocused,d=o.prevWasFocused,f=o.instancePrefix,h=r.options,m=r.value,p=r.menuIsOpen,b=r.inputValue,y=r.isMulti,w=Bu(m),S={};if(a&&(m!==a.value||h!==a.options||p!==a.menuIsOpen||b!==a.inputValue)){var M=p?hC(r,w):[],C=p?rc(ua(r,w),"".concat(f,"-option")):[],x=s?gC(o,w):null,R=mC(o,M),I=xs(C,R);S={selectValue:w,focusedOption:R,focusedOptionId:I,focusableOptionsWithIds:C,focusedValue:x,clearFocusValueOnUpdate:!1}}var E=l!=null&&r!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},L=u,z=c&&d;return c&&!z&&(L={value:ia(y,w,w[0]||null),options:w,action:"initial-input-focus"},z=!d),(u==null?void 0:u.action)==="initial-input-focus"&&(L=null),Xe(Xe(Xe({},S),E),{},{prevProps:r,ariaSelection:L,prevWasFocused:z})}}]),n}(g.Component);cf.defaultProps=fC;Fh();Ah();Hh();zh();$h();var vC=g.forwardRef(function(e,t){var n=Bb(e);return g.createElement(cf,tt({ref:t},n))}),bC=vC;const wC=e=>{const{Menu:t}=Jd,{children:n,...i}=e;return g.createElement(t,{...i},n)},yC=mn("div")({name:"Wrap",class:"gdg-wghi2zc",propsAsIs:!1}),CC=mn("div")({name:"PortalWrap",class:"gdg-p13nj8j0",propsAsIs:!1}),SC=mn("div")({name:"ReadOnlyWrap",class:"gdg-r6sia3g",propsAsIs:!1}),xC=e=>{const{value:t,onFinishedEditing:n,initialValue:i}=e,{allowedValues:r,value:o}=t.data,[a,s]=g.useState(o),[l,u]=g.useState(i??""),c=kp(),d=g.useMemo(()=>r.map(f=>typeof f=="string"||f===null||f===void 0?{value:f,label:(f==null?void 0:f.toString())??""}:f),[r]);return t.readonly?g.createElement(SC,null,g.createElement(Ei,{highlight:!0,autoFocus:!1,disabled:!0,value:a??"",onChange:()=>{}})):g.createElement(yC,null,g.createElement(bC,{className:"glide-select",inputValue:l,onInputChange:u,menuPlacement:"auto",value:d.find(f=>f.value===a),styles:{control:f=>({...f,border:0,boxShadow:"none"}),option:(f,{isFocused:h})=>({...f,fontSize:c.editorFontSize,fontFamily:c.fontFamily,cursor:h?"pointer":void 0,paddingLeft:c.cellHorizontalPadding,paddingRight:c.cellHorizontalPadding,":active":{...f[":active"],color:c.accentFg},":empty::after":{content:'"&nbsp;"',visibility:"hidden"}})},theme:f=>({...f,colors:{...f.colors,neutral0:c.bgCell,neutral5:c.bgCell,neutral10:c.bgCell,neutral20:c.bgCellMedium,neutral30:c.bgCellMedium,neutral40:c.bgCellMedium,neutral50:c.textLight,neutral60:c.textMedium,neutral70:c.textMedium,neutral80:c.textDark,neutral90:c.textDark,neutral100:c.textDark,primary:c.accentColor,primary75:c.accentColor,primary50:c.accentColor,primary25:c.accentLight}}),menuPortalTarget:document.getElementById("portal"),autoFocus:!0,openMenuOnFocus:!0,components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null,Menu:f=>g.createElement(CC,null,g.createElement(wC,{className:"click-outside-ignore",...f}))},options:d,onChange:async f=>{f!==null&&(s(f.value),await new Promise(h=>window.requestAnimationFrame(h)),n({...t,data:{...t.data,value:f.value}}))}}))},kC={kind:Z.Custom,isMatch:e=>e.data.kind==="dropdown-cell",draw:(e,t)=>{const{ctx:n,theme:i,rect:r}=e,{value:o}=t.data,a=t.data.allowedValues.find(l=>typeof l=="string"||l===null||l===void 0?l===o:l.value===o),s=typeof a=="string"?a:(a==null?void 0:a.label)??"";return s&&(n.fillStyle=i.textDark,n.fillText(s,r.x+i.cellHorizontalPadding,r.y+r.height/2+pr(n,i))),!0},measure:(e,t,n)=>{const{value:i}=t.data;return(i?e.measureText(i).width:0)+n.cellHorizontalPadding*2},provideEditor:()=>({editor:xC,disablePadding:!0,deletedValue:e=>({...e,copyData:"",data:{...e.data,value:""}})}),onPaste:(e,t)=>({...t,value:t.allowedValues.includes(e)?e:t.value})},Kr=6,MC={marginRight:8},RC={display:"flex",alignItems:"center",flexGrow:1},EC={kind:Z.Custom,isMatch:e=>e.data.kind==="range-cell",draw:(e,t)=>{const{ctx:n,theme:i,rect:r}=e,{min:o,max:a,value:s,label:l,measureLabel:u}=t.data,c=r.x+i.cellHorizontalPadding,d=r.y+r.height/2,f=a-o,h=(s-o)/f;n.save();let m=0;l!==void 0&&(n.font=`12px ${i.fontFamily}`,m=ii(u??l,n,`12px ${i.fontFamily}`).width+i.cellHorizontalPadding);const p=r.width-i.cellHorizontalPadding*2-m;if(p>=Kr){const b=n.createLinearGradient(c,d,c+p,d);b.addColorStop(0,i.accentColor),b.addColorStop(h,i.accentColor),b.addColorStop(h,i.bgBubble),b.addColorStop(1,i.bgBubble),n.beginPath(),n.fillStyle=b,Hu(n,c,d-Kr/2,p,Kr,Kr/2),n.fill(),n.beginPath(),Hu(n,c+.5,d-Kr/2+.5,p-1,Kr-1,(Kr-1)/2),n.strokeStyle=i.accentLight,n.lineWidth=1,n.stroke()}return l!==void 0&&(n.textAlign="right",n.fillStyle=i.textDark,n.fillText(l,r.x+r.width-i.cellHorizontalPadding,d+pr(n,`12px ${i.fontFamily}`))),n.restore(),!0},provideEditor:()=>e=>{const{data:t,readonly:n}=e.value,i=t.value.toString(),r=t.min.toString(),o=t.max.toString(),a=t.step.toString(),s=l=>{e.onChange({...e.value,data:{...t,value:Number(l.target.value)}})};return g.createElement("label",{style:RC},g.createElement("input",{style:MC,type:"range",value:i,min:r,max:o,step:a,onChange:s,disabled:n}),i)},onPaste:(e,t)=>{let n=Number.parseFloat(e);return n=Number.isNaN(n)?t.value:Math.max(t.min,Math.min(t.max,n)),{...t,value:n}}},IC=mn("input")({name:"StyledInputBox",class:"gdg-s1wtovjx",propsAsIs:!1}),ks=(e,t)=>{if(t==null)return"";const n=t.toISOString();switch(e){case"date":return n.split("T")[0];case"datetime-local":return n.replace("Z","");case"time":return n.split("T")[1].replace("Z","");default:throw new Error(`Unknown date kind ${e}`)}},TC=e=>{const t=e.value.data,{format:n,displayDate:i}=t,r=t.step!==void 0&&!Number.isNaN(Number(t.step))?Number(t.step):void 0,o=t.min instanceof Date?ks(n,t.min):t.min,a=t.max instanceof Date?ks(n,t.max):t.max;let s=t.date;const l=t.timezoneOffset?t.timezoneOffset*60*1e3:0;l&&s&&(s=new Date(s.getTime()+l));const u=ks(n,s);return e.value.readonly?ee.createElement(Ei,{highlight:!0,autoFocus:!1,disabled:!0,value:i??"",onChange:()=>{}}):ee.createElement(IC,{"data-testid":"date-picker-cell",required:!0,type:n,defaultValue:u,min:o,max:a,step:r,autoFocus:!0,onChange:c=>{isNaN(c.target.valueAsNumber)?e.onChange({...e.value,data:{...e.value.data,date:void 0}}):e.onChange({...e.value,data:{...e.value.data,date:new Date(c.target.valueAsNumber-l)}})}})},DC={kind:Z.Custom,isMatch:e=>e.data.kind==="date-picker-cell",draw:(e,t)=>{const{displayDate:n}=t.data;return Jc(e,n,t.contentAlign),!0},measure:(e,t,n)=>{const{displayDate:i}=t.data;return e.measureText(i).width+n.cellHorizontalPadding*2},provideEditor:()=>({editor:TC}),onPaste:(e,t)=>{let n=NaN;return e&&(n=Number(e).valueOf(),Number.isNaN(n)&&(n=Date.parse(e),t.format==="time"&&Number.isNaN(n)&&(n=Date.parse(`1970-01-01T${e}Z`)))),{...t,date:Number.isNaN(n)?void 0:new Date(n)}}},OC="None";function oc(e,t,n){e.save(),e.beginPath(),e.moveTo(t.x+t.width-8,t.y+1),e.lineTo(t.x+t.width,t.y+1),e.lineTo(t.x+t.width,t.y+1+8),e.fillStyle=n.accentColor,e.fill(),e.restore()}const PC=e=>{const{cell:t,theme:n,ctx:i}=e;Jc({...e,theme:{...n,textDark:n.textLight,headerFontFull:`${n.headerFontStyle} ${n.fontFamily}`,baseFontFull:`${n.baseFontStyle} ${n.fontFamily}`,markerFontFull:`${n.markerFontStyle} ${n.fontFamily}`},spriteManager:{},hyperWrapping:!1},OC,t.contentAlign),i.fillStyle=n.textDark};function _C(e){const t=ee.useCallback((i,r)=>{const{cell:o,theme:a,ctx:s,rect:l}=i,u=i.col;if(Si(o))oc(s,l,a);else if(Aa(o)&&u<e.length){const c=e[u];["checkbox","line_chart","bar_chart","progress"].includes(c.kind)?r():PC(i),c.isRequired&&c.isEditable&&oc(s,l,a);return}r()},[e]),n=ee.useMemo(()=>[Vb,kC,EC,DC,...ib],[]);return{drawCell:t,customRenderers:n}}function LC(){const e=Da();return ee.useMemo(()=>{const n={editable:r=>`<svg xmlns="http://www.w3.org/2000/svg" height="40" viewBox="0 96 960 960" width="40" fill="${r.bgColor}"><path d="m800.641 679.743-64.384-64.384 29-29q7.156-6.948 17.642-6.948 10.485 0 17.742 6.948l29 29q6.948 7.464 6.948 17.95 0 10.486-6.948 17.434l-29 29Zm-310.64 246.256v-64.383l210.82-210.821 64.384 64.384-210.821 210.82h-64.383Zm-360-204.872v-50.254h289.743v50.254H130.001Zm0-162.564v-50.255h454.615v50.255H130.001Zm0-162.307v-50.255h454.615v50.255H130.001Z"/></svg>`};return{glideTheme:{accentColor:e.colors.primary,accentFg:e.colors.white,accentLight:os(e.colors.primary,.9),borderColor:e.colors.borderColorLight,horizontalBorderColor:e.colors.borderColorLight,fontFamily:e.genericFonts.bodyFont,bgSearchResult:os(e.colors.primary,.9),resizeIndicatorColor:e.colors.primary,bgIconHeader:e.colors.fadedText60,fgIconHeader:e.colors.white,bgHeader:e.colors.bgMix,bgHeaderHasFocus:e.colors.secondaryBg,bgHeaderHovered:e.colors.secondaryBg,textHeader:e.colors.fadedText60,textHeaderSelected:e.colors.white,textGroupHeader:e.colors.fadedText60,headerFontStyle:`${e.fontSizes.sm}`,baseFontStyle:e.fontSizes.sm,editorFontSize:e.fontSizes.sm,textDark:e.colors.bodyText,textMedium:os(e.colors.bodyText,.2),textLight:e.colors.fadedText40,textBubble:e.colors.fadedText60,bgCell:e.colors.bgColor,bgCellMedium:e.colors.bgColor,cellHorizontalPadding:Math.round(wr(e.spacing.sm)),cellVerticalPadding:Math.round(wr("0.1875rem")),bgBubble:e.colors.secondaryBg,bgBubbleSelected:e.colors.secondaryBg,linkColor:e.colors.linkText,drilldownBorder:e.colors.darkenedBgMix25},tableBorderRadius:e.radii.default,tableBorderWidth:1,defaultTableHeight:Math.round(wr("25rem")),minColumnWidth:Math.round(wr("3.125rem")),maxColumnWidth:Math.round(wr("62.5rem")),maxColumnAutoWidth:Math.round(wr("31.25rem")),defaultRowHeight:Math.round(wr("2.1875rem")),defaultHeaderHeight:Math.round(wr("2.1875rem")),bgRowHovered:Vh(e.colors.bgColor,e.colors.secondaryBg,.3),headerIcons:n}},[e])}function FC(e,t,n,i,r,o,a,s,l){const u=ee.useCallback(([p,b],y)=>{const w=e[p];if(!w.isEditable)return;const S=w.indexNumber,M=n.current.getOriginalRowIndex(r(b)),C=i([p,b]),x=w.getCellValue(C),R=w.getCellValue(y);if(!Si(C)&&R===x)return;const I=w.getCell(R,!0);Si(I)?kc(`Not applying the cell edit since it causes this error:
 ${I.data}`):(n.current.setCell(S,M,{...I,lastUpdated:performance.now()}),s())},[e,n,r,i,s]),c=ee.useCallback(()=>{if(t)return;const p=new Map;e.forEach(b=>{p.set(b.indexNumber,b.getCell(b.defaultValue))}),n.current.addRow(p),a()},[e,n,t,a]),d=ee.useCallback(()=>{t||(c(),s())},[c,s,t]),f=ee.useCallback(p=>{var b;if(p.rows.length>0){if(t)return!0;const y=p.rows.toArray().map(w=>n.current.getOriginalRowIndex(r(w)));return n.current.deleteRows(y),a(),l(),s(),!1}if((b=p.current)!=null&&b.range){const y=[],w=p.current.range;for(let S=w.y;S<w.y+w.height;S++)for(let M=w.x;M<w.x+w.width;M++){const C=e[M];C.isEditable&&!C.isRequired&&(y.push({cell:[M,S]}),u([M,S],C.getCell(null)))}return y.length>0&&(s(),o(y)),!1}return!0},[e,n,t,o,r,s,u,l,a]),h=ee.useCallback((p,b)=>{const[y,w]=p,S=[];for(let M=0;M<b.length;M++){const C=b[M];if(M+w>=n.current.getNumRows()){if(t)break;c()}for(let x=0;x<C.length;x++){const R=C[x],I=M+w,E=x+y;if(E>=e.length)break;const L=e[E];if(L.isEditable){const z=L.getCell(R,!0);if(St(z)&&!Si(z)){const _=L.indexNumber,F=n.current.getOriginalRowIndex(r(I)),P=L.getCellValue(i([E,I]));L.getCellValue(z)!==P&&(n.current.setCell(_,F,{...z,lastUpdated:performance.now()}),S.push({cell:[E,I]}))}}}S.length>0&&(s(),o(S))}return!1},[e,n,t,r,i,c,s,o]),m=ee.useCallback((p,b)=>{const y=p[0];if(y>=e.length)return!0;const w=e[y];if(w.validateInput){const S=w.validateInput(w.getCellValue(b));return S===!0||S===!1?S:w.getCell(S)}return!0},[e]);return{onCellEdited:u,onPaste:h,onRowAppended:d,onDelete:f,validateCell:m}}const df=",",Ji='"',AC='"',ff=`
`,HC="\uFEFF",zC=new RegExp(`[${[df,Ji,ff].join("")}]`);function ac(e){return e.map(t=>$C(t)).join(df)+ff}function $C(e){if(nt(e))return"";const t=Mt(e);return zC.test(t)?`${Ji}${t.replace(new RegExp(Ji,"g"),AC+Ji)}${Ji}`:t}async function sc(e,t,n,i){const r=new TextEncoder;await e.write(r.encode(HC));const o=n.map(a=>a.name);await e.write(r.encode(ac(o)));for(let a=0;a<i;a++){const s=[];n.forEach((l,u,c)=>{s.push(l.getCellValue(t([u,a])))}),await e.write(r.encode(ac(s)))}await e.close()}function VC(e,t,n,i){return{exportToCsv:ee.useCallback(async()=>{const a=`${new Date().toISOString().slice(0,16).replace(":","-")}_export.csv`;try{const u=await(await(await Ws(()=>import("./es6.BDFw5Tp4.js").then(c=>c.a),__vite__mapDeps([14,1,2]),import.meta.url)).showSaveFilePicker({suggestedName:a,types:[{accept:{"text/csv":[".csv"]}}],excludeAcceptAllOption:!1})).createWritable();await sc(u,e,t,n)}catch(s){if(s instanceof Error&&s.name==="AbortError")return;try{kc("Failed to export data as CSV with FileSystem API, trying fallback method",s);let l="";const u=new WritableStream({write:async h=>{l+=new TextDecoder("utf-8").decode(h)},close:async()=>{}});await sc(u.getWriter(),e,t,n);const c=new Blob([l],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(c),f=Qh({enforceDownloadInNewTab:i,url:d,filename:a});f.style.display="none",document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)}catch(l){Cc("Failed to export data as CSV",l)}}},[t,n,e,i])}}function NC(e,t,n,i){return{getCellContent:ee.useCallback(([o,a])=>{var d;if(o>t.length-1)return $t("Column index out of bounds","This error should never happen. Please report this bug.");if(a>n-1)return $t("Row index out of bounds","This error should never happen. Please report this bug.");const s=t[o],l=s.indexNumber,u=i.current.getOriginalRowIndex(a),c=i.current.isAddedRow(u);if(s.isEditable||c){const f=i.current.getCell(l,u);if(St(f))return f;if(c)return $t("Error during cell creation",`This error should never happen. Please report this bug. No cell found for an added row: col=${l}; row=${u}`)}try{const f=e.getCell(u,l),h=Nh(e,u,l);return Mb(s,f,h,(d=e.styler)==null?void 0:d.cssStyles)}catch(f){return $t("Error during cell creation",`This error should never happen. Please report this bug. 
Error: ${f}`)}},[t,n,e,i])}}function BC(e){const[t,n]=ee.useState(void 0),i=ee.useCallback(o=>{if(o.kind!=="cell")n(void 0);else{const[,a]=o.location;n(a)}},[n]);return{getRowThemeOverride:ee.useCallback(o=>{if(o===t)return{bgCell:e.bgRowHovered,bgCellMedium:e.bgRowHovered}},[e.bgRowHovered,t]),onItemHovered:i}}function WC(e,t,n,i,r){const[o,a]=ee.useState({columns:wt.empty(),rows:wt.empty(),current:void 0}),s=!t&&!n&&(e.selectionMode.includes(Yn.SelectionMode.MULTI_ROW)||e.selectionMode.includes(Yn.SelectionMode.SINGLE_ROW)),l=s&&e.selectionMode.includes(Yn.SelectionMode.MULTI_ROW),u=!t&&!n&&(e.selectionMode.includes(Yn.SelectionMode.SINGLE_COLUMN)||e.selectionMode.includes(Yn.SelectionMode.MULTI_COLUMN)),c=u&&e.selectionMode.includes(Yn.SelectionMode.MULTI_COLUMN),d=o.rows.length>0,f=o.columns.length>0,h=o.current!==void 0,m=ee.useCallback(b=>{const y=!as(b.rows.toArray(),o.rows.toArray()),w=!as(b.columns.toArray(),o.columns.toArray()),S=!as(b.current,o.current);let M=s&&y||u&&w,C=b;if((s||u)&&b.current!==void 0&&S&&(C={...b,rows:o.rows,columns:o.columns},M=!1),y&&b.rows.length>0&&w&&b.columns.length===0&&(C={...C,columns:o.columns},M=!0),w&&b.columns.length>0&&y&&b.rows.length===0&&(C={...C,rows:o.rows},M=!0),w&&C.columns.length>=0){let x=C.columns;i.forEach((R,I)=>{R.isIndex&&(x=x.remove(I))}),x.length<C.columns.length&&(C={...C,columns:x})}a(C),M&&r(C)},[o,s,u,r,i]),p=ee.useCallback((b=!1,y=!1)=>{const w={columns:y?o.columns:wt.empty(),rows:b?o.rows:wt.empty(),current:void 0};a(w),(!b&&s||!y&&u)&&r(w)},[o,s,u,r]);return{gridSelection:o,isRowSelectionActivated:s,isMultiRowSelectionActivated:l,isColumnSelectionActivated:u,isMultiColumnSelectionActivated:c,isRowSelected:d,isColumnSelected:f,isCellSelected:h,clearSelection:p,processSelectionChange:m}}function UC(e,t,n,i,r,o,a){const s=t.defaultRowHeight,l=t.defaultHeaderHeight+s+2*t.tableBorderWidth,u=i?2:1,c=e.editingMode===Yn.EditingMode.DYNAMIC?1:0,d=n+c;let f=Math.max(d*s+u*t.defaultHeaderHeight+2*t.tableBorderWidth,l),h=Math.min(f,t.defaultTableHeight);e.height&&(h=Math.max(e.height,l),f=Math.max(e.height,f)),o&&(h=Math.min(h,o),f=Math.min(f,o),e.height||(h=f));const m=t.minColumnWidth+2*t.tableBorderWidth,p=Math.max(r,m);let b,y=p;e.useContainerWidth?b=p:e.width&&(b=Math.min(Math.max(e.width,m),p),y=Math.min(Math.max(e.width,y),p));const[w,S]=ee.useState({width:b||"100%",height:h});return ee.useLayoutEffect(()=>{e.useContainerWidth&&w.width==="100%"&&S(M=>({...M,width:p}))},[p]),ee.useLayoutEffect(()=>{S(M=>({...M,width:b||"100%"}))},[b]),ee.useLayoutEffect(()=>{S(M=>({...M,height:h}))},[h,n]),ee.useLayoutEffect(()=>{if(a){const M=e.useContainerWidth||St(e.width)&&e.width>0;S({width:M?y:"100%",height:f})}else S({width:b||"100%",height:h})},[a]),{minHeight:l,maxHeight:f,minWidth:m,maxWidth:y,rowHeight:s,resizableSize:w,setResizableSize:S}}const XC=600,YC="⚠️ Please fill out this cell.";function GC(e,t,n=[]){const[i,r]=ee.useState(),o=ee.useRef(null),a=ee.useCallback(l=>{if(clearTimeout(o.current),o.current=0,r(void 0),(l.kind==="header"||l.kind==="cell")&&l.location){const u=l.location[0],c=l.location[1];let d;if(u<0||u>=e.length||n.includes(c))return;const f=e[u];if(l.kind==="header"&&St(f))d=f.help;else if(l.kind==="cell"){const h=t([u,c]);Si(h)?d=h.errorDetails:f.isRequired&&f.isEditable&&Aa(h)?d=YC:j1(h)&&(d=h.tooltip)}d&&(o.current=setTimeout(()=>{d&&r({content:d,left:l.bounds.x+l.bounds.width/2,top:l.bounds.y})},XC))}},[e,t,r,o,n]),s=ee.useCallback(()=>{r(void 0)},[r]);return{tooltip:i,clearTooltip:s,onItemHovered:a}}function jC({top:e,left:t,content:n,clearTooltip:i}){const[r,o]=ee.useState(!0),a=Da(),{colors:s,fontSizes:l,radii:u,fontWeights:c}=a,d=ee.useCallback(()=>{o(!1),i()},[i,o]);return Qt(pc,{content:Qt(Bh,{"data-testid":"stDataFrameTooltipContent",children:Qt(Wh,{style:{fontSize:l.sm},source:n,allowHTML:!1})}),placement:hc.top,accessibilityType:gc.tooltip,showArrow:!1,popoverMargin:5,onClickOutside:d,onEsc:d,overrides:{Body:{style:{borderTopLeftRadius:u.default,borderTopRightRadius:u.default,borderBottomLeftRadius:u.default,borderBottomRightRadius:u.default,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"transparent"}},Inner:{style:{backgroundColor:mc(a)?s.bgColor:s.secondaryBg,color:s.bodyText,fontSize:l.sm,fontWeight:c.normal,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important"}}},isOpen:r,children:Qt("div",{"data-testid":"stDataFrameTooltipTarget",style:{position:"fixed",top:e,left:t}})})}const lc=150,qC=15e4,oa=6;function KC({element:e,data:t,disabled:n,widgetMgr:i,disableFullscreenMode:r,fragmentId:o}){const{expanded:a,expand:s,collapse:l,width:u,height:c}=jh(qh),d=ee.useRef(null),f=ee.useRef(null),h=ee.useRef(null),m=LC(),{getRowThemeOverride:p,onItemHovered:b}=BC(m),{libConfig:{enforceDownloadInNewTab:y=!1}}=ee.useContext(Uh),[w,S]=ee.useState(!0),[M,C]=ee.useState(!1),[x,R]=ee.useState(!1),[I,E]=ee.useState(!1),[L,z]=ee.useState(),_=ee.useMemo(()=>window.matchMedia&&window.matchMedia("(pointer: coarse)").matches,[]),F=ee.useMemo(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")||window.navigator.userAgent.includes("Chrome"),[]);nt(e.editingMode)&&(e.editingMode=Yn.EditingMode.READ_ONLY);const{READ_ONLY:P,DYNAMIC:ne}=Yn.EditingMode,J=t.dimensions,oe=Math.max(0,J.numDataRows),ce=oe===0&&!(e.editingMode===ne&&J.numDataColumns>0),ke=oe>qC,ae=!ke&&!ce&&e.editingMode!==ne,K=!ce&&e.editingMode===ne&&!n,ie=ee.useRef(new ea(oe)),[re,ge]=ee.useState(ie.current.getNumRows());ee.useEffect(()=>{ie.current=new ea(oe),ge(ie.current.getNumRows())},[oe]);const ye=ee.useCallback(()=>{ie.current=new ea(oe),ge(ie.current.getNumRows())},[oe]),[G,O]=ee.useState(e.columnOrder),{columns:k,setColumnConfigMapping:N}=Db(e,t,n,G);ee.useEffect(()=>{if(e.editingMode===P)return;const de=i.getStringValue({id:e.id,formId:e.formId});de&&(ie.current.fromJson(de,k),ge(ie.current.getNumRows()))},[]);const{getCellContent:ue}=NC(t,k,re,ie),{columns:fe,sortColumn:$e,getOriginalIndex:me,getCellContent:Ge}=$b(oe,k,ue),Me=ee.useCallback(de=>{const Ne={selection:{rows:[],columns:[]}};Ne.selection.rows=de.rows.toArray().map(ln=>me(ln)),Ne.selection.columns=de.columns.toArray().map(ln=>oo(fe[ln]));const Zt=JSON.stringify(Ne),In=i.getStringValue({id:e.id,formId:e.formId});(In===void 0||In!==Zt)&&i.setStringValue({id:e.id,formId:e.formId},Zt,{fromUi:!0},o)},[fe,e.id,e.formId,i,o,me]),{debouncedCallback:_t}=Eu(Me,lc),{gridSelection:Rt,isRowSelectionActivated:et,isMultiRowSelectionActivated:te,isColumnSelectionActivated:je,isMultiColumnSelectionActivated:ve,isRowSelected:se,isColumnSelected:pe,isCellSelected:Ve,clearSelection:Oe,processSelectionChange:rt}=WC(e,ce,n,fe,_t);ee.useEffect(()=>{Oe(!0,!0)},[a]);const he=ee.useCallback(de=>{var Ne;(Ne=f.current)==null||Ne.updateCells(de)},[]);ee.useEffect(()=>{var Ne,Zt,In,ln;if(!et&&!je)return;const de=i.getStringValue({id:e.id,formId:e.formId});if(de){const A=fe.map(un=>oo(un)),Ke=JSON.parse(de);let ze=wt.empty(),Pt=wt.empty();(Zt=(Ne=Ke.selection)==null?void 0:Ne.rows)==null||Zt.forEach(un=>{ze=ze.add(un)}),(ln=(In=Ke.selection)==null?void 0:In.columns)==null||ln.forEach(un=>{Pt=Pt.add(A.indexOf(un))}),(ze.length>0||Pt.length>0)&&rt({rows:ze,columns:Pt,current:void 0})}},[]);const Ee=ee.useCallback(()=>{re!==ie.current.getNumRows()&&ge(ie.current.getNumRows())},[re]),lt=ee.useCallback(()=>{const de=ie.current.toJson(fe);let Ne=i.getStringValue({id:e.id,formId:e.formId});Ne===void 0&&(Ne=new ea(0).toJson([])),de!==Ne&&i.setStringValue({id:e.id,formId:e.formId},de,{fromUi:!0},o)},[fe,e.id,e.formId,i,o]),{debouncedCallback:Ae}=Eu(lt,lc),{exportToCsv:it}=VC(Ge,fe,re,y),{onCellEdited:bt,onPaste:gt,onRowAppended:He,onDelete:Dt,validateCell:Gt}=FC(fe,e.editingMode!==ne,ie,Ge,me,he,Ee,Ae,Oe),{tooltip:vt,clearTooltip:Et,onItemHovered:Kt}=GC(fe,Ge,K?[re]:[]),{drawCell:At,customRenderers:Rn}=_C(fe),Vt=g.useCallback(de=>({...de,hasMenu:!ce}),[ce]),It=ee.useMemo(()=>fe.map(de=>Vt(zs(de))),[fe,Vt]),{columns:En,onColumnResize:Cn}=_b(It),Pe=t.dimensions.numHeaderRows>1,{minHeight:Ht,maxHeight:hn,minWidth:pn,maxWidth:vn,rowHeight:ot,resizableSize:Nt,setResizableSize:Lt}=UC(e,m,re,Pe,u,c,a),on=ee.useCallback(([de,Ne])=>({...q1(!0,!1),displayData:"empty",contentAlign:"center",allowOverlay:!1,themeOverride:{textDark:m.glideTheme.textLight},span:[0,Math.max(fe.length-1,0)]}),[fe,m.glideTheme.textLight]),Ot=ee.useCallback(()=>{ye(),Oe()},[ye,Oe]);Yh({element:e,widgetMgr:i,onFormCleared:Ot});const{pinColumn:zt,unpinColumn:qe,freezeColumns:Bt}=Ob(fe,ce,u,m.minColumnWidth,Oe,N),{onColumnMoved:Wt}=Pb(fe,Bt,zt,qe,O);return ee.useEffect(()=>{setTimeout(()=>{var de,Ne;if(h.current&&f.current){const Zt=(Ne=(de=h.current)==null?void 0:de.querySelector(".dvn-stack"))==null?void 0:Ne.getBoundingClientRect();Zt&&(R(Zt.height>h.current.clientHeight),E(Zt.width>h.current.clientWidth))}},1)},[Nt,re,En]),Hr(Iu,{className:"stDataFrame","data-testid":"stDataFrame",hasCustomizedScrollbars:F,ref:h,onMouseDown:de=>{if(h.current&&F){const Ne=h.current.getBoundingClientRect();I&&Ne.height-(oa+1)<de.clientY-Ne.top&&de.stopPropagation(),x&&Ne.width-(oa+1)<de.clientX-Ne.left&&de.stopPropagation()}},onBlur:de=>{!w&&!_&&!de.currentTarget.contains(de.relatedTarget)&&Oe(!0,!0)},children:[Hr(Kh,{isFullScreen:a,disableFullscreenMode:r,locked:se&&!et||Ve||_&&w,onExpand:s,onCollapse:l,target:Iu,children:[(et&&se||je&&pe)&&Qt(Wi,{label:"Clear selection",icon:eg,onClick:()=>{Oe(),Et()}}),K&&se&&Qt(Wi,{label:"Delete row(s)",icon:og,onClick:()=>{Dt&&(Dt(Rt),Et())}}),K&&!se&&Qt(Wi,{label:"Add row",icon:Mc,onClick:()=>{He&&(S(!0),He(),Et())}}),!ke&&!ce&&Qt(Wi,{label:"Download as CSV",icon:ag,onClick:()=>it()}),!ce&&Qt(Wi,{label:"Search",icon:Rc,onClick:()=>{M?C(!1):(S(!0),C(!0)),Et()}})]}),Qt(Xh,{"data-testid":"stDataFrameResizable",ref:d,defaultSize:Nt,style:{border:`${m.tableBorderWidth}px solid ${m.glideTheme.borderColor}`,borderRadius:`${m.tableBorderRadius}`},minHeight:Ht,maxHeight:hn,minWidth:pn,maxWidth:vn,size:Nt,enable:{top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!0,bottomLeft:!1,topLeft:!1},grid:[1,ot],snapGap:ot/3,onResizeStop:(de,Ne,Zt,In)=>{if(d.current){const ln=2*m.tableBorderWidth;Lt({width:d.current.size.width,height:hn-d.current.size.height===ln?d.current.size.height+ln:d.current.size.height})}},children:Qt(V1,{className:"stDataFrameGlideDataEditor","data-testid":"stDataFrameGlideDataEditor",ref:f,columns:En,rows:ce?1:re,minColumnWidth:m.minColumnWidth,maxColumnWidth:m.maxColumnWidth,maxColumnAutoWidth:m.maxColumnAutoWidth,rowHeight:ot,headerHeight:m.defaultHeaderHeight,getCellContent:ce?on:Ge,onColumnResize:_?void 0:Cn,resizeIndicator:"header",freezeColumns:Bt,smoothScrollX:!0,smoothScrollY:!0,verticalBorder:!0,getCellsForSelection:!0,rowMarkers:"none",rangeSelect:_?"cell":"rect",columnSelect:"none",rowSelect:"none",onColumnMoved:je?void 0:Wt,onItemHovered:de=>{b==null||b(de),Kt==null||Kt(de)},keybindings:{downFill:!0},onKeyDown:de=>{(de.ctrlKey||de.metaKey)&&de.key==="f"&&(C(Ne=>!Ne),de.stopPropagation(),de.preventDefault())},showSearch:M,onSearchClose:()=>{C(!1),Et()},onHeaderClicked:(de,Ne)=>{!ae||je||(et&&se?Oe():Oe(!0,!0),$e(de,"auto"))},gridSelection:Rt,onGridSelectionChange:de=>{(w||_)&&(rt(de),vt!==void 0&&Et())},theme:m.glideTheme,getRowThemeOverride:p,onMouseMove:de=>{de.kind==="out-of-bounds"&&w?S(!1):de.kind!=="out-of-bounds"&&!w&&S(!0)},fixedShadowX:!0,fixedShadowY:!0,experimental:{scrollbarWidthOverride:0,...F&&{paddingBottom:I?-oa:void 0,paddingRight:x?-oa:void 0}},drawCell:At,customRenderers:Rn,imageEditorOverride:rb,headerIcons:m.headerIcons,validateCell:Gt,onHeaderMenuClick:(de,Ne)=>{z({columnIdx:de,headerBounds:Ne})},onPaste:!1,...et&&{rowMarkers:{kind:"checkbox",checkboxStyle:"square",theme:{bgCell:m.glideTheme.bgHeader,bgCellMedium:m.glideTheme.bgHeader}},rowSelectionMode:te?"multi":"auto",rowSelect:n?"none":te?"multi":"single",rowSelectionBlending:"mixed",rangeSelectionBlending:"exclusive"},...je&&{columnSelect:n?"none":ve?"multi":"single",columnSelectionBlending:"mixed",rangeSelectionBlending:"exclusive"},...!ce&&e.editingMode!==P&&!n&&{fillHandle:!_,onCellEdited:bt,onPaste:gt,onDelete:Dt},...!ce&&e.editingMode===ne&&{trailingRowOptions:{sticky:!1,tint:!0},rowMarkers:{kind:"checkbox",checkboxStyle:"square",theme:{bgCell:m.glideTheme.bgHeader,bgCellMedium:m.glideTheme.bgHeader}},rowSelectionMode:"multi",rowSelect:n?"none":"multi",onRowAppended:n?void 0:He,onHeaderClicked:void 0}})}),vt&&vt.content&&Qt(jC,{top:vt.top,left:vt.left,content:vt.content,clearTooltip:Et}),L&&Sc.createPortal(Qt(U1,{top:L.headerBounds.y+L.headerBounds.height,left:L.headerBounds.x+L.headerBounds.width,onCloseMenu:()=>z(void 0),onSortColumn:ae?de=>{Oe(!0,!0),$e(L.columnIdx,de,!0)}:void 0,isColumnPinned:k[L.columnIdx].isPinned,onUnpinColumn:()=>{qe(k[L.columnIdx].id)},onPinColumn:()=>{zt(k[L.columnIdx].id)}}),document.querySelector("#portal"))]})}const ZC=Gh(KC),cS=Object.freeze(Object.defineProperty({__proto__:null,default:ZC},Symbol.toStringTag,{value:"Module"}));export{mv as C,od as T,wi as a,vg as b,cS as c,vi as i,xp as m,mn as s};
